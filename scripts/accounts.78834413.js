"use strict";function getSimulatedLiveData(){var a;if(refreshCounter++,refreshCounter>2)return a=[{columnId:"2OA",studentId:"37746833",emaScoreValue:.8,numRelevantLevels:4},{columnId:"3NBT",studentId:"37746833",emaScoreValue:.8,numRelevantLevels:4},{studentId:"37746833",dayAsInt:20140926,levelNum:0,appContext:"Hungry Fish",levelResultType:"won",operationType:"addition",columnId:"lastlevel"},{columnId:"4NBT",studentId:"37746833",emaScoreValue:.8,numRelevantLevels:4},{columnId:"2NBT",studentId:"37746833",emaScoreValue:.8,numRelevantLevels:4}]}angular.module("accountsWebApp",["templates-accounts","templates-shared","ngSanitize","ngRoute","ipCookie","controllers.account.teacherDashboard","controllers.account.main","controllers.account.subscription","controllers.account.deviceLogin","controllers.account.visualPassword","controllers.account.signinCtrl","controllers.account.logout","controllers.accounts.redirect","controllers.accounts.accountCreate","controllers.accounts.signup","controllers.accounts.validateEmail","controllers.accounts.resetPassword","controllers.accounts.acceptAdminCreatedAccount","controllers.accounts.settings","controllers.accounts.roster","controllers.accounts.modals","controllers.accounts.adminView","controllers.accounts.access","controllers.accounts.nps","controllers.accounts.motionMathEndNotification","controllers.accounts.payment","controllers.accounts.playtime","controllers.accounts.setup","controllers.accounts.callback","controllers.accounts.abTest","controllers.accounts.folTeacherSurvey","controllers.accounts.updateRosters","controllers.accounts.parentRoster","controllers.accounts.parentPayment","controllers.accounts.parentPaymentDetails","controllers.accounts.parentSetup","controllers.accounts.parentProgress","controllers.accounts.parentSubNotification","controllers.accounts.parentValidate","controllers.accounts.deviceNonParent","controllers.accounts.gamesTab","controllers.iready","controllers.printRoster","controllers.getQuote","controllers.studentsView","directives.institutionSearch","directives.numberSelect","directives.forRosters","directives.userSettingsMenu","directives.mmPopover","directives.mmDropdown","directives.dropdownMenu","directives.rosterDropdown","directives.schoolDropdown","directives.zpcChart","directives.motivationParameterScale","directives.roster","directives.dashboard","directives.playtime","directives.playtimeAverageForRoster","directives.factorsOfLearning","directives.loadingAnimation","directives.parentRoster","directives.getQuote","directives.displayStudent","directives.indexPage","services.appConfiguration","services.accountsAPI","services.authorization","services.accounts.teacherDashboard","service.account.teacher","service.account.prospect","services.accounts.abTests","services.emailService","services.demoService","services.teacherAPI","services.searchAPI","service.roster","service.utils","services.standards","services.games","services.folContent","services.customerIOService","services.googleAnalyticsService","services.httpConfig","services.visualPasswordAPI","services.constants","services.dayAsIntService","services.messageBarSrvc","services.accounts.teachersData","service.zpcCategoryChartManager","services.accounts.parentSubscription","services.mpactCommand","services.iReadyAPI","services.iReadyService","services.iReadyData","services.urlService","filters.orderByStandard","filters.truncate","ui.bootstrap","ui.mask","ngTable","ngLodash","ng-currency","validation.match","stripe.checkout","ngRetina","ng-fastclick","angular-stripe"]).config(["$routeProvider","StripeCheckoutProvider",function(a,b){a.when("/signin",{resolve:{isLoggedOut:["configuration",function(a){window.location.href=a.iReadyLoginUrl}]}}).when("/logout",{template:"",controller:"LogoutCtrl"}).when("/account/:template",{redirectTo:"/iready"}).when("/iready",{resolve:{constants:["$location",function(a){var b=a.$$search.view?a.$$search.view:"playtime";a.path("/iready/dashboard/"+b)}]}}).when("/iready/dashboard/:template",{templateUrl:"/views/accounts/iready/index.html",controller:"IReadyCtrl",resolve:{initiated:["iReadyService",function(a){return a.init()}]}}).otherwise({template:"",controller:"RedirectCtrl",resolve:{constants:["$location","authorization",function(a,b){b.checkLoggedIn(),a.path("/iready")}]}})}]),angular.module("controllers.accounts.callback",[]).controller("AccountsCallbackCtrl",["$scope","$routeParams","$location","accountsAPI","TEACHER","$window","$http","ipCookie","authorization","googleAnalytics",function(a,b,c,d,e,f,g,h,i,j){function k(){switch(b.provider){case"g":return"google";case"motionmath":return"motionmath";default:return"edmodo"}}if(a.goToLogin=function(){i.goToLogin()},a.goToPath=function(b){a.deviceSignup&&c.search("fromDevice","true"),c.path(b)},a.doDeviceRedirect=function(){var a=k();window.location="redirecturl.html?provider="+a+"&code="+b.code},window.parent.location.href&&window.parent.location.href.indexOf("/signup")>-1)return void(window.parent.location.href=c.absUrl());var l=b.state;if(l&&l.endsWith("|deviceSignup")&&(a.deviceSignup=!0,l=l.replace("|deviceSignup","")),b.error)return void("device"==c.search().state?a.goToPath("/devicelogin"):a.deviceSignup?a.goToPath("/signup"):a.goToPath("/account"));if("device"==c.search().state)a.doDeviceRedirect();else{a.code=b.code;var m=k();i.setProviderCookie(m),j.sendEvent("login",m),j.sendPageview("/loginFrom"+k()+".html"),d.teacherLogin(m,b.code,l,b.trace).then(function(b){j.sendPageview("/signInFromProvider.html"),h("FROM_SIGNUP_PAGE")===!0&&j.sendPageview("/signInFromProviderFromSignupPage.html"),e.initialize().then(function(){j.setUserId(e.getUser().id),a.deviceSignup&&e.getClientData().isSignupComplete?a.doDeviceRedirect():a.goToPath("/account")})})["catch"](function(b){a.error=!0,a.errorCode=b.status})}}]),angular.module("controllers.account.teacherDashboard",[]).controller("AccountTeacherDashboardCtrl",["$scope","TEACHER",function(a,b){a.teacherId=b.getUser().id}]),angular.module("controllers.account.main",[]).controller("MainCtrl",["authorization","$routeParams","$scope","mmConstants","TEACHER","configuration","messageBarSrvc","$window","$location","customerIO","googleAnalytics","dayAsInt","lodash","utils","roster",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){c.$on("$viewContentLoaded",function(){k.sendPageview(i.path()),c.inAdminMode||(j.identify(),j.pageView(b.template),h.optimizely=h.optimizely||[],h.optimizely.push(["activate"]))});var p=!1;c.isLoading=function(){return p},c.goTo=function(a,b){p=!0,setTimeout(function(){p=!1,i.path(a),m.forEach(b,function(a,b){i.search(b,a)}),c.$apply()},300)},c.clientData=e.getClientData(),c.myTeacherId=e.getId(),c.teacherId=e.getId(),c.inAdminMode=a.isLoggedInAdmin(),c.hasSuperpowers=a.isLoggedInAdmin()&&"true"===i.search().superpowers,c.isLoggedInAsMMUser=!0,c.environment=f.environment,c.statusTemplate={url:"/views/shared/partials/status-banner.html"},c.navTemplates={signUp:"/views/accounts/partials/signupNavBar.html",yourAccount:"/views/accounts/partials/yourAccount.html"};var q={access:"/views/accounts/access.html",account:"/views/accounts/subscription.html",adminView:"/views/accounts/adminView.html",dashboard:"/views/accounts/dashboardTab.html",deviceNonParent:"/views/accounts/deviceNonParent.html",factorsOfLearning:"/views/accounts/factorsOfLearningTab.html",games:"/views/accounts/games.html",printRoster:"/views/accounts/printRoster.html",mobileLanding:"/views/accounts/mobileLanding.html",noIPads:"/views/accounts/noIPads.html",parentRoster:"/views/accounts/parentRoster.html",parentPayment:"/views/accounts/parentPayment.html",parentPaymentDetails:"/views/accounts/parentPaymentDetails.html",progress:"/views/accounts/parentProgressTab.html",parentSetup:"/views/accounts/parentSetup.html",playtime:"/views/accounts/playtimeTab.html",roster:"/views/accounts/rosterTab.html",settings:"/views/accounts/settings.html",setup:"/views/accounts/setup.html",studentData:"/views/accounts/studentData.html",unsupportedCountry:"/views/accounts/unsupportedCountry.html",updateRosters:"/views/accounts/updateRosters.html"};c.selectedTemplate=b.template,c.selectedTab=b.tab;var r=["mobileLanding","setup"];c.hideMenuXs=m.includes(r,c.selectedTemplate),c.template={url:q[c.selectedTemplate]},c.isUserSignupComplete=e.isSignupComplete,c.isBuyingForSchool=e.isBuyingForSchool,c.isBuyingForDistrict=e.isBuyingForDistrict,c.hasAtLeastUnverifiedRights=e.hasAtLeastUnverifiedRights,c.isParentGuardian=e.isParentGuardian,c.hasAtLeastViewRights=e.hasAtLeastViewRights,g.init(),c.messageBarTemplate=g.getShownTemplate,c.canUpgrade=function(){var a=e.getActiveSubscription()||{},b=e.isParentGuardian();return("trial"==a.plan&&e.hasStartedTrial()||a.expirationDay&&l.isPast(a.expirationDay))&&!b},c.trialStarted=e.hasStartedTrial,h.onbeforeunload=function(a){var b={};c.$broadcast("onBeforeUnload",b);return b.message},c.grades={},c.studentsNumber={},o.fetchRosters(e.getId(),!1).then(function(){var a=o.getAllRosters(e.getId());m.forOwn(a,function(a,b){c.grades[b]=a.gradeLevel,c.studentsNumber[b]=o.getStudentIds(e.getId(),b).length})})}]),angular.module("controllers.accounts.redirect",[]).controller("RedirectCtrl",["TEACHER","PROSPECT","$location","$rootScope","authorization","configuration","$window","mmConstants",function(a,b,c,d,e,f,g,h){a.isInitialized()?"Parent"!=a.getRole()||e.isLoggedInAdmin()&&"true"===c.search().superpowers?a.isSignupComplete()?a.hasStartedTrial()?screen.width<768?c.path("/account/mobileLanding"):e.getReturnURL()?(g.location=e.getReturnURL(),e.setReturnURL(null)):a.hasAtLeastUnverifiedRights()?c.path("/account/adminView").search("tab","playtime"):a.isParentGuardian()?c.path("/account/progress"):c.path("/account/playtime"):c.path("/account/setup"):c.path("/account/settings"):g.location=f.wwwServerUrl+"/parents-congrats":e.isLoggedIn()?a.initialize(!0):e.goToLogin()}]),angular.module("controllers.accounts.settings",[]).controller("SettingsCtrl",["$scope","$location","TEACHER","mmConstants","$q","configuration","lodash","dayAsInt","$window","games","customerIO","accountsAPI","$modal","authorization","$timeout","roster","utils","Stripe","parentSubscription",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(){return a.startedCoTeacher?(delete a.coTeacherError,delete a.coTeacherSaved,l.addCoTeacher("me",a.coTeacher).success(function(){a.coTeacherSaved=!0,a.startedCoTeacher=!1}).error(function(b){"Email is already in use"===b?a.coTeacherError="This email address is already in use. Please try a different email address.":a.coTeacherError="Something went wrong and we weren't able to link your rosters. Please email support@motionmathgames.com."})):e.when()}function u(b){b.studentPasswords="off",b.standards="Other",b.fromIos=a.deviceSignup}function v(){"Classroom teacher"==a.settings.role&&["Preschool","Pre-K","K","1"].indexOf(a.settings.gradeLevel)>-1?a.settings.studentPasswords="off":a.settings.studentPasswords="picturePasswords"}function w(){g.includes(d.districtRoles,a.settings.role)?a.institutionType="district":a.institutionType="school"}function x(){if(g.includes(a.nonInstitutionRoles,a.settings.role)&&(a.institution={type:"school",schoolName:a.settings.role,schoolId:"noInstitution-"+a.user.emails[0]}),c.getInstitution()){var b=e.defer();return b.resolve(),b.promise}return c.saveInstitution(a.institution)}function y(b,c){!z.isSignupComplete||angular.equals(a.settings,z.settings)&&!a.isEditingRoster||(angular.equals(c,{})?c.message="Your settings will not be saved.":confirm("Are you sure you want to leave? Your settings will not be saved.")||b.preventDefault())}a.deviceSignup="true"===b.search().fromDevice,a.inAdminMode=n.isLoggedInAdmin(),a.roleOptions=d.teacherRoles,a.gradeLevels=d.gradeLevels,a.nonInstitutionRoles=d.nonInstitutionRoles,a.parentAccessCodeSuffix=d.parentAccessCodeSuffix,a.platinum=d.platinum,a.iosParent=q.iosParentPlan,a.games=g.values(j),a.standardsOptions=[{label:"Common Core",value:"CommonCore"},{label:"TEKS (Texas)",value:"TEKS"},{label:"Other",value:"Other"}],a.implementationOptions=[{label:"Every student has their own iPad (1:1)",value:"1:1"},{label:"Shared class iPad carts",value:"Cart(s)"},{label:"Students bring their own devices (BYOD)",value:"BYOD"},{label:"A few iPads",value:"Mixed"},{label:"No iPads",value:"No iPads"}],a.installerOptions=[{label:"I will do it",value:"teacher"},{label:"A colleague will do it",value:"colleague"},{label:"Students will do it themselves",value:"students"}],a.studentPasswordOptions=[{label:"Yes, with picture passwords",value:"picturePasswords"},{label:"No thank you",value:"off"}],a.countryList=["United States","Afghanistan","Åland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua And Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia, Plurinational State Of","Bonaire, Sint Eustatius And Saba","Bosnia And Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (keeling) Islands","Colombia","Comoros","Congo","Congo, The Democratic Republic Of The","Cook Islands","Costa Rica","Côte D'ivoire","Crimea","Croatia","Cuba","Curaçao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-bissau","Guyana","Haiti","Heard Island And Mcdonald Islands","Holy See (vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle Of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People's Republic Of","Korea, Republic Of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, The Former Yugoslav Republic Of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States Of","Moldova, Republic Of","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine, State Of","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Réunion","Romania","Russian Federation","Rwanda","Saint Barthélemy","Saint Helena, Ascension And Tristan Da Cunha","Saint Kitts And Nevis","Saint Lucia","Saint Martin (french Part)","Saint Pierre And Miquelon","Saint Vincent And The Grenadines","Samoa","San Marino","Sao Tome And Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (dutch Part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia And The South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard And Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province Of China","Tajikistan","Tanzania, United Republic Of","Thailand","Timor-leste","Togo","Tokelau","Tonga","Trinidad And Tobago","Tunisia","Turkey","Turkmenistan","Turks And Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela, Bolivarian Republic Of","Viet Nam","Virgin Islands, British","Virgin Islands, U.s.","Wallis And Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"];var z,A=["Austria","Belgium","Bulgaria","Canada","Crimea","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iran","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Korea, Democratic People's Republic Of","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sudan","Sweden","Syrian Arab Republic","United Kingdom"];a.initializeUser=function(){if(a.user=c.getUser(),a.card=c.getCard(),a.subscription=c.getActiveSubscription(),a.expirationDate=c.getActiveSubscriptionExpirationDate,z=c.getClientData(),a.loginCode=z.loginCode,a.settings=angular.copy(z.settings||{}),a.settings.country=a.settings.country||"United States",!a.settings.isSignupComplete){var e=q.minTimeZoneOffsetHours(),h=g.find(d.timezones,function(a){return a.value==e});h&&(a.settings.timezone=h)}if(a.settings.iPadImplementation||(a.settings.iPadImplementation="No iPads"),l.getCoTeachers("me").then(function(b){a.coTeacher=g.get(b,0)}),!a.settings.mmFirstName){a.settings.mmFirstName=a.user.firstName;var i=a.user.emails[0],j=i.substring(0,i.lastIndexOf("@"));a.user.firstName&&""!=a.user.firstName&&j!=a.user.firstName||(a.settings.mmFirstName="",a.showFirstName=!0)}a.settings.mmLastName||(a.settings.mmLastName=a.user.lastName,a.user.lastName&&""!=a.user.lastName||(a.showLastName=!0)),a.salutationName=a.settings.mmFirstName||a.user.firstName,a.deviceSignup&&l.getLegitimateBuildNumbers().then(function(c){var e=!1;g.isString(b.search().buildNumber)&&g.includes(c.legitimateBuildNumbers,b.search().buildNumber)&&(e=!0);var f=g.filter(d.parentSubscriptionHosts,function(b){return a.user.emails[0].includes("@"+b+".")});(!e||f&&f.length>0)&&(a.roleOptions=g.filter(a.roleOptions,function(a){return a.includes("Parent")||a.includes("parent")}))}),z.institution||(a.showInstitution=!0),void 0===a.settings.standards&&(a.settings.standards=a.standardsOptions[0]),a.isParentMigrated=a.settings.parentMigrated||!1,a.isParentMigrated&&(a.settings.role=q.parentGuardian),!z.isSignupComplete&&g.get(z,"setup.adminCreated")&&(z.isSignupComplete=!0,c.updateSettings(z.settings,!0),b.path("/account")),a.institution={},w(),a.clearDevicesView={button:z.deviceArray&&z.deviceArray.length>0},a.showDataSyncVersion="production"!=f.environment,a.showDataSyncVersion&&a.subscription&&(a.settingsVersion=z.settingsVersion,a.rosterVersion=z.rosterVersion,a.subscriptionVersion="trial"==a.subscription.plan?"t":g.get(a.subscription,"subscriptionVersion","0"))},a.initializeUser(),a.reinitializeUser=function(){c.uninitialize(),c.initialize(!1).then(a.initializeUser)},a.isAdmin=function(){return d.adminRoles.indexOf(a.settings.role)>-1},a.isEducator=function(){return!a.isParent(a.settings.role)},a.isParent=c.isParentGuardian,a.isCAPilotUser=c.isCAPilotUser,a.roleUpdated=function(){w()},a.gradeLevelUpdated=function(){g.includes(["Preschool","Pre-K","K"],a.settings.gradeLevel)&&(a.settings.studentPasswords="off")},a.isExpired=function(){return g.get(a.subscription,"expirationDay",h.nextYearAsInt())<h.todayAsInt()},a.isCancelled=function(){return a.subscription&&"cancelled"===a.subscription.stripeSubscriptionState},a.goNext=function(d){z.isSignupComplete||v(),t().then(function(){if(a.showNextButton=!1,!z.isSignupComplete&&a.settings.gradeLevel){var d=a.settings.games;g.forEach(j,function(b,c){d[c].isGameEnabled=!g.includes(b.excludedGrades,a.settings.gradeLevel)})}!z.settings||z.settings.mmFirstName===a.settings.mmFirstName&&z.settings.mmLastName===a.settings.mmLastName||z.settings.mmFirstName!==a.settings.mmFirstName&&c.initializeName(a.settings.mmFirstName),c.isParentGuardian(a.settings.role)&&u(a.settings),a.settings.initialCountry||(null==localStorage.getItem("initialCountry")?(a.settings.initialCountry=a.settings.country,localStorage.setItem("initialCountry",a.settings.country)):a.settings.initialCountry=localStorage.getItem("initialCountry")),z.settings=angular.copy(a.settings),c.updateSettings(z.settings,z.isSignupComplete).then(x).then(function(){z.isSignupComplete||(g.includes(A,a.settings.country)?b.path("/account/unsupportedCountry"):a.deviceSignup&&!c.isParentGuardian(a.settings.role)?l.validateEmailOnly(a.user.emails[0]).then(function(){b.path("/account/deviceNonParent")}):c.isParentGuardian(a.settings.role)?b.path("/account/parentRoster"):(z.isSignupComplete=!0,c.updateSettings(z.settings,!0).then(function(){b.path("/account/setup")})))})})},a.editPaymentDetails=function(){a.handler.open({name:"Payment Details",description:"",zipCode:!0,panelLabel:"Enter",allowRememberMe:!1,email:a.user.caseSensitiveEmail})},a.handler=StripeCheckout.configure({key:f.stripeAuth,image:"/images/MM/Logo@2x.png",locale:"auto",token:function(b){s.updateCC(b,a.user.id).then(function(b){a.reinitializeUser()})}}),window.addEventListener("popstate",function(){a.handler.close()}),a.cancelSubscriptionInitiated=function(){m.open({templateUrl:"cancelSubscriptionConfirmation.html",controller:"CancelSubscriptionConfirmationCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm"}).result.then(function(){a.reinitializeUser()})},a.getInstitution=function(){return z.institution},a.selectInstitution=function(b){"TX"===b.state&&(a.settings.standards="TEKS")},a.clearDevices=function(){c.clearDeviceArray()},a.checkGame=function(b){(!a.settings.games[b].isGameEnabled||g.filter(a.settings.games,{isGameEnabled:!0}).length>1)&&(a.settings.games[b].isGameEnabled=!a.settings.games[b].isGameEnabled)},a.startCoTeacher=function(){a.coTeacher?a.coTeacher&&a.startedCoTeacher&&(delete a.coTeacher,a.startedCoTeacher=!1):(a.coTeacher={},a.startedCoTeacher=!0,a.showNextButton=!0)},a.settingsWatch=a.$watch("settings",function(b){a.showNextButton=!z.isSignupComplete||!angular.equals(b,z.settings)||a.startedCoTeacher},!0),a.$on("onBeforeUnload",y),a.$on("$routeChangeStart",y),a.emailRegex=/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/i,a.isEditingRoster=!1,a.isValidRoster=!0,a.children=[],a.editRoster=function(){a.isEditingRoster=!0},a.saveRoster=function(){z.settings.iPadImplementation=1==p.getStudentCount(c.getUser().id)?"1:1":"Mixed",c.updateSettings(z.settings).then(p.saveParentRoster(a.children)).then(function(){a.isEditingRoster=!1})},a.updateCountry=function(b){a.settings.country=b};var B=a.settings.standards;a.fixDeviceSignup=function(){return""===B}}]).controller("DistrictRosterAlertCtrl",["$scope","$modalInstance",function(a,b){a.response=null,a.setResponse=function(b){a.response=b},a.close=function(){b.close()}}]).controller("CancelSubscriptionConfirmationCtrl",["$scope","$modalInstance","TEACHER","parentSubscription",function(a,b,c,d){a.reason,a.expirationDate=c.getActiveSubscriptionExpirationDate,a.cancelled=!1,a.cancelSubscription=function(){var b=a.reason?a.reason:"None";d.cancelSubscription(c.getUser().id,b).then(function(b){a.cancelled=!0})},a.close=function(){b.close()},a.keepSubscription=function(){b.dismiss()}}]),angular.module("controllers.accounts.accountCreate",[]).controller("AccountCreateCtrl",["$scope","$location","configuration","PROSPECT","accountsAPI","utils","authorization","googleAnalytics","$routeParams","customerIO","ipCookie",function(a,b,c,d,e,f,g,h,i,j,k){a.mainSiteLink=c.wwwServerUrl,a.emailRegex=/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/i,a.credentials={},a.credentials.email=b.search().email;var l="mmLeadCode";a.hideHeader="yes"===b.search().paid,a.deviceSignup="true"===b.search().fromDevice,a.error=b.search().error,a.emailErrorText=function(){return a.deviceSignup?"This is not a valid email. Please try again":"required"},a.init=function(){k("FROM_SIGNUP_PAGE",!0),a.prospect={},i.institutionScope&&["class","school","district"].indexOf(i.institutionScope)>-1?(a.prospect.institutionScope=i.institutionScope,a.prospect.category="trial"):a.selectInstitution("class"),b.search().lc?a.prospect.leadCode=b.search().lc:k(l)&&(a.prospect.leadCode=k(l))},a.selectInstitution=function(b){h.sendPageview("/institutionSelected.html"),a.prospect.institutionScope=b,a.prospect.category="trial"},a.edmodoSignin=function(){h.sendPageview("/edmodoSignin.html"),h.sendPageview("/goingToSignin.html"),d.create(a.prospect).then(function(a){g.showEdmodoLogin(a)})},a.googleSignin=function(){h.sendPageview("/googleSignin.html"),h.sendPageview("/goingToSignin.html"),d.create(a.prospect).then(function(b){g.showGoogleLogin(b,a.deviceSignup)})},a.emailSignup=function(){d.create(a.prospect).then(function(a){g.showMMLogin(a)})},a.signup=function(c){return c?(a.loading=!0,h.sendPageview("/mmSignin.html"),void d.create(a.prospect).then(function(c){a.credentials.state=c,a.error=null,e.signupWithEmail(a.credentials,a.deviceSignup).then(function(c){if(c.indexOf("Token:")>-1){var d=c.substring(6);b.path("/signup/validate/"+d)}else a.success=!0,a.loading=!1})["catch"](function(b){a.loading=!1,409==b.status?a.deviceSignup?a.error=b.data.isFromIOS?"Looks like you already have an account with us!\nPlease contact support@motionmathgames.com for help":"Looks like you already have an account with us!\nPlease contact support@motionmathgames.com to get help in purchasing a parent subscription":a.error="There is already an account for this email address":a.error="There was an error creating your account. Please try again. If the error persists please contact us at support@motionmathgames.com"})})):void(a.showErrors=!0)}}]),angular.module("controllers.accounts.signup",[]).controller("SignupCtrl",["$routeParams","$scope","$window","$location","googleAnalytics",function(a,b,c,d,e){b.$on("$viewContentLoaded",function(){e.sendPageview(d.path()),c.optimizely=c.optimizely||[],c.optimizely.push(["activate"])});var f={signup:"",validate:"/views/accounts/validateEmail.html",accept:"/views/accounts/adminCreatedAccountAccept.html",reset:"/views/accounts/resetPassword.html",parentValidate:"/views/accounts/parentValidate.html"};b.deviceSignup="true"===d.search().fromDevice,b.selectedTemplate=a.template||"signup",b.template={url:f[b.selectedTemplate]},"signup"===b.selectedTemplate&&(c.location="https://i-readycentral.com/articles/learning-games")}]),angular.module("controllers.accounts.validateEmail",[]).controller("ValidateEmailCtrl",["$scope","$routeParams","accountsAPI","$location","googleAnalytics",function(a,b,c,d,e){var f=b.token;e.sendPageview("/validateEmail.html"),c.validateEmail(f).then(function(a){d.path("/callback"),d.search("provider","motionmath"),d.search("code",a.token),d.search("state",a.state)})["catch"](function(){a.error=!0})}]),angular.module("controllers.accounts.acceptAdminCreatedAccount",[]).controller("AdminCreatedAccountAcceptCtrl",["$scope","$routeParams","accountsAPI","$location",function(a,b,c,d){var e=b.token;c.retrieveEmail(e).then(function(a){d.path("/signup/reset/"+e),d.search("email",a.email)})["catch"](function(){a.error=!0})}]),angular.module("controllers.accounts.resetPassword",["ngSanitize"]).controller("ResetPasswordCtrl",["$scope","$routeParams","accountsAPI","$location","lodash",function(a,b,c,d,e){a.emailRegex=/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/i;var f=b.token;a.showPasswordField=e.isString(f),a.credentials={},d.search().email&&(a.showEmailField=!0,a.emailIsReadOnly=!0,a.credentials.email=d.search().email),a.submit=function(){a.showPasswordField?c.setPassword(f,a.credentials.password).then(function(a){d.path("/callback"),d.search("provider","motionmath"),d.search("code",a)})["catch"](function(){a.errorSet=!0}):c.resetPassword(a.credentials.email).then(function(){a.success=!0})["catch"](function(b){412==b.status?a.success=!0:a.errorReset=!0})}}]),angular.module("controllers.accounts.roster",[]).controller("RosterCtrl",["TEACHER","$scope",function(a,b){b.user=a.getUser()}]).controller("UploadCsvCtrl",["$scope","$modalInstance","isUpdate","accountsAPI","TEACHER","schoolId",function(a,b,c,d,e,f){a.isUpdate=c,a.hasUploaded=!1,a.close=function(){b.close(a.didUpload)},a.chosenFile={},a.chooseFile=function(b){a.chosenFile=b.files[0],a.$apply()},a.uploadFile=function(){var b=c?"updateRosters":"createRosters";d.uploadFile(a.chosenFile,b).then(function(){a.didUpload=!0,c&&d.markUpdatedRosters(f)})}}]).controller("UpdateRosterBarCtrl",["$scope","TEACHER","teachersData","lodash","$modal","messageBarSrvc",function(a,b,c,d,e,f){function g(b){return c.init(b).then(function(){a.teachersBySchool=d.groupBy(c.teacherList,"schoolName"),delete a.teachersBySchool["null"],a.schoolCount=d.size(a.teachersBySchool)})}a.teacherSrvc=b,a.schoolCount=1,g(),a.updateRosters=function(h){var i=null,j=[],k="";if(b.hasAtLeastViewRights())j=a.teachersBySchool[h],k="/views/accounts/partials/confirmAllTeachers.html";else{var l=b.getClientData();l.id=b.getId(),j=[l],k="confirmSingleTeacher.html"}i=e.open({templateUrl:k,controller:"ConfirmTeacherInfoCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{teachers:function(){return j}}}),i.result.then(function(a){a&&e.open({templateUrl:"/views/accounts/partials/csvUpload.html",controller:"UploadCsvCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{isUpdate:function(){return!0},schoolId:function(){return j[0].schoolId}}}).result.then(function(a){a&&g(!0).then(function(){d.every(c.teacherList,"updatedRosters")&&f.hideView("updateRosterBar")})})})},a.areAllUpdated=function(a){return d.every(a,"updatedRosters")},a.dismiss=function(){var a=b.getClientData().setup||{};a.updatedRosters=!0,b.updateSetup(a),f.hideView("updateRosterBar")}}]),angular.module("controllers.accounts.parentRoster",[]).controller("ParentRosterCtrl",["$scope","$location","TEACHER","roster",function(a,b,c,d){a.deviceSignup="true"===b.search().fromDevice,a.isValidRoster=!1,a.children=[],a.goToLastPage=function(){b.path("/account/settings")},a.goToNextPage=function(){var e=c.getClientData();e.settings.iPadImplementation=1==d.getStudentCount(c.getUser().id)?"1:1":"Mixed",c.updateSettings(e.settings).then(d.saveParentRoster(a.children)).then(function(){b.path("/account/parentPayment")})}}]),angular.module("controllers.accounts.parentPayment",[]).controller("ParentPaymentCtrl",["$scope","$location","TEACHER","configuration","lodash","dayAsInt","authorization","Stripe","parentSubscription","mpactCommand",function(a,b,c,d,e,f,g,h,i,j){window.$parentPaymentScope=a,a.deviceSignup="true"===b.search().fromDevice,a.finishButtonText=a.deviceSignup?"Next":"Finish",i.getPlans().then(function(b){a.plans=b}),a.user=c.getUser(),a.subInfo={},a.stripeToken,b.search().sub&&(a.subInfo.sub=b.search().sub),a.trialPeriodDescription=function(){var b=a.subInfo.sub?e.find(a.plans,{id:a.subInfo.sub}).trial_period_days:a.deviceSignup&&a.plans?a.plans[a.plans.length-1].trial_period_days:null;return b?b%7==0?b/7+" week":b+" day":b},a.showPaymentDetails=function(){if(!a.deviceSignup)return a.subInfo.sub&&!a.stripeToken&&a.displayPaymentDialog(),a.subInfo.sub},a.editPaymentDetails=function(){a.displayPaymentDialog()},a.displayPaymentDialog=function(){a.handler.open({name:"Payment Details",description:"",zipCode:!0,panelLabel:"Enter",allowRememberMe:!1,email:a.user.caseSensitiveEmail})},a.handler=StripeCheckout.configure({key:d.stripeAuth,image:"/images/MM/Logo@2x.png",locale:"auto",token:function(b){a.stripeToken=b,a.$apply()}}),window.addEventListener("popstate",function(){a.handler.close()}),a.showSubscriptionDetails=function(){a.subInfo.sub&&b.search("sub",a.subInfo.sub),b.path("/account/parentPaymentDetails")},a.showFinishButton=function(){return a.deviceSignup?a.subInfo.sub:a.stripeToken},a.finish=function(){return a.finishing=!0,a.deviceSignup?void j.subscribe(a.subInfo.sub,a.user.id):void i.createSubscription(a.stripeToken,a.subInfo.sub,a.user.id).then(function(){var a=c.getClientData();
c.updateSettings(a.settings,!0).then(function(){c.uninitialize(),c.initialize(!1).then(function(){b.path("/account/parentSetup")})})})},window.subscriptionPurchaseFailed=function(){window.$parentPaymentScope.$apply(function(){a.finishing=!1})}}]),angular.module("controllers.accounts.parentPaymentDetails",[]).controller("ParentPaymentDetailsCtrl",["$scope","$location","mpactCommand",function(a,b,c){a.deviceSignup="true"===b.search().fromDevice,a.goToLastPage=function(){b.path("/account/parentPayment")}}]),angular.module("controllers.accounts.parentSetup",[]).controller("ParentSetupCtrl",["$scope","$location","TEACHER","utils","roster",function(a,b,c,d,e){var f=c.getClientData();a.accessCode=f.loginCode,a.appLinksType="educator",a.appLinks=d.ipadAppLinks(a.appLinksType);var g=c.getUser().teacherId;e.fetchRosters(g).then(function(){var b=e.getSelectedRoster(g),c=(new Date).getFullYear();b.students.forEach(function(b){a.collateAppTypesToShow(c-b.birthYear)}),a.appLinks=d.ipadAppLinks(a.appLinksType)}),a.collateAppTypesToShow=function(b){var c=(a.appLinks,a.appLinksType);"young"===c&&b>=7?a.appLinksType="all":"educator"===c&&b<=5&&(a.appLinksType="all")}}]),angular.module("controllers.accounts.parentSubNotification",[]).controller("ParentSubNotificationCtrl",["$scope","TEACHER",function(a,b){}]),angular.module("controllers.account.signinCtrl",[]).controller("SigninCtrl",["$scope","authorization","$window","$location","googleAnalytics","accountsAPI","$routeParams","configuration",function(a,b,c,d,e,f,g,h){a.deviceSignin="true"===d.search().fromDevice,a.credentials={},a.$on("$viewContentLoaded",function(){e.sendPageview(d.path()),c.optimizely=c.optimizely||[],c.optimizely.push(["activate"])}),a.edmodoSignin=function(){b.showEdmodoLogin()},a.googleSignin=function(){b.showGoogleLogin(a.deviceSignin?"device":void 0)},a.emailSignIn=function(){a.error=null,f.mmLoginCode(a.credentials).then(function(b){d.path("/callback"),d.search("provider","motionmath"),d.search("code",b),a.deviceSignin&&d.search("state","device"),g.trace&&d.search("trace",g.trace)})["catch"](function(b){a.signinError=!0})},a.iReadyLoginUrl=h.iReadyLoginUrl,a.deviceBack=function(){c.location.href=d.absUrl().replace("/#/signin","/device.html#/devicelogin")}}]),angular.module("controllers.getQuote",[]).controller("GetQuoteCtrl",["$scope",function(a){}]),angular.module("controllers.account.subscription",[]).controller("SubscriptionCtrl",["$scope","TEACHER",function(a,b){a.user=b.getUser(),a.isDistrictLevel=b.isDistrictLevel(),a.formData={schoolName:a.clientData.institution?a.clientData.institution.schoolName||"":"",districtName:a.clientData.institution?a.clientData.institution.districtName||"":""}}]),angular.module("controllers.account.deviceLogin",[]).controller("DeviceLoginCtrl",["authorization","configuration","$window","$location","$scope","$routeParams","lodash","accountsAPI","dayAsInt",function(a,b,c,d,e,f,g,h,i){function j(a){var b;for(var c in p)if(p.hasOwnProperty(c)&&a.includes(c)){b=c;break}var d=p[b];d.isWarningMode?(e.bannerType="Warning",e.title=d.titleWarning):d.isKillMode?(e.bannerType="Kill",e.title=d.titleKill,e.isHidingAccessCode=!0):d.isPromoMode&&(e.bannerType="Promo",e.title=d.titlePromo),e.bannerImageID=d.bannerImageID,e.title&&(e.isShowingMessageBanner=!0,e.bannerView="/views/accounts/login"+e.bannerType+"Banner.html")}function k(a,b){switch(e.state="PROMPT",a){case 410:e.errorMsg="You can no longer log into the Educator as a student with Edmodo passwords.";break;case 401:case 404:e.errorMsg="Sorry! Your information does not match an active account.";break;case 402:e.state="EXPIRED_PARENT",b.isFromIOS&&(e.subState="IOS_SUBSCRIPTION");break;case 423:e.state="EXPIRED";break;case 428:e.state="TRIAL_NOT_STARTED";break;case 413:case 429:e.errorMsg='Sorry, this account has reached its device limit. Please "Reset All Devices" at the bottom of the "Settings" tab when you log into motionmathgames.com';break;default:e.errorMsg="An error occurred during sign in. Please try again."}}function l(a,b){switch(a){case 405:e.state="EXPIRED";break;case 412:d.path("/visualPassword").search({code:e.data.code.toLowerCase(),deviceId:o,rosterId:n,fromApp:m});break;default:k(a,b)}}e.startOver=function(){e.state="PROMPT",e.data={}},e.state="LOADING",e.data={},window.$deviceLoginScope=e;var m,n=d.search().rosterId,o=d.search().deviceId;e.parentSignupSupported=d.search().parentSignupSupported;var p={mmeducator:{titleWarning:"Attention!",titleKill:"This game has moved!",bannerImageID:"Edu",isWarningMode:!0},mmpizzaedu:{titleWarning:"Attention!",titleKill:"This game has moved!",bannerImageID:"Pizza",isWarningMode:!0},mmcupcakeedu:{titleWarning:"Attention!",titleKill:"This game has moved!",bannerImageID:"Cupcake",isWarningMode:!0},mmhungryguppy:{titleWarning:"Attention!",titlePromo:"Login",bannerImageID:"Edu",isPromoMode:!0}};n&&"(null)"!=n&&"<null>"!=n?(e.automatedLogin=!0,e.data={}):h.getLegitimateBuildNumbers().then(function(a){"FORWARDING"!==e.state&&(e.startOver(),"true"===d.search().approvedBuild?e.shouldShowAccountCode=!0:!g.isString(d.search().buildNumber)||g.includes(a.nonSupportedAppVersions,d.search().buildNumber)?e.state="NEEDS_UPDATE":(e.shouldShowAccountCode=g.isString(d.search().buildNumber)&&g.includes(a.legitimateBuildNumbers,d.search().buildNumber),e.shouldShowAccountCode&&j(d.search().buildNumber)))}),e.typedInCode=function(a){13==a.keyCode&&(a.preventDefault(),e.validateCode())},window.displayErrorMessageFromDevice=function(a){window.$deviceLoginScope.$apply(function(){var b=parseInt(a);g.isNaN(b)||(a=b),g.isNumber(a)?k(a):(e.errorMsg=a,e.state="ERROR")})},e.emailSignin=function(){d.search("fromDevice","true"),c.location.href=d.absUrl().replace("/device.html#/devicelogin","/#/signin")},e.validateCode=function(){e.state="FORWARDING",delete e.errorMsg,h.fetchCode(e.data.code.toLowerCase(),o).then(function(a){d.path("/visualPassword").search({code:e.data.code.toLowerCase(),vp:"off",deviceId:o,rosterId:n,buildNumber:d.search().buildNumber,fromApp:m,parentSignupSupported:e.parentSignupSupported})},function(a){e.automatedLogin=!1,l(a.status,a.data)})},e.activateTrial=function(){var a=i.todayAsInt();h.setSubscriptionStartDayWithCode(e.data.code.toLowerCase(),a).then(function(){e.validateCode()})["catch"](function(){e.state="PROMPT"})},e.signup=function(){d.search("fromDevice","true"),c.location.href=d.absUrl().replace("/device.html#/devicelogin","/#/signup")},c.deviceLogin={},c.deviceLogin.login=function(a){a&&"(null)"!=a&&"<null>"!=a&&(m=!0,e.data.code=a,e.validateCode())}}]),angular.module("controllers.accounts.deviceNonParent",[]).controller("DeviceNonParentCtrl",["$scope","mpactCommand",function(a,b){a.goNext=function(){b.reset()}}]),angular.module("controllers.account.visualPassword",["ngRetina"]).controller("VisualPasswordCtrl",["$location","$scope","accountsAPI","visualPasswordAPI","$timeout","$window","lodash","rosterUtils","mpactCommand",function(a,b,c,d,e,f,g,h,i){function j(){b.roster?b.page="roster":b.rosters.length>1?b.page="rosters":0==b.rosters.length?b.selectRoster():b.selectRoster(b.rosters[0].rosterId)}function k(a){for(var b=0;b<a.length;b++)F[b]=new Image,f.devicePixelRatio>1?F[b].src="/images/passwordArt/"+a[b]+"@2x.png":F[b].src="/images/passwordArt/"+a[b]+".png"}function l(){for(var a=0;a<3;a++){var c=angular.copy(b.passwordImages[a]);g.pull(c,z[a]);var d=g.sampleSize(c,2);d.push(z[a]),b.trainingImages[a]=g.shuffle(d)}}function m(){for(var a=0;a<3;a++)b.passwordImages[a]=g.shuffle(b.passwordImages[a])}function n(){w(),d.getPasswordFromDevice(A,y).then(function(a){b.shownPassword=a.password.split(","),b.firstTraining=!0,b.letsPracticeButton=!0},function(a){t(a.data)})["finally"](x),b.page="startRetrieval"}function o(a){C=a.token,1===g.get(a,"partitions.postLoginSignal")?(b.page="postLogin",b.postLoginSignal=1):b.proceedToGames()}function p(){var a=b.retrieving?b.roster[0].studentId:y;w(),d.login(A,a,z.join(),b.selectedRosterId).then(function(a){b.retrieving?s(a.token):o(a)},function(a){404==a.status?b.page="wrongPassword":423==a.status?b.retrieving?b.page="teacherFailedRetrieval":(b.lockedOut=!0,b.page="wrongPassword"):t(a.data)})["finally"](x)}function q(){b.retrieving&&d.getPasswordFromDevice(A,y).then(function(a){"on"==a.hints?n():e(q,3e3)},function(a){404==a.status?t("Password was reset during retrieval"):423==a.status&&"on"==a.data?n():e(q,3e3)})}function r(){d.toggleHintsNeeded(A,y).then(q)}function s(a){d.toggleHintsOn(A,y,a)}function t(a){b.errorMessage=a,b.page="error"}function u(){z=[],b.shownPassword=[]}function v(a){switch(a){case"creation":b.creationStep=1;break;case"training":b.trainingStep=1;break;case"login":b.loginStep=1}b.page=a}function w(){b.loading=!0}function x(){b.loading=!1}b.Math=Math,b.page="";var y,z,A=a.search().code,B=a.search().rosterId;b.fromApp=a.search().fromApp;var C,D=["mmhungryguppyedu1.0.3","mmcupcakeedu1.2.2","mmcupcakeedu1.3.2","mmcupcakeedu1.4.0","mmpizzaedu1.0.4","mmpizzaedu1.1.4","mmpizzaedu1.3.2","mmpizzaedu1.4.2","mmeducator1.6.0","mmeducator2.0.2","mmeducator2.1.3","mmeducator2.2.9","mmeducator2.3.1","mmeducator2.4.1","mmeducator2.5.1","mmeducator2.6.1","mmeducator2.7.5","mmeducator2.8.0","mmeducator2.9.0"],E="off"===a.search().vp&&g.includes(D,a.search().buildNumber);b.resetAll=function(){function a(a){g.isArray(a)?b.rosters=a:b.rosters=[a],j()}b.rosters=[],delete b.roster,y=null,b.pausing=!1,b.creationStep=0,u(),b.hasSentenceButton=!1,b.letsPracticeButton=!1,b.firstTraining=!1,b.trainingStep=0,b.trainingImages=[],b.tryAgain=!1,b.letsPlayButton=!1,b.retrieving=!1,b.loginStep=0,w(),B&&"(null)"!==B&&"<null>"!==B?d.getRoster(A,B).then(a)["finally"](x):d.getRosters(A).then(a)["finally"](x)},b.selectRoster=function(e){w(),E?c.fetchCode(A,a.search().deviceId,e).then(function(a){C=a,b.proceedToGames()},function(a){t(a.data)})["finally"](x):d.getRoster(A,e||"default").then(function(a){b.selectedRosterId=e,b.roster=a.students,b.page="roster"},function(a){t(a.data)})["finally"](x)},A?b.resetAll():(f.visualPasswords={},f.visualPasswords.setAccessCode=function(a){A=a,b.fromApp=!0,b.resetAll()}),b.passwordImages=[["pp1_spider","pp2_elephant","pp3_dog","pp4_pizza","pp5_rainbow","pp6_soccerball","pp7_castle","pp8_bike","pp9_balloon"],["pp10_snake","pp11_zebra","pp12_octopus","pp13_icecream","pp14_sun","pp15_plane","pp16_flower","pp17_heart","pp18_backpack"],["pp19_butterfly","pp20_dinosaur","pp21_present","pp22_watermelon","pp23_moon","pp24_robot","pp25_car","pp26_cupcake","pp27_guitar"]];var F=new Array;k(g.flatten(b.passwordImages)),b.selectPlayer=function(c){b.username=c.firstName,y=c.studentId,b.page="","off"===a.search().vp?p():(w(),d.getPasswordFromDevice(A,y).then(function(a){"on"!==a.hints?b.startLogin():(b.retrieving=!0,n())},function(a){404==a.status?b.page="firstTimeLogin":423==a.status?(b.lockedOut=!0,b.page="wrongPassword"):t(a.data)})["finally"](x))},b.wrongName=function(){u(),b.loginStep=0,b.retrieving=!1,b.lockedOut=!1,j()},b.startCreation=function(){b.page="",e(function(){v("creation")},500)},b.creationSelect=function(a){b.shownPassword.push(a),b.pausing=!0,e(function(){b.creationStep++,b.creationStep>3&&(b.page="beginTraining",b.firstTraining=!0,e(function(){b.hasSentenceButton=!0},3e3)),b.pausing=!1},1e3)},b.sillySentencePageOn=function(){b.page="sillySentence",e(function(){b.letsPracticeButton=!0},3e3)},b.startTraining=function(){b.page="",b.letsPracticeButton=!1,z=b.shownPassword,b.shownPassword=[],e(function(){b.firstTraining?l():(m(),b.trainingImages=b.passwordImages),v("training")},500)},b.trainingSelect=function(a){g.includes(z,a)?(b.shownPassword.push(a),b.pausing=!0,e(function(){b.trainingStep++,b.trainingStep>3&&(b.firstTraining?(b.firstTraining=!1,b.page="beginTraining",e(function(){b.letsPracticeButton=!0},3e3)):(b.page="endTraining",e(function(){b.letsPlayButton=!0},2e3))),b.pausing=!1},1e3)):(b.tryAgain=!0,e(function(){b.tryAgain=!1},2e3))},b.loginSelect=function(a){b.shownPassword.push(a),b.pausing=!0,e(function(){b.loginStep++,b.loginStep>3&&(z=b.shownPassword,p()),b.pausing=!1},500)},b.startLogin=function(){u(),m(),v("login")},b.forgotPassword=function(){u(),b.retrieving=!0,r(),b.page="forgotPassword",b.loginStep=0},b.teacherVerifies=function(){b.retrieving=!0,w(),d.getPasswordFromDevice(A,b.roster[0].studentId).then(function(){v("login")},function(a){404==a.status?(b.teacherFailedMessage="You have not set a picture password yet.",b.page="teacherFailedRetrieval"):423==a.status?(b.teacherFailedMessage="You tried your password three times today.",b.page="teacherFailedRetrieval"):t(a.data)})["finally"](x)},b.endRetrieval=function(){b.retrieving=!1,p()},b.savePassword=function(){w(),d.setPassword(A,y,z.join(),b.selectedRosterId).then(o,function(a){t(a.data)})["finally"](x)},b.proceedToGames=function(){f.location="deviceCallback.html?state=device&provider=motionmath&code="+C},b.logOut=function(){i.logout(),a.search("rosterId",null),a.search().buildNumber||a.search("approvedBuild","true"),a.path("/devicelogin")}}]),angular.module("controllers.account.logout",[]).controller("LogoutCtrl",["authorization","TeacherAPI","TEACHER",function(a,b,c){b.logout().then(function(){c.logout(),a.logout()})}]),angular.module("controllers.accounts.modals",[]).controller("SetInstitutionController",["$scope","$modal","$modalStack","TEACHER","$routeParams","lodash","$timeout",function(a,b,c,d,e,f,g){function h(){b.open({templateUrl:"institution-modal.html",controller:"InstitutionModalCtrl",keyboard:!1,windowClass:"mm-modal",backdrop:"static"})}c.dismissAll(),a.open=function(){g(function(){f.isObject(d.getClientData().institution)||h()},1e3)}}]).controller("InstitutionModalCtrl",["$scope","$modalInstance","TEACHER","mmConstants","lodash",function(a,b,c,d,e){var f=c.getClientData();a.institution={},e.includes(d.districtRoles,f.settings.role)?a.institutionType="district":a.institutionType="school",a.user=c.getUser(),a.firstName=f.settings.mmFirstName||a.user.firstName,a.canSave=function(){return!angular.equals(a.institution,{})},a.save=function(){angular.equals(a.institution,{})||c.saveInstitution(a.institution).then(function(){b.close()})}}]),angular.module("controllers.accounts.adminView",[]).controller("AdminViewController",["$scope","TEACHER","emailService","lodash","accountsAPI","$routeParams","$location","teachersData","$modal","messageBarSrvc","$q","$timeout","$rootScope","authorization","roster",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){alert("Want to see more reporting of progress and playtime or create new accounts?\n\nContact our sales team: sales@motionmathgames.com")}function q(b,c){i.open({templateUrl:"/views/accounts/partials/csvUpload.html",controller:"UploadCsvCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{isUpdate:function(){return b},schoolId:function(){return c}}}).result.then(function(b){b&&a.initData(!0).then(function(){d.every(h.teacherList,"updatedRosters")&&j.hideView("updateRosterBar")})})}a.calendlyUrl=b.getCalendlyUrl(),f.tab||g.path("/account/adminView").search("tab","playtime"),a.selectedTab=f.tab,a.selectTab=function(b){a.selectedTab=a.tabs[b]},a.setup=b.getClientData().setup||{},a.inactiveStudentsBySchool={};var r="District Level School";a.initData=function(c){var f=d.get(b.getClientData(),"institution.districtId");a.districtName=d.get(b.getClientData(),"institution.districtName"),a.isDistrictLevel=b.isDistrictLevel;var g=[];return f?g.push(e.getSchoolsForDistrict(f).then(function(b){a.allSchools=b})):g.push(l(function(){a.allSchools=[b.getClientData().institution]},0)),g.push(h.init(c).then(function(){a.teachersBySchool=d.groupBy(h.teacherList,"schoolName"),a.teachersBySchoolArray=[],angular.forEach(a.teachersBySchool,function(b,c){var d="null"===c?r:c;a.teachersBySchoolArray.push({schoolName:d,teachers:b,isDistrictSchool:"null"===c})}),a.teachersBySchool["null"]&&(a.teachersBySchool[r]=a.teachersBySchool["null"],delete a.teachersBySchool["null"]),a.schoolCount=d.size(d.filter(a.teachersBySchool,function(a,b){return b!==r}))})),k.all(g).then(function(){b.hasAtLeastViewRights()&&a.initInactiveStudents()})},a.districtFirst=function(a){return a.schoolName===r?"          ":a.schoolName},a.initInactiveStudents=function(){d.forEach(a.allSchools,function(b){a.teachersBySchool[b.schoolName]&&e.getSchoolStudents(b.schoolId).then(function(c){c.length>0&&(a.inactiveStudentsBySchool[b.schoolName]={},a.inactiveStudentsBySchool[b.schoolName].students=d.filter(c,function(a){return!a.rosters||0==a.rosters.length}))})})},a.initData(),a.canSeeDeactivated=n.isLoggedInAdmin()&&"true"===g.search().superpowers,a.toggleContent=function(c){b.hasAtLeastViewRights()||c.id==b.getId()?o.fetchRosters(c.id,!1).then(function(){var b=o.getAllRosters(c.id);d.forOwn(b,function(b,d){a.grades[d]=b.gradeLevel,a.studentsNumber[d]=o.getStudentIds(c.id,d).length}),c.showContent=!d.get(c,"showContent",!1)}):p()},a.teacherTitle=function(a){return h.teacherTitle(a.settings.role,a.settings.gradeLevel)},a.addSchool=function(){if(!b.hasAtLeastViewRights())return void p();var c=i.open({templateUrl:"addSchool.html",controller:"AddSchoolCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm"});c.result.then(function(b){b&&a.addTeacher(b.schoolName)})},a.addTeacher=function(c){if(!b.hasAtLeastViewRights())return void p();var e=null;if(d.forEach(a.allSchools,function(a){a.schoolName==c&&(e=a,e.type="school")}),e){var f=i.open({templateUrl:"addTeacher.html",controller:"AddTeacherCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{school:function(){return e},district:function(){return b.getClientData().institution}}});f.result.then(function(b){b?q(!1):a.initData()})}else a.addSchool()},a.updateRosters=function(b){i.open({templateUrl:"/views/accounts/partials/confirmAllTeachers.html",controller:"ConfirmTeacherInfoCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{teachers:function(){return b}}}).result.then(function(c){a.initData(!0),c&&q(!0,b[0].schoolId)})},a.deactivateTeachers=function(a){i.open({templateUrl:"emailSupport.html",controller:"EmailSupportCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm"})},m.$on("rostersMigrated",function(){a.initData(!0)})}]).controller("AddSchoolCtrl",["$scope","$modalInstance","TEACHER","lodash",function(a,b,c,d){a.user=c.getUser(),a.school={};var e=c.getInstitution().districtId;a.$watch("school",function(b,c){a.districtError=!d.isEmpty(b)&&e!==b.districtId},!0),a.close=function(){b.close()},a.next=function(){b.close(a.school)}}]).controller("AddTeacherCtrl",["$scope","$modalInstance","mmConstants","TEACHER","teachersData","lodash","school","accountsAPI",function(a,b,c,d,e,f,g,h){function i(){a.teacher={email:"",settings:angular.copy(d.getClientData().settings),institution:angular.copy(g)},a.teacher.settings.mmFirstName=a.teacher.settings.mmLastName="",a.teacher.settings.role=a.allRoles[0],a.teacher.settings.gradeLevel=a.gradeLevels[0]}function j(){var b=!a.rosterControl.hasEdited();return!b&&a.rosterControl.isValidRoster()&&(a.rosterControl.saveRoster(),b=!0),b}a.STATE="OPTIONS",a.uploadCsv=function(){b.close(!0)},a.manualEntry=function(){a.STATE="TEACHER",a.hasCoTeacher=!1},d.isDistrictLevel()?a.allRoles=c.teacherRoles:a.allRoles=c.schoolRoles,a.gradeLevels=c.gradeLevels,i(),a.updateInstitution=function(){f.includes(c.districtRoles,a.teacher.settings.role)?a.teacher.institution=d.getClientData().institution:a.teacher.institution=g},a.confirmedClose=function(){a.rosterControl.hasEdited&&a.rosterControl.hasEdited()&&!confirm("Are you sure you want to leave? This roster will not be saved.")||b.close(!1)},a.next=function(){e.createTeacher(a.teacher).then(function(b){if(b!==a.teacher)switch(b.status){case 409:a.errorMessage="An account already exists for "+a.teacher.email+'.<br>To add this educator to your subscription please email <a href="mailTo:support@motionmathgames.com">support@motionmathgames.com</a>.';break;default:a.errorMessage="Sorry, there was a problem with creating this teacher.",console.log(b)}else{a.errorMessage=null;var c=d.getClientData().setup||{};c.addedTeachers||(c.addedTeachers=!0,d.updateSetup(c)),a.hasCoTeacher?(a.STATE="COTEACHER",a.coTeacher={}):a.STATE="ROSTER"}})},a.rosterControl={},a.saveAndClose=function(){j()&&b.close(!1)},a.saveAndAddNew=function(){j()&&(i(),a.STATE="TEACHER")},a.toggleCoTeacher=function(){a.hasCoTeacher=!a.hasCoTeacher},a.saveCoTeacher=function(){return h.addCoTeacher(a.teacher.id,a.coTeacher).success(function(){a.STATE="ROSTER",delete a.errorMessage}).error(function(b){"Email is already in use"===b?a.errorMessage="This email address is already in use. Please try a different email address.":a.errorMessage="Something went wrong and we weren't able to link your rosters. Please email support@motionmathgames.com."})},a.emailRegex=/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/i}]).controller("ConfirmTeacherInfoCtrl",["$scope","mmConstants","$modalInstance","lodash","teachersData","teachers",function(a,b,c,d,e,f){a.teachers=angular.copy(f),a.roles=b.teacherRoles,a.gradeLevels=b.gradeLevels,a.close=function(){c.close(!1)},a.confirm=function(){d.forEach(a.teachers,function(a){e.updateTeacherSettings(a.id,a.settings)}),c.close(!0)}}]).controller("EmailSupportCtrl",["$scope","$modalInstance",function(a,b){a.close=function(){b.close()}}]).filter("schoolUsersSort",["lodash","mmConstants",function(a,b){function c(c,d){if(c.lastFourWeeksAverageStudentTimePlayed!=d.lastFourWeeksAverageStudentTimePlayed)return d.lastFourWeeksAverageStudentTimePlayed-c.lastFourWeeksAverageStudentTimePlayed;var f=a.indexOf(b.gradeLevels,c.settings.gradeLevel),g=a.indexOf(b.gradeLevels,d.settings.gradeLevel),h=a.indexOf(e,c.settings.role),i=a.indexOf(e,d.settings.role);return h!==i?h-i:f!==g?f-g:c.firstName!==d.firstName?c.firstName<d.firstName?-1:1:c.lastName<d.lastName?-1:1}var d=a.intersection(b.schoolRoles,b.adminRoles),e=a.concat(d,a.difference(b.schoolRoles,d));return a.memoize(function(a){return a.sort(c)})}]),angular.module("controllers.accounts.access",[]).controller("AccessManagementCtrl",["$scope","TEACHER","lodash","accountsAPI","mmConstants",function(a,b,c,d,e){function f(){return a.loading=!0,d.getSubscriptionTeacherList().then(function(b){a.teacherList=b,a.loading=!1})}function g(){a.selectedSchools={},a.selectedRoles={},a.allSchools=!1,a.allRoles=!1}function h(){for(var b={},d=a.subscription.selectors||{},e=d.rules||[],f=e.length-1;f>=0;f--){var g=a.getRuleString(e[f]);b[g]?c.pullAt(e,f):b[g]=e[f]}}function i(a){var b=[];return c.forEach(a,function(a,c){a===!0&&b.push(c)}),b}function j(){var b=i(a.selectedRoles);if(0!=b.length){var c=i(a.selectedSchools);if(0!=c.length)return{institutionIds:c,grades:b}}}function k(){a.loading=!0,d.saveSubscriptionRules(a.subscription).then(function(c){a.subscription=c,b.setActiveSubscription(c)}).then(f)}function l(a,b){return 0==c.xor(a.institutionIds,b.institutionIds).length&&0==c.xor(a.grades,b.grades).length}function m(a,b){j()&&(angular.equals(b,{})?b.message="Your subscription rule will not be saved.":confirm("Are you sure you want to leave? Your subscription rule will not be saved.")||a.preventDefault())}a.subscription=b.getActiveSubscription(),g(),f(),a.roles=[],c.forEach(e.subscriptionRulesGradeLevels,function(b){a.roles.push({name:b,label:b+" grade teachers"})}),a.roles.push({name:"Other",label:"Coaches, admins, etc."});var n=b.getClientData().institution,o=n.districtId;o?d.getSchoolsForDistrict(o).then(function(b){var d=c.filter(b,function(a){var b=a.gradeLevel||"",d=b.split(",");return c.intersection(["p","e","m"],d).length>0});a.schools=c.sortBy(d,"schoolName"),a.district={districtName:n.districtName,districtId:o,type:"district"}}):a.schools=[b.getClientData().institution],a.getInstitutionNames=function(b){var d=c.filter(a.schools,function(a){return c.includes(b,a.schoolId)});return c.map(d,"schoolName")},a.getRuleString=function(b){var c="";return(b.grades.count>1||"Other"!=b.grades[0])&&(c="Grades "),c+=b.grades.sort().join(", ")+" at "+a.getInstitutionNames(b.institutionIds).sort().join(", ")},h(),a.canSave=function(){return c.isObject(j())},a.saveRule=function(){var b=j(),c=a.subscription.selectors||{},d=c.rules||[];a.removeRule(b),d.push(b),c.rules=d,c.emails=c.emails||[],a.subscription.selectors=c,g(),k(),alert("Access has been granted to teachers in the list below. New teachers that sign up and match this rule will automatically be given access.")},a.removeRule=function(b){if(c.isObject(a.subscription.selectors)&&Array.isArray(a.subscription.selectors.rules)){for(var d=a.subscription.selectors.rules,e=d.length-1;e>=0;e--)l(d[e],b)&&c.pullAt(d,e);k()}},a.checkAllSchools=function(b){c.forEach(a.schools,function(c){a.selectedSchools[c.schoolId]=b})},a.checkAllRoles=function(b){c.forEach(a.roles,function(c){a.selectedRoles[c.name]=b})},a.addTeacher=function(b){var c=a.subscription.selectors||{},d=c.emails||[];d.push(b.email),c.emails=d,c.rules=c.rules||[],a.subscription.selectors=c,k()},a.$on("onBeforeUnload",m),a.$on("$routeChangeStart",m)}]),angular.module("controllers.accounts.nps",[]).controller("NPSCtrl",["$scope","TEACHER","accountsAPI","customerIO","emailService","lodash","$window","$timeout","messageBarSrvc",function(a,b,c,d,e,f,g,h,i){function j(){a.showFeedbackScreen=!1,a.showPromoterScreen=!0}function k(){a.showFeedbackScreen=!0}function l(a){var c=b.getUser();return{teacherClientId:c.clientId,teacherEmail:c.emails[0],score:a,completionDate:(new Date).getTime(),shared:!1}}a.minScore=1,a.maxScore=10,a.showScoreScreen=!0,a.showPromoterScreen=!1,a.showFeedbackScreen=!1,a.showThanksScreen=!1,a.liaison=b.getNPSLiaison(),a.valSelected=function(e){a.showScoreScreen=!1;var f=l(e);c.saveNPSResponse(f).then(function(c){b.setLastNPSDate((new Date).getTime()),b.setLastNPS(e),a.savedNPS=c,k(),d.event("npsResponse",{score:e})})},a.share=function(){a.savedNPS.shared=!0,c.saveNPSResponse(a.savedNPS),d.event("npsShare")},a.twitterShare=function(){var a="My students and I love using @MotionMath! I highly recommend signing up for their free pilot program: http://bit.ly/1CxrNOs",b=g.encodeURIComponent(a),c="https://twitter.com/intent/tweet";g.open(c+"?text="+b,"_blank")},a.facebookShare=function(){var a=g.encodeURIComponent("https://accounts.motionmathgames.com/#/signup?lc=nps_fb"),b=g.encodeURIComponent("https://www.facebook.com"),c="591155267687881",d=g.encodeURIComponent("Sign up for Motion Math's Free Pilot!"),e="https://www.facebook.com/dialog/feed?display=popup&caption="+d+"&app_id="+c+"&display=page&link="+a+"&redirect_uri="+b;g.open(e)},a.emailShare=function(){var a=e.getEmailLink(e.inviteTeachersGeneral);g.open(a,"_blank")},a.submitFeedback=function(){a.savedNPS.feedback&&""!=a.savedNPS.feedback&&(c.saveNPSResponse(a.savedNPS),d.event("npsFeedback",{feedback:a.savedNPS.feedback})),a.savedNPS.score>=8?(j(),h(function(){a.showCloseX=!0},3e3)):(a.showThanksScreen=!0,a.showFeedbackScreen=!1,a.showPromoterScreen=!1,i.hideView("nps",3e3))},a.hideNPS=function(){i.hideView("nps")}}]),angular.module("controllers.accounts.motionMathEndNotification",[]).controller("MotionMathEndNotificationCtrl",["$scope","TEACHER",function(a,b){var c=b.getClientData();a.accessCode=c.loginCode}]),angular.module("controllers.accounts.payment",[]).controller("PaymentCtrl",["$scope","configuration","accountsAPI","$window","$location","googleAnalytics","StripeCheckout",function(a,b,c,d,e,f,g){function h(b){b.amount=100*a.amount,b.note=a.note,a.showEntry=!1,a.processing=!0,c.makePayment(b).then(function(){a.processing=!1,a.success=!0,a.showEntry=!0},function(){a.processing=!1,a.error=!0})}a.amount,a.email=e.search().email,a.showEntry=!0,a.$on("$viewContentLoaded",function(){f.sendPageview(e.path()),d.optimizely=d.optimizely||[],d.optimizely.push(["activate"])});var i=g.configure({key:b.stripeAuth,token:h});a.checkout=function(){i.open({name:"Motion Math",amount:100*a.amount,email:a.email,allowRememberMe:!1})}}]),angular.module("controllers.accounts.playtime",[]).controller("PlaytimeController",["$scope","TEACHER",function(a,b){a.teacherId=b.getUser().id}]),angular.module("controllers.accounts.setup",[]).controller("SetupController",["$scope","roster","accountsAPI","messageBarSrvc","lodash","TEACHER","$modal","$window","emailService","customerIO","$route","dayAsInt","$location","utils",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.subscription=f.getActiveSubscription();var o=f.getClientData();a.setup=o.setup||{},a.settings=o.settings,a.isParentGuardian=f.isParentGuardian;var p=e.includes(["Preschool","Pre-K","K","1"],e.get(o,"settings.gradeLevel"));a.emailLink=i.getEmailLink(p?"installYoung":"install"),a.appLinks=n.ipadAppLinks(p?"young":"educator"),a.isAdmin=f.isAdmin(),a.$watch("setup",function(b,c){c&&!angular.equals(b,c)&&f.updateSetup(a.setup).then(j.identify)},!0),a.setTrialStartDate=function(b){b&&(c.setSubscriptionStartDay(b).then(j.identify),a.subscription.trialStartDate=b,f.setActiveSubscription(a.subscription),d.refreshState(),k.reload())},a.startTrialOrChangeDate=function(){a.subscription.trialStartDate?a.openCalendar():(a.setTrialStartDate(l.todayAsInt()),m.path("/account/roster"))},a.openCalendar=function(){var b=g.open({templateUrl:"trialStartCalendar.html",controller:"TrialCalendarCtrl",keyboard:!1,windowClass:"mm-modal",backdrop:"static",resolve:{subscription:function(){return a.subscription}}});b.result.then(a.setTrialStartDate)},a.displayDate=function(a){return moment(a,"YYYYMMDD").format("MMM Do")},a.openLinks=function(){e.forEach(a.appLinks,function(a){h.open(a.link,"_blank")})},a.$on("onBeforeUnload",function(b,c){a.subscription.trialStartDate||(c.message="You haven't picked a start date for your Motion Math pilot.")})}]).controller("TrialCalendarCtrl",["$scope","$modalInstance","dayAsInt","subscription",function(a,b,c,d){a.close=b.close,d.trialStartDate?a.selectedDay=c.toDate(d.trialStartDate):a.selectedDay=new Date,a.saveDate=function(a){var d=c.dateToDayAsInt(a);b.close(d)},a.isToday=function(a){return c.dateToDayAsInt(a)===c.todayAsInt()},a.displayDate=function(a){return moment(a).format("MMM Do")},a.classForDate=function(b){return moment(b).isSame(a.today,"day")?"dateItem today":"dateItem"},a.today=new Date,a.maxDate=(new moment).add(3,"months").toDate()}]).controller("TrialNotificationCtrl",["$scope","TEACHER","dayAsInt",function(a,b,c){var d=b.getClientData();d.deviceArray;a.accessCode=d.loginCode,a.hasStartedTrial=b.hasStartedTrial,a.hasSetFutureTrialStartDate=b.hasSetFutureTrialStartDate,a.hasTrialExpired=b.hasTrialExpired,a.hasIpads=b.hasIpads;var e=b.getActiveSubscription();a.daysToEnd=c.daysBetween(c.todayAsInt(),e.expirationDay),a.trialStartDisplay=function(){return moment(b.getActiveSubscription().trialStartDate,"YYYYMMDD").format("MMM Do")}}]),angular.module("controllers.studentsView",[]).controller("StudentsViewCtrl",["$scope","$q","lodash","TeacherAPI","dayAsInt","$injector","games","roster","mmConstants",function(a,b,c,d,e,f,g,h,i){function j(a,b){function d(a,b){return[h.lastDay.uncategorized[b][a],h.last7Days.uncategorized[b][a],h.allDays.uncategorized[b][a]]}function e(a){return d(a,"firstMetrics")}function f(a){return d(a,"secondaryMetrics")}function g(a,b,d,e){var e=c.map(e,function(a){return{label:a.label,value:h.allDays.uncategorized.motivationParameters[b].sub[a.value],description:a.description}});return{label:a,name:b,value:h.allDays.uncategorized.motivationParameters[b].root,description:d,subs:e}}var h=a[b].levels[a[b].levels.length-1];return{primary:[{label:"% of levels above challenge",values:e("prctLevelAbove")},{label:"% of levels in challenge",values:e("prctLevelIn")},{label:"% of levels below challenge",values:e("prctLevelBelow")},{label:"% of levels quit",values:e("prctLevelQuit")},{label:"Average Orientation toward challenge",values:e("avrgOrien")},{label:"Average Proximity of challenge",values:e("avrgProx")},{label:"Variance of Change",values:e("totalVar")},{label:"Vector of Change",values:e("totalVect")},{label:"Direction of Change",
values:e("totalDir")},{label:"Variance after Success",values:e("successVar")},{label:"Vector after Success",values:e("successVect")},{label:"Direction after Success",values:e("successDir")},{label:"Variance after Survival",values:e("survivalVar")},{label:"Vector after Survival",values:e("survivalVect")},{label:"Direction after Survival",values:e("survivalDir")},{label:"Variance after Loss",values:e("lossVar")},{label:"Vector after Loss",values:e("lossVect")},{label:"Direction after Loss",values:e("lossDir")},{label:"Variance after Quit",values:e("quitVar")},{label:"Vector after Quit",values:e("quitVect")},{label:"Direction after Quit",values:e("quitDir")}],secondary:[{label:"Exploration Profile",values:f("exploProfile")},{label:"Challenge Profile",values:f("chalProfile")},{label:"Practice Profile",values:f("practProfile")},{label:"Avoidance+ Profile",values:f("avoidancePlus")},{label:"Avoidance- Profile",values:f("avoidanceMinus")},{label:"Response to Success (Challenge)",values:f("successResp")},{label:"Response to Survival (Challenge)",values:f("survivalResp")},{label:"Response to Failure (Avoidance)",values:f("lossResp")},{label:"Response to Quit (Avoidance)",values:f("quitResp")}],factor:[g("Growth Mindset","growthMindset","Does the student believe they will improve through dedication and hard work?",[{label:"Challenge-seeking",value:"challengeAffinity",description:"Does the student seek out appropriate challenge?"},{label:"Persistence",value:"persistence",description:"Does the student continue to embrace challenge in response to failure?"}]),g("Confidence","confidence","Does the student believe in their ability to do well?",[{label:"Boldness",value:"boldness",description:"Does the student seek out novel and even overwhelming challenges?"},{label:"Response to Success",value:"respToSuccess",description:"Does the student respond to success by embracing additional challenge?"}]),g("Goal Orientation","goalOrientation","Is the student driven by the desire to master concepts and perform at a high level?",[{label:"Drive to Master",value:"masteryApproach",description:"Is the student driven to master challenges or concepts?"},{label:"Drive to Outperform",value:"outperformanceApproach",description:"Is the student driven to perform at a high level?"},{label:"Drive to Demonstrate",value:"demonstrationApproach",description:"Is the student driven to be perceived as performing at a high level?"}]),g("Productive Strategy","productiveStrategy","Does the student exhibit an approach to play that leads to success?"),g("Self-Regulation","selfRegulation","Does the student follow through on their strategies in the face of challenges or appealing diversions?",[{label:"Discipline",value:"control",description:"Does the student make coherent choices?"},{label:"Commitment",value:"commitment",description:"Does the student follow through on their choices?"}])]}}function k(e){b.all([d.getMaxMinGameLevelValues(),d.getAppLevels(e.studentId),d.getInterventions(e.studentId),d.getRashLevels(e.studentId)]).then(function(b){a.appUsages=[],b[1].forEach(function(d){"agm1oxafGhoA1LUyTb4SHvBfdbD4Tu"==d.appId&&(d.appUnit="Cupcake!");var e=i.games[d.appUnit].gameVersions,f=e?e.length:0,g="designVersion"+f;if(d.designVersion=g,d.maxDesignVersionNumber=f,d.designVersions=[],c.forEach(c.range(f+1),function(a){d.designVersions.push({versionNumber:a,disabled:!c.has(d,"designVersion"+a),selected:a==f})}),d.selectedDesignVersion=f,d[g]&&d[g].levels&&d[g].levels.length>0){a.appUsages.push(d),b[1][d.appUsageId]&&(b[0][d.appUsageId][d.chapterId]||"agm1oxafGhoA1LUyTb4SHvBfdbD4Tu"==d.appUsageId)&&(a.data.maxMin[d.chapterId]=b[0][d.appUsageId][d.chapterId]),d.maxMin={min:c.get(b[0],[d.appUnit,"min"]),max:d.max=c.get(b[0],[d.appUnit,"max"])},"Hungry Fish"==d.appUnit&&(d.motivationMetrics=j(d,g)),"Hungry Fish"==d.appUnit&&(d.interventions=b[2]);var h=c.find(b[3],function(a){return a.appUnit==d.appUnit});d.rashZpc=h?h[g].levels:[]}})})}a.games=g,a.lodash=c,a.accountsData={metric:{}},a.data={maxMin:{},metric:{name:"Confidence",value:"confidence"},metrics:[{name:"Confidence",value:"confidence"},{name:"Goal Orientation",value:"goalOrientation"},{name:"Growth Mindset",value:"growthMindset"},{name:"Drive to Demonstrate",value:"productiveStrategy"},{name:"Self-Regulation",value:"selfRegulation"}],timeWindows:["lastDay","last7Days","allDays"],selectedTimeWindows:[],categoryType:["categorized","uncategorized"],selectedCategoryTypes:[]},a.toggleTimeWindowSelection=function(b){var c=a.data.selectedTimeWindows.indexOf(b);c>-1?a.data.selectedTimeWindows.splice(c,1):a.data.selectedTimeWindows.push(b)},a.toggleCategoryType=function(b){var c=a.data.selectedCategoryTypes.indexOf(b);c>-1?a.data.selectedCategoryTypes.splice(c,1):a.data.selectedCategoryTypes.push(b)},a.studentParameters=[],a.appUsages=[],a.$watch("data.student",function(b){b?k(b):a.parameters=void 0}),a.parameters=void 0;var l;try{var m=f.get("TEACHER");l=m.getUser()}catch(n){l=a.$parent.$parent.user}a.roster=[],h.fetchRosters(l.id).then(function(){var b=h.getSelectedRoster(l.id);a.roster=c.concat(a.roster,b.students)})}]),angular.module("controllers.accounts.abTest",[]).controller("ABTestCtrl",["$routeParams","$scope","$window","$location","ABTests","googleAnalytics",function(a,b,c,d,e,f){b.$on("$viewContentLoaded",function(){f.sendPageview(d.path()),c.optimizely=c.optimizely||[],c.optimizely.push(["activate"]),e.addTest(a.template)});var g={};b.selectedTemplate=a.template,b.template={url:g[b.selectedTemplate]},b.testVariant=a.template}]),angular.module("controllers.accounts.folTeacherSurvey",[]).controller("FOLTeacherSurveyCtrl",["$scope","accountsAPI","$routeParams","authorization","lodash","$anchorScroll",function(a,b,c,d,e,f){b.getSurveyWithToken(c.token).then(function(b){a.survey=b,a.nextStudent()})["catch"](function(a){d.goToLogin()}),a.questions={Mindset:"Does %s believe he/she can improve through dedication and hard work?",Confidence:"How confident is %s?",Goals:"Does %s strive to master concepts and perform at a high level?",Strategy:"Does %s approach problems with a successful strategy?",Regulation:"Does %s follow through, even when faced with a challenge or diversion?"},a.modes=[{name:"math",text:"When doing math"},{name:"games",text:"When playing math games"}],a.nextStudent=function(){var b=e.find(a.survey.students,function(a){return!a.survey||e.isEmpty(a.survey)});b?(a.STATE="SURVEY",b.survey={},e.indexOf(a.survey.students,b)==a.survey.students.length-1&&(a.done=!0),a.studentData=b):(a.done=!0,a.STATE="THANKS"),f()},a.finish=function(){a.STATE="THANKS"},a.save=function(){b.updateSurveyWithToken(c.token,a.survey)}}]),angular.module("controllers.accounts.updateRosters",[]).controller("UpdateRostersCtrl",["$scope","TEACHER","lodash","accountsAPI","teachersData","mmConstants","roster","$q","$rootScope",function(a,b,c,d,e,f,g,h,i){function j(){return c.map(a.teachersBySchool[a.updates.school.schoolName],function(a){return g.fetchRosters(a.id)})}a.teacherTitle=e.teacherTitle,a.gradeLevels=f.gradeLevels,a.gradeLevels.push("Deactivated Students"),a.updates={school:b.getInstitution(),rosters:{}},a.initData=function(){if(b.isDistrictLevel()){var f=c.get(b.getClientData(),"institution.districtId");d.getSchoolsForDistrict(f).then(function(b){a.allSchools=b,a.updates.school=a.allSchools[0],a.changeSchool()})}e.init().then(function(){a.teachersBySchool=c.groupBy(e.teacherList,"schoolName"),delete a.teachersBySchool["null"],a.changeSchool()})},a.initData(),a.cancel=function(){a.changeSchool()},a.clearRosters=function(){a.migratingRosters=!0,confirm("Are you sure you want to delete all rosters?")&&h.all(j()).then(function(){var b=c.map(a.teachersBySchool[a.updates.school.schoolName],function(a){var b=g.getAllRosters(a.id);return c.map(b,function(b,c){return g.deleteRoster(a.id,c,!0)})});return h.all(c.flatten(b))}).then(function(){a.migratingRosters=!1,alert("All rosters deleted"),i.$broadcast("rostersMigrated")})},a.update=function(){var b=!0,d=a.studentCountInRosters(a.allStudents),e=a.allStudents.length-d;e>0&&(b=confirm("You have "+e+" "+(e>1?"students":"student")+" who are not assigned to any class. These students will now be deactivated. Proceed?")),b&&(a.migratingRosters=!0,h.all(j()).then(function(){var b=c.map(a.updates.teachers,function(a){var b=g.getAllRosters(a.teacherInfo.id);return c.map(b,function(b,c){return g.deleteRoster(a.teacherInfo.id,c,!0)})});return h.all(c.flatten(b))}).then(function(){return h.all(j())}).then(function(){var b=c.map(a.updates.teachers,function(a){if("deactivated"!==a.teacherInfo.id)return c.map(a.students,function(b){return g.addStudentToRoster(b,a.teacherInfo.id)})});return h.all(c.flatten(b))}).then(function(){a.migratingRosters=!1,alert("All rosters have been migrated!"),i.$broadcast("rostersMigrated")}))},a.studentCountInRosters=function(a){var b=0;return c.forEach(a,function(a){(a.newRosters&&a.newRosters.length>0||0==a.rosters.length)&&b++}),b},a.changeSchool=function(b){if(a.teachersBySchool&&!a.updates.schools)if(a.confirmReset()){d.getSchoolStudents(a.updates.school.schoolId).then(function(b){a.allStudents=b,a.selectedStudents=[],a.selectedGrade=a.gradeLevels[0]}),a.updates.teachers=[{orderIndex:0,teacherInfo:{id:"deactivated",firstName:"Deactivated",lastName:"Students",role:"(Students no longer using Motion Math)"},students:[]}],a.inactiveTeacher=a.updates.teachers[0];var e=a.teachersBySchool[a.updates.school.schoolName];c.forEach(e,function(b){var c={teacherInfo:b,students:[]};a.updates.teachers.push(c)})}else if(b)for(var f=0;f<a.allSchools.length;f++)if(a.allSchools[f].schoolId==b.schoolId){a.updates.school=a.allSchools[f];break}},a.confirmReset=function(){var b=!1;if(a.updates.teachers)for(var c=0;c<a.updates.teachers.length;c++)if(a.updates.teachers[c].students.length>0){b=!0;break}return!b||confirm("You have unsaved changes. Continue?")},a.changeGrade=function(b){var c=a.gradeLevels.indexOf(a.selectedGrade);c+=b,a.selectedGrade=a.gradeLevels[c]},a.filteredStudents=function(){return a.allStudents?c.filter(a.allStudents,function(b){return b.rosters.length>0?b.rosters[0].gradeLevel==a.selectedGrade:"Deactivated Students"==a.selectedGrade}):[]},a.selectStudent=function(b){a.isSelected(b)?c.remove(a.selectedStudents,b):a.selectedStudents.push(b)},a.isSelected=function(b){return c.includes(a.selectedStudents,b)},a.toggleContent=function(a){a.showContent=!c.get(a,"showContent",!1)},a.chosenTeacher=null,a.addAllToClass=function(b){a.chosenTeacher=b,c.forEach(a.selectedStudents,function(b){if(c.includes(a.inactiveTeacher.students,b)&&(c.remove(a.inactiveTeacher.students,b),b.newRosters=[]),!c.includes(a.chosenTeacher.students,b)){b.newRosters||(b.newRosters=[]);var d=a.chosenTeacher.teacherInfo.firstName.charAt(0)+a.chosenTeacher.teacherInfo.lastName.charAt(0);b.newRosters.push(d),a.chosenTeacher.students.push(b)}}),a.selectedStudents=[],a.chosenTeacher=null},a.deactivateAll=function(){c.forEach(a.selectedStudents,function(b){b.newRosters&&b.newRosters.length>0&&c.forEach(a.updates.teachers,function(a){c.includes(a.students,b)&&c.remove(a.students,b)}),a.inactiveTeacher.students.push(b),b.newRosters=["inactive"]}),a.selectedStudents=[]}}]),angular.module("controllers.accounts.parentProgress",[]).controller("ParentProgressCtrl",["$scope","TEACHER",function(a,b){a.teacherId=b.getUser().teacherId}]),angular.module("controllers.accounts.parentValidate",[]).controller("ParentValidateCtrl",["$scope","$routeParams","accountsAPI","$location","googleAnalytics",function(a,b,c,d){console.log("calling with token: "+b.token);var e=b.token;c.parentValidate(e).then(function(a){console.log("sending to main"),d.path("/main")})["catch"](function(){a.error=!0})}]),angular.module("controllers.printRoster",[]).controller("PrintRosterCtrl",["$scope","lodash","$window","TEACHER","roster","accountsAPI","utils","visualPasswordAPI","$timeout","teacherDashboardSrvc",function(a,b,c,d,e,f,g,h,i,j){function k(){f.getSchoolStudents(g.schoolId(d.getUser())).then(function(a){var b=j.getPrintableTeacher();h.getPasswordUsers(b).then(function(b){l(a,b)})})}function l(b,c){var d={},f=_.groupBy(b,function(a){return a.firstName}),g=[];_.each(f,function(a){g.push(_.sortBy(a,function(a){return a.lastName.slice(0,1).toUpperCase()}))}),g=_.sortBy(g,function(a){return a[0].firstName.slice(0,1).toUpperCase()}),b=_.flatten(g);for(var h=0;h<b.length;h++){var k=b[h];a:for(var l=0;l<c.length;l++){var m=c[l];if(m.userId==k.studentId){if(k.password=m.password,k.password){var n=k.password.split(",");k.password={one:n[0],two:n[1],three:n[2]}}break a}}}for(var o=j.getPrintableTeacher(),p=0;p<b.length;p++){var k=b[p];if(k.rosters)for(var q=0;q<k.rosters.length;q++){var r=k.rosters[q],s=r.rosterId;o&&!e.rosterData[o].rosters[s]||(d.hasOwnProperty(s)||(d[s]={students:[],id:s,name:r.name}),d[s].students.push(k))}}for(var t=0,u=Object.keys(d);t<u.length;t++){var v=d[u[t]];v.tableRows=[];for(var w=Math.ceil(v.students.length/2),p=0;p<w;p++)v.tableRows.push({first:!1,second:!1});for(var h=0;h<v.students.length;h++){var k=v.students[h],x={name:(k.firstName+" "+k.lastName).slice(0,30),password:k.password};h<w?v.tableRows[h].first=x:v.tableRows[h-w].second=x}}a.rosters=d,i(function(){window.print()},500)}a.rosters=[],k()}]),angular.module("controllers.iready",[]).controller("IReadyCtrl",["$location","$scope","$routeParams","configuration","iReadyAPI","lodash","iReadyData","roster","urlService",function(a,b,c,d,e,f,g,h,i){const j={dashboard:"/views/accounts/iready/dashboardTab.html",playtime:"/views/accounts/iready/playtimeTab.html",factorsOfLearning:"/views/accounts/iready/factorsOfLearningTab.html",games:"/views/accounts/games.html"};b.template={url:j[c.template]},b.selectedTemplate=c.template;var k=!1;b.isLoading=function(){return k},b.startLoading=function(){k=!0,b.$apply()},b.goTo=function(c){k=!0,setTimeout(function(){k=!1,a.path(c),b.$apply()},300)},b.hasSchool=function(){return g.getSchoolId()},b.playUrl=i.getPlayServerUrl(),b.teachers={},b.grades={},b.studentsNumber={},g.getMe().then(function(a){b.teacherId=a.teacher.id}),b.hasSchool()&&e.getRostersInfo().then(function(a){f.forEach(a,function(a){b.teachers[a.rosterId]=f.map(a.teachers,function(a){return h.formatFullName(a.firstName,a.lastName)}).join("; "),b.studentsNumber[a.rosterId]=a.studentIds.length})})}]),angular.module("controllers.accounts.gamesTab",[]).controller("GamesTabCtrl",["$scope","configuration","authorization","$sce","$window","TEACHER","accountsAPI","iReadyData","urlService",function(a,b,c,d,e,f,g,h,i){e.document.domain=i.getDomainName();var j=f.getUser(),k=f.getClientData();a.gamesUrl=d.trustAsResourceUrl(i.getPlayServerUrl());var l=j.teacherId?j.teacherId:j.id;e.teacherForGames={token:c.getBearerToken(),serverDataVersion:h.getServerDataVersion(),teacherId:l,userId:l,firstName:j.firstName,lastName:j.lastName,gradeLevel:k.settings.gradeLevel,iReady:h.isEnabled(),userRole:h.getUserRole(),onboardId:h.getOnboardId(),stateId:h.getStateId(),schoolId:h.getSchoolId(),primarySchoolMathClasses:h.getPrimarySchoolMathClasses(),isTeacher:!0,passwordCreated:!1,passwordEntered:!1,passwordRequired:!1,passwordLocked:!1,teacher:{first:j.firstName,last:j.lastName,id:l}}}]),angular.module("directives.institutionSearch",[]).directive("institutionSearch",["searchAPI","$document","$timeout","lodash",function(a,b,c,d){return{restrict:"A",templateUrl:"/views/accounts/partials/institution-search.html",require:"ngModel",scope:{model:"=ngModel",type:"=",user:"=",onSelect:"=ngChange"},link:function(b,e,f,g){function h(){var c=b.input;j(),!c||c.length<3?(b.searchResults=[],b.showDropdown=!1):c.length>=3&&(b.showDropdown=!0,a.searchInstitutions(b.type,c).then(function(a){b.searchResults=a}))}function i(a){j(),b.model.type=b.type,a.city&&(b.model.city=a.city),"district"===b.type?(b.model.districtId=a._id,b.model.districtName=a.name):(b.model.schoolId=a._id,b.model.schoolName=a.name,b.model.districtId=a.districtId,b.model.districtName=a.districtName),g.$setValidity("institutionSearch",!0),d.isFunction(b.onSelect)&&b.onSelect(a)}function j(){for(var a in b.model)delete b.model[a];g.$setValidity("institutionSearch",!1)}function k(){if(b.user.providerData&&b.user.providerData.edmodo){var a=b.user.providerData.edmodo;"district"===b.type&&a.edmodoDistrict?b.input=a.edmodoDistrict.name+" "+a.edmodoDistrict.zip_code:a.edmodoSchool&&(b.input=a.edmodoSchool.name+" "+a.edmodoSchool.zip_code)}else b.input="";b.search()}function l(){for(var a="",b=0;b<30;b++)a+=n.charAt(Math.floor(Math.random()*n.length));return a}b.showDropdown=!1,b.input;var m;b.search=function(){m&&c.cancel(m),m=c(h,500)},b.clickedInstitution=function(a){i(a),b.showDropdown=!1,b.input=a.name},b.$watch("type",function(a,c){a!==c&&(j(),b.input=null,b.manualInput=null,b.manualInputCity=null,b.showCustomInput=!1,k())}),b.manualInputTyped=function(){if(j(),b.manualInput.length>0){var a={name:b.manualInput,city:b.manualInputCity,_id:"manual-"+l()};i(a)}},b.goToManualInput=function(){b.showCustomInput=!0,b.manualInput=b.input,b.manualInputTyped()},"district"===b.type&&b.model.districtName?b.input=b.model.districtName:"school"===b.type&&b.model.schoolName?b.input=b.model.schoolName:k();var n="abcdefghijkmnpqrstuvwxyz1234567890"}}}]),angular.module("directives.numberSelect",[]).directive("numberSelect",["lodash",function(a){return{restrict:"A",templateUrl:"/views/accounts/partials/number-select.html",scope:{min:"=",max:"=",onSelect:"=",showLikelihoodLabels:"="},link:function(b,c,d,e){b.vals=a.range(b.min,b.max+1)}}}]),angular.module("directives.userSettingsMenu",[]).directive("userSettingsMenu",["$window",function(a){return{restrict:"E",templateUrl:"/views/accounts/partials/user-settings-menu.html",scope:{firstName:"=",canUpgrade:"=",trialStarted:"="},link:function(a,b,c,d){a.menuItems=[{title:"Support",href:"http://support.motionmathgames.com/",target:"_blank"},{title:"Settings",href:"/#/account/settings"}],a.canUpgrade&&a.menuItems.push({title:"Subscribe",href:"/#/account/account"}),a.trialStarted||a.menuItems.push({title:"Setup",href:"/#/account/setup"}),a.menuItems.push({title:"Sign out",href:"/#/logout"}),a.dropdownSettings={name:a.firstName?a.firstName:"Account",items:a.menuItems}}}}]),angular.module("directives.roster",[]).directive("roster",["configuration","TEACHER","roster","mmConstants","accountsAPI","utils","visualPasswordAPI","$location","lodash","$timeout","$modal","customerIO","$q","teachersData","authorization","teacherDashboardSrvc",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a,q,r,s){function t(){e.getSchoolStudents(f.schoolId(a.user)).then(function(a){L=a})}function u(){a.loading=!0,c.fetchRosters(a.teacherId).then(function(){a.changeRoster(),a.loading=!1})}function v(a){return i.split(i.trim(a),/\s+/g)}function w(a){return a.toLowerCase().replace(/ /g,"")}function x(a){return w(a.firstName+" "+a.lastName)}function y(b){var c=w(b),d=a.workingRoster.map(x);return i.includes(d,c)}function z(b){var c=!0;b&&(a.isRosterNotUnique=!1,a.errorMessages=[]);var d=a.rosterStringToArray(),e=[];return i.forEach(d,function(d){var f=v(d);f.length<2&&(c=!1,b&&a.errorMessages.push("'"+d+"' must have both a first and last name.")),f[0].length>200&&(c=!1,b&&a.errorMessages.push("'"+f[0]+"' must be less than 255 chars.")),f[1].length>200&&(c=!1,b&&a.errorMessages.push("'"+f[1]+"' must be less than 255 chars."));var g=w(d);e.indexOf(g)!==-1||y(d)?(c=!1,b&&(a.isRosterNotUnique=!0,a.errorMessages.push("'"+d+"' is a duplicate name in the roster."))):e.push(g)}),c}function A(){var b=[];if(a.teacher.rosterString.length>0){var c=a.rosterStringToArray();b=i.map(c,function(a){var b=v(a),c=b[0],d=i.join(i.tail(b)," "),e={firstName:c,lastName:d};return D(e)}),a.teacher.rosterString=""}return m.all(b)}function B(){return a.getRemainingNumberOfStudents()<=0}function C(b){var c=i.filter(a.matchingMethodOptions,{on:!0});return i.filter(L,function(a){var d=i.map(c,function(c){return c.fn(b,a)});return i.some(d)})}function D(b){var e=E(b);if(e!=-1);else if(y(b.firstName+" "+b.lastName))a.isRosterNotUnique=!0;else if(!B()){var f=C(b);if(f.length>0&&(!a.clientData||d.parentRoles.indexOf(a.clientData.settings.role)<0)){var g=K("duplicateStudent.html","DuplicateStudentCtrl",{newStudent:function(){return b},students:function(){return f}});return g.result.then(function(d){i.get(d,"studentId")&&(b.existing=!0,b.studentId=d.studentId);var e=i.keys(c.getAllRosters(a.teacherId)),f=i.map(i.get(d,"rosters",[]),"rosterId"),g=i.intersection(e,f).length>0;g||(M-=1),a.workingRoster.splice(1,0,b)})}a.workingRoster.splice(1,0,b),M-=1}return m.when()}function E(b){return b.studentId||b.edmodo_token?i.findIndex(a.workingRoster,function(c){return c.studentId===b.studentId||(c.studentId===b.edmodo_token||c.studentId===a.teacherId&&b.studentId===String(i.get(a.user,"providerData.edmodo.id")))}):-1}function F(){var b=angular.copy(a.workingRoster);i.forEach(b,function(a){delete a.edit,delete a.editName});var c=a.rosterStringToArray();return!angular.equals(b,a.startingRoster)||c.length>0}function G(a,b){F()&&(angular.equals(b,{})?b.message="Your roster will not be saved.":confirm("Are you sure you want to leave? Your roster will not be saved.")||a.preventDefault())}function H(){O&&j.cancel(O),I()}function I(){"picturePasswords"==a.studentPasswords&&(g.getPasswordUsers(a.teacherId).then(function(b){a.usersWithPasswords={};for(var c=0;c<b.length;c++)a.usersWithPasswords[b[c].userId]=b[c]}),O=j(I,5e3))}function J(a,b){k.open({templateUrl:"showPassword.html",controller:"ShowPasswordCtrl",keyboard:!1,windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{username:function(){return a},password:function(){return b}}})}function K(a,b,c){return k.open({templateUrl:a,controller:b,keyboard:!1,windowClass:"mm-modal",backdrop:"static",resolve:c,size:"mm"})}a.rosterService=c,a.isSelf=!1,a.isParentGuardian=b.isParentGuardian;var L=[];a.updatePrintableTeacher=function(){p.updatePrintableTeacher(a.teacherId)},a.teacherId===b.getId()?(a.user=b.getUser(),a.isSelf=!0,a.clientData=b.getClientData(),t()):n.init().then(function(){a.user=n.getTeacher(a.teacherId),t()}),a.activeSubscription=b.getActiveSubscription(),a.activeSubscription.currentRosterSize||(a.activeSubscription.currentRosterSize=0);var M=a.activeSubscription.rosterLimit-a.activeSubscription.currentRosterSize,N=b.getClientData();if(a.teacher={studentId:a.teacherId,firstName:b.getFirstName(),lastName:b.getLastName()},a.changeRoster=function(){var b=c.getSelectedRoster(a.teacherId);a.startingRoster=b.students,a.workingRoster=angular.copy(a.startingRoster)},a.isNotTeacher=function(b){return b.studentId!==a.teacherId},a.hasId=function(a){return i.isString(a.studentId)},a.isRosterNotUnique=!1,a.errorMessages=[],a.hasStartedRoster=function(){return a.startingRoster&&a.startingRoster.length>0},a.isValidName=function(b,c){var d=b&&b.trim().length>0&&b.trim().length<200;return d&&!c&&(a.isRosterNotUnique=y(b.trim())),d&&v(b).length>1&&!a.isRosterNotUnique},a.typedInRoster=function(a){13==a.keyCode&&z(!0)},a.rosterStringToArray=function(){return i.get(a.teacher,"rosterString","").split("\n").filter(function(a){return a.trim().length>0})},a.isValidRoster=function(){return a.teacher.rosterString&&a.teacher.rosterString.length>0&&a.getRemainingNumberOfStudents()>0&&z(!1)},a.getRemainingNumberOfStudents=function(){return M},a.saveRoster=function(){a.isRosterNotUnique=!1,a.teacher.rosterString=a.teacher.rosterString?a.teacher.rosterString.concat("\n"):"",A().then(function(){i.forEach(a.workingRoster,function(a){delete a.edit,delete a.editName}),a.saveNewStudents()})},a.canChooseMatchingOptions=o.isLoggedInAdmin()&&"true"===h.search().superpowers,a.matchingMethodOptions=[{name:"First and last name match",fn:function(a,b){return b.firstName.toLowerCase()===a.firstName.toLowerCase()&&b.lastName.toLowerCase()===a.lastName.toLowerCase()},on:!0},{name:"First name match",fn:function(a,b){return b.firstName.toLowerCase()===a.firstName.toLowerCase()}},{name:"Last name match",fn:function(a,b){return b.lastName.toLowerCase()===a.lastName.toLowerCase()}},{name:"First three letters of first and last name match",fn:function(a,b){var c={length:3,omission:""};return i.truncate(b.firstName.toLowerCase(),c)===i.truncate(a.firstName.toLowerCase(),c)&&i.truncate(b.lastName.toLowerCase(),c)===i.truncate(a.lastName.toLowerCase(),c)}},{name:"Match first and last (optionally) flipped",fn:function(a,b){var c=a.firstName.replace(",","")+" "+a.lastName.replace(",",""),d=a.lastName.replace(",","")+" "+a.firstName.replace(",",""),e=b.firstName.replace(",","")+" "+b.lastName.replace(",","");return c===e||d===e},on:!0},{name:"Edit (levenshtein) distance <= 1",fn:function(a,b){var c=a.firstName+" "+a.lastName,d=b.firstName+" "+b.lastName,e=Levenshtein.get(c,d);return e<=1},on:!0},{name:"Match first and last flipped, edit distance <= 2",fn:function(a,b){var c=a.firstName.replace(",","")+" "+a.lastName.replace(",",""),d=a.lastName.replace(",","")+" "+a.firstName.replace(",",""),e=b.firstName.replace(",","")+" "+b.lastName.replace(",",""),f=Levenshtein.get(c,e),g=Levenshtein.get(d,e);return f<=1||g<=1},on:!0},{name:"Don't match",fn:function(a,b){return!1}}],a.matchingMethods=[a.matchingMethodOptions[0]],a.saveNewStudents=function(){var d=i.filter(a.workingRoster,function(a){return!a.studentId||a.existing});m.all(i.map(d,function(b){return b.existing===!0?(delete b.existing,c.addStudentToRoster(b,a.teacherId)):c.createStudentAndAddToRoster(b,a.teacherId)})).then(function(){if(a.isSelf){var c=b.getClientData().setup||{};return c.rosterFinished=!0,b.updateSetup(c)}}).then(function(){a.changeRoster(),t(),l.identify()})},a.editRoster=function(b){k.open({templateUrl:"editRoster.html",controller:"EditRosterCtrl",keyboard:!1,windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{rosterInfo:function(){return b?b:c.getSelectedRoster(a.teacherId)},rosterService:function(){return c},teacherId:function(){return a.teacherId}}}).result.then(function(a){a&&u()})},a.typedInAddStudent=function(b){13==b.keyCode&&a.getRemainingNumberOfStudents()>0&&(b.preventDefault(),a.addStudentAndSave())},a.addStudentAndSave=function(){z(!0)&&0!=a.getRemainingNumberOfStudents()&&(a.isRosterNotUnique=!1,A().then(a.saveNewStudents))},a.confirmNameChange=function(b){a.isRosterNotUnique=!1;var d=v(b.editName),e=d[0],f=i.join(i.tail(d)," ");if(b.firstName===e&&b.lastName===f)delete b.editName,delete b.edit;else if(y(e+" "+f))a.isRosterNotUnique=!0;else if(b.firstName=e,b.lastName=f,delete b.editName,delete b.edit,b.studentId){var g=i.find(a.startingRoster,{studentId:b.studentId});g.firstName=b.firstName,g.lastName=b.lastName,c.updateStudentInRoster(b)}},a.typedInEditName=function(b,c){13==b.keyCode&&a.isValidName(c.editName,!0)?(b.preventDefault(),a.confirmNameChange(c)):27==b.keyCode?(b.preventDefault(),delete c.editName,delete c.edit):a.isRosterNotUnique&&(a.isRosterNotUnique=!1)},a.showDeleteConfirmation=function(b,d){var e=k.open({templateUrl:"deleteConfirmation.html",controller:"DeleteConfirmationCtrl",keyboard:!1,windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{student:function(){return b}}});e.result.then(function(d){d&&(b.studentId?c.removeStudentFromRoster(a.teacherId,b).then(a.changeRoster):i.remove(a.workingRoster,b),M+=1)})},a.createRoster=function(){var b=c.newRosterForTeacher(a.teacherId);a.editRoster(b)},a.$on("onBeforeUnload",G),a.$on("$routeChangeStart",G),a.$on("$destroy",function(){j.cancel(O)}),a.isSelf,!0){a.studentPasswords=i.get(N,"settings.studentPasswords","off"),a.usersWithPasswords={};var O=null;H(),a.hintsFor=function(b,c){return i.get(a.usersWithPasswords,b+".hints")==c},a.resetPassword=function(a){g.resetPassword(a).then(H)},a.showPassword=function(b,c){a.isSelf?g.getPassword(c).then(function(a){J(b,a.password)}):g.getPasswordUsers(a.teacherId).then(function(a){if(a&&a.length)a:for(var d=0;d<a.length;d++)if(a[d].userId==c){J(b,a[d].password);break a}})},a.giveHints=function(a){g.toggleHints(a,"on").then(H)}}a.publicControls=a.control||{},a.publicControls.hasEdited=F,a.publicControls.isValidRoster=a.isValidRoster,a.publicControls.saveRoster=a.saveRoster}return{restrict:"E",replace:!0,templateUrl:"/views/accounts/partials/roster.html",scope:{teacherId:"@",control:"="},link:q}}]).controller("EditRosterCtrl",["$scope","$modalInstance","rosterInfo","mmConstants","rosterService","teacherId",function(a,b,c,d,e,f){a.rosterInfo=c,a.gradeLevels=d.gradeLevels,a.close=function(a){b.close(a)},a.saveAndClose=function(){c.rosterId?e.saveRoster(f).then(a.close):e.createRoster(f,a.rosterInfo).then(function(){a.close(!0)})},a["delete"]=function(){var b=!0;c.students&&c.students.length>0&&(b=confirm("Are you sure you want to delete this roster? Any students not in another roster will be moved to an inactive list.")),b&&e.deleteRoster(f,c.rosterId).then(function(){a.close(!0)})}}]).controller("ShowPasswordCtrl",["$scope","$modalInstance","username","password",function(a,b,c,d){a.username=c,a.password=d.split(","),a.close=function(){b.close()}}]).controller("DeleteConfirmationCtrl",["$scope","$modalInstance","student",function(a,b,c){a.student=c,a.cancel=function(){b.close(!1)},a.confirm=function(){b.close(!0)}}]).controller("DuplicateStudentCtrl",["$scope","$modalInstance","newStudent","students","lodash",function(a,b,c,d,e){a.newStudent=c,a.students=d,a.selectOption=function(a){b.close(a)},a.teacherTitle=function(a){var b=a.rosters[0].teachers[0].role;if("Classroom teacher"==b){var c=""+a.rosters[0].gradeLevel,d=parseInt(c);1==d?c+="st grade":2==d?c+="nd grade":3==d?c+="rd grade":isNaN(d)||(c+="th grade"),b=c+" teacher"}return b}}]),angular.module("directives.dashboard",["ui.select"]).directive("dashboard",["configuration","TEACHER","$filter","$timeout","accountsAPI","roster","ngTableParams","teacherDashboardSrvc","authorization","lodash","demoService","$routeParams","mmConstants",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(m,n,o,p){function q(){for(var a=(document.body.scrollHeight-(window.scrollY+window.innerHeight),["left","right"]),b=0;b<a.length;b++)for(var c=a[b],d=m.element.getElementsByClassName("more-"+c),e=0;e<d.length;e++){var f=d[e];if(f){var g=f.getBoundingClientRect(),h=0,i=0;g&&(h=g.y,h<0&&(i=-h));var j=(window.innerHeight-h)/2+i/2;f.getElementsByClassName("arrow")[0].style.top=j+"px"}}}function r(a){var b=50,c=2,d=m.element.getElementsByClassName("right-scroll-wrapper")[0];m.skillsTableScrolled=a.target.scrollLeft;var e=m.element.getElementsByClassName("more-left")[0],f=m.element.getElementsByClassName("more-right")[0];e.style.left=m.skillsTableScrolled+"px",f.style.right=-m.skillsTableScrolled+"px",e.style.opacity=m.skillsTableScrolled>b?1:0,f.style.opacity=m.skillsTableScrolled+d.clientWidth<d.scrollWidth-b?1:0,m.skillsTableScrolled>c?e.style.display="block":setTimeout(function(){m.skillsTableScrolled<c&&(e.style.display="none")},1e3),m.skillsTableScrolled+d.clientWidth<d.scrollWidth-10?f.style.display="block":setTimeout(function(){m.skillsTableScrolled+d.clientWidth>d.scrollWidth-10&&(f.style.display="none")},1e3)}function s(a){var b=m.element.getElementsByClassName("right-scroll-wrapper")[0],c="left"==a?-1:1,d=8;b.scrollLeft+=c*d}function t(){m.element.getElementsByClassName("right-scroll-wrapper")[0]&&(m.element.getElementsByClassName("right-scroll-wrapper")[0].scrollLeft=0)}function u(){var a=m.element.getElementsByClassName("more-left")[0],b=m.element.getElementsByClassName("more-right")[0];a&&a.style&&(a.style.display="none",a.style.opacity=0),b&&b.style&&(b.style.display="block",b.style.opacity=1)}var v=a.pageSize,w=10;i.checkLoggedIn();var x=!1;m.rosterService=f,m.isParent=b.isParentGuardian,m.isParentGuardian=function(){return b.isParentGuardian()},d(function(){m.element=document.querySelectorAll('[teacher-id="'+o.teacherId+'"]')[0]},50);b.getActiveSubscription();m.detailsShown="",m.useSampleData=!1,m.dashboardRowData=[],m.columns={},m.isCommonCore=h.isCommonCore(),m.namesColumnName=h.g_NAMES_COLUMN_ID,m.lastLevelColumnName=h.g_LAST_LEVEL_COLUMN_ID,
m.specialColumns=new Object,m.specialColumns[h.g_NAMES_COLUMN_ID]=!0,m.specialColumns[h.g_LAST_LEVEL_COLUMN_ID]=!0,m.numScrollableColumns=0;var y=function(a){return a.Names.name.lastName+a.Names.firstName},z=function(a){var b=a[m.tableParams.sorting().sortCol];return h.sortValueForCell(b,m.tableParams.sorting().isDesc)},A=new Object;A[h.g_NAMES_COLUMN_ID]=y,A[h.g_LAST_LEVEL_COLUMN_ID]=z,m.loading=!0,m.tableRefreshing=!1,m.getStudentIds=function(){return m.useSampleData?f.getSampleStudentIds():f.getStudentIds(m.teacherId)},m.getStudents=function(){return m.useSampleData?f.getStudents():f.getStudents(m.teacherId)};var B=function(){m.tableParams=new g({totalCounts:m.getStudentIds().length,paginate:m.getStudentIds().length>100,maxSize:w,itemsPerPage:v,page:1,count:m.getStudentIds().length>100?a.pageSize:m.getStudentIds().length,sorting:{sortFunc:A[h.g_NAMES_COLUMN_ID],isDesc:!1,sortCol:h.g_NAMES_COLUMN_ID}},{paginationMaxBlocks:13,paginationMinBlocks:2,counts:m.getStudentIds().length>100?[50,100]:[],total:m.getStudentIds().length,getData:function(a,b){var d=b.sorting()?c("orderBy")(m.dashboardRowData,b.sorting().sortFunc,b.sorting().isDesc):m.dashboardRowData;d.length>100?m.orderedData=d.slice((b.page()-1)*b.count(),b.page()*b.count()):m.orderedData=d,a.resolve(m.orderedData)}}),m.tableParams.settings().$scope=m,m.tableParams.reload()};B(),m.reloadRoster=function(){m.loading=!0,f.setViewGradeLevel(m.teacherId,h.getClosestSupportedGradeLevel(f.getGradeLevel(m.teacherId))),I(),B()};var C=function(a){m.columns[a.columnId]={title:a.columnId.replace("Math.",""),subtitle:a.description,description:a.description,columnId:a.columnId};for(var b=0;b<m.getStudentIds().length;++b){m.dashboardRowData.length==b&&m.dashboardRowData.push({});var c=m.getStudentIds()[b];a.classAnalyses[c]?m.dashboardRowData[b][a.columnId]=a.classAnalyses[c]:m.dashboardRowData[b][a.columnId]={noData:!0}}},D=function(){for(var a={title:h.g_NAMES_COLUMN_NAME,columnId:h.g_NAMES_COLUMN_ID,description:"Shows your students' names, and sorts alphabetically by first name",classAnalyses:{}},b=m.getStudentIds(),c=m.getStudents(),d=0;d<b.length;++d)a.classAnalyses[b[d]]={id:b[d],name:c[b[d]],columnId:h.g_NAMES_COLUMN_ID};for(var e=m.dashboardRowData.length;e--;){var f=m.dashboardRowData[e][h.g_NAMES_COLUMN_ID].id;E(b,f)||m.dashboardRowData.splice(e,1)}C(a)},E=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},F=function(a,b,c){if(!a[c]){var d=h.titleForColumnId(c),e=h.getColumnSecularTitle(c);b.push(c),a[c]={title:d,columnId:c,subtitle:e,description:h.descriptionForColumnId(c),classAnalyses:{}}}},G=function(a,b){for(var c=new Object,d=[],e=0;e<b.length;e++)F(c,d,b[e]);for(var e=0;e<a.length;e++){var f=a[e];F(c,d,f.columnId),c[f.columnId].classAnalyses[f.studentId]=f}for(var g in c)c.hasOwnProperty(g)&&C(c[g]);for(var i in m.columns)if(m.columns.hasOwnProperty(i)&&i!=h.g_NAMES_COLUMN_ID&&!E(d,i)){delete m.columns[i];for(var e=0;e<m.getStudentIds().length;++e)delete m.dashboardRowData[e][i]}};m.dataCellExplanation="",m.changeDetails=function(a,b,c,d){if(b=b||{},m.detailsShown=a,m.selectedName=j.get(c,"firstName",""),m.selectedCell=b,m.levelsPlural=1!==b.numRelevantLevels?"s":"","standard"==a){if(m.hasEnoughLevels=h.hasAQualifyingMasteryScore(b),m.hasEnoughLevels){m.cellTitle=h.isUsingSecularLabels()?h.titleForColumnId(b.columnId).toLowerCase():h.titleForColumnId(b.columnId);var e=h.statusValueForCell(b);e==h.STATUS_GREEN?m.levelStatus="consistently":e==h.STATUS_YELLOW?m.levelStatus="sometimes":e==h.STATUS_RED?m.levelStatus="not yet":m.levelStatus="","Details"==m.expandedSkillsTableView?m.dataCellExplanation=m.selectedName+" is "+m.levelStatus+" displaying skill based on "+m.selectedCell.numRelevantLevels+" relevant level"+m.levelsPlural+" played.":m.dataCellExplanation=m.selectedName+" has completed "+m.selectedCell.numRelevantLevels+" level"+m.levelsPlural+" relevant to this domain and is "+m.levelStatus+" displaying skill."}}else"lastLevel"==a&&(m.hasALastLevel=h.hasAQualifyingLastLevel(b),m.levelCategory=h.levelCategoryForLastLevelCell(b),m.lastLevelResult=h.resultForLastLevelCell(b));if(d){var f=j.find(m.columns,{columnId:d});m.columnDescription=f.description}},m.changeSort=function(a){var b={};b.sortFunc=A[a]||z,b.isDesc=!m.tableParams.sorting().isDesc,b.sortCol=a,m.tableParams.sorting(b)},m.statusColorForCell=function(a){var b=h.statusValueForCell(a);return{"dashboard-good":b==h.STATUS_GREEN,"dashboard-warning":b==h.STATUS_YELLOW,"dashboard-danger":b==h.STATUS_RED,"dashboard-insufficient":(b==h.STATUS_N_A||b==h.STATUS_UNKNOWN)&&!m.isParent(),notEnoughData:(b==h.STATUS_N_A||b==h.STATUS_UNKNOWN)&&m.isParent()}},m.levelCategoryForLastLevelCell=function(a){return h.levelCategoryForLastLevelCell(a)},m.hasAQualifyingLastLevel=function(a){return h.hasAQualifyingLastLevel(a)},m.imageForLastLevelCell=function(a){return h.imageForLastLevelCell(a)},m.headerSortClass=function(a){return m.tableParams?{"sort-asc":!m.tableParams.sorting().isDesc&&m.tableParams.sorting().sortCol==a,"sort-desc":m.tableParams.sorting().isDesc&&m.tableParams.sorting().sortCol==a}:{}},m.getSampleStudentData=function(){return h.getSampleData(f.getSampleStudentIds(),m.viewingGrade)},m.increaseGrade=function(a){H(a,!0)},m.canIncreaseGrade=function(){var a=m.viewingGrade,b=j.indexOf(f.orderedSupportedGradeLevels,a);return b<f.orderedSupportedGradeLevels.length-1},m.decreaseGrade=function(a){H(a,!1)},m.canDecreaseGrade=function(){var a=m.viewingGrade,b=j.indexOf(f.orderedSupportedGradeLevels,a);return b>0};var H=function(a,b){a.stopPropagation();var c=m.viewingGrade,d=j.indexOf(f.orderedSupportedGradeLevels,c),e=b?1:-1,g=d+e;0<=g&&g<f.orderedSupportedGradeLevels.length&&(f.setViewGradeLevel(m.teacherId,f.orderedSupportedGradeLevels[g]),I())};d(function(){window.addEventListener("scroll",q),window.addEventListener("resize",q)},100),setTimeout(function(){q()},50),d(function(){m.element.getElementsByClassName("right-scroll-wrapper")[0]&&m.element.getElementsByClassName("right-scroll-wrapper")[0].addEventListener("scroll",r)},100),d(function(){for(var a=["left","right"],b=0;b<a.length;b++){var c=a[b];!function(a){m.element.getElementsByClassName("more-"+a)[0]&&m.element.getElementsByClassName("more-"+a)[0].addEventListener("mousedown",function(){var b=this,c=setInterval(function(){s(a);var d=function(){clearInterval(c),b.removeEventListener("mouseup",d),b.removeEventListener("mouseout",d)};b.addEventListener("mouseup",d),b.addEventListener("mouseout",d),q()},10)})}(c)}},100),m.getAvailableGrades=function(){return f.orderedSupportedGradeLevels},m.expandedSkillsTableView="Overview",m.viewingGrade=f.getViewGradeLevel(m.teacherId),m.skillsTableScrolled=0,m.updateSkillsTableMode=function(a){m.tableRefreshing=!0,d(function(){m.expandedSkillsTableView=a,t(),I(),d(function(){q(),u()},20)},200)},m.updateViewedGrade=function(a){m.tableRefreshing=!0,d(function(){m.viewingGrade=a,f.setViewGradeLevel(m.teacherId,a),t(),I()},200)},m.firstLoad=!0;var I=function(){if(m.viewingGrade=f.getViewGradeLevel(m.teacherId),m.adjustHeightStyle={},m.isCommonCore&&"Overview"!=m.expandedSkillsTableView?m.adjustHeightStyle={height:"100px"}:m.adjustHeightStyle={height:"77px"},("dashboard"==l.template||"progress"==l.template||"adminView"==l.template||"progress"==l.tab)&&(!m.disableUpdate||m.firstLoad)){m.firstLoad&&(m.firstLoad=!1);var a=f.getStudentIds(m.teacherId);if(!a||0==a.length)return void K();var b=j.map(j.map(h.getStandardsForClosestGrade(m.viewingGrade),"id"),function(a){return"MasteryAnalyser20"+a.replace(/\./g,"_")});b.push("AnalysisBucketForTimePlayed");var c={studentIds:f.getStudentIds(m.teacherId),analyzers:b};e.teacherStudentsLog(c).then(function(a){var b=J(a);K(j.map(b,function(a){return a.columnId&&(a.columnId=a.columnId.replace(/_/g,".")),a}))})["catch"](function(){K()})}},J=function(a){if("Overview"==m.expandedSkillsTableView){var b=[];j.forEach(a,function(a){if("AnalysisBucketForTimePlayed"==a.analyser)b.push(a);else if(a.numRelevantLevels>=h.g_NUM_LEVELS_RELEVANCY_THRESHOLD){var c=a.columnId.substring(0,a.columnId.indexOf("_","Math_X_".length)),d=j.find(b,function(b){return b.columnId==c&&b.studentId==a.studentId});d?(d.values.push(a.emaScoreValue),d.count+=1,d.totalNumRelevantLevels.push(a.numRelevantLevels)):b.push({columnId:c,values:[a.emaScoreValue],count:1,studentId:a.studentId,totalNumRelevantLevels:[a.numRelevantLevels]})}}),j.forEach(b,function(a){"AnalysisBucketForTimePlayed"!=a.analyser&&(a.emaScoreValue=j.sum(a.values)/a.count,a.numRelevantLevels=j.sum(a.totalNumRelevantLevels))})}else var b=a;return b},K=function(b){m.loading=!1,k.isDemoUser()&&(b=k.brendanClassData,h.makeDataForToday(b)),a.isDemo&&(b=m.getSampleDemoData()),b&&0!=b.length||m.isParent()?(x||(ga("send","event","dataView","dashboard"),x=!0),m.useSampleData=!1,D()):(m.useSampleData=!0,D(),b=m.getSampleData());var c=h.getFilteredData(b,m.viewingGrade),e=h.getGradeLevelColumnIds(m.viewingGrade),f=[];f="Overview"==m.expandedSkillsTableView?j.filter(e,function(a){return a.match(/Math\.[^.]+\.[^.]+$/)}):j.filter(e,function(a){return!a.match(/Math\.[^.]+\.[^.]+$/)}),G(c,f),m.numScrollableColumns=f.length,m.tableParams&&(m.tableParams.reload(),d(function(){m.tableRefreshing=!1},400))};m.reloadRoster(),m.getSampleData=function(){var a=m.getSampleStudentData();return a=j.filter(a,function(a){return!a.columnId.match(/Math_+[^_]+_[^_]+$/)}),a=j.map(J(a),function(a){return a.columnId&&(a.columnId=a.columnId.replace(/_/g,".")),a})},m.getSampleDemoData=function(){var a=[],b=m.getSampleData(),c=f.getSelectedRoster(m.teacherId);for(var d in c.students){for(var e=(parseInt(d)%4+1)*-1,g=0;g<b.length;g++)if(b[g].studentId==e){var h=JSON.parse(JSON.stringify(b[g]));h.studentId=c.students[d].studentId,a.push(h)}0==b.length&&a.push({studentId:c.students[d].studentId})}return a}}return{restrict:"E",replace:!0,templateUrl:"/views/accounts/partials/dashboard.html",scope:{teacherId:"@",disableUpdate:"="},link:n}}]);var refreshCounter=0;angular.module("directives.playtime",[]).directive("playtime",["configuration","roster","accountsAPI","games","lodash","TEACHER","mmConstants","demoService",function(a,b,c,d,e,f,g,h){function i(g,i,l,m){function n(a){g.roster=b.getSelectedRoster(g.teacherId).students,g.gameplay=a,g.roster.length>j?(g.selectedStudents=g.roster.slice(0,j),g.paginate=!0,g.totalItems=g.roster.length,g.pagination={currentPage:1},g.maxSize=k,g.numPage=Math.ceil(g.totalItems/g.maxSize),g.itemsPerPage=j,g.$watch("pagination.currentPage",function(a){var b=(g.pagination.currentPage-1)*j;g.selectedStudents=g.roster.slice(b,b+j)})):(g.selectedStudents=g.roster,g.paginate=!1)}g.data={timeSpan:7},g.round=Math.round,g.gameplay={},g.rosterService=b,g.isParent=f.isParentGuardian,g.isCAPilotUser=f.isCAPilotUser,g.games=e.filter(d,function(a){return!d[a.gameKey].isNotActive}),g.gameCount=g.games.length,g.reload=function(){g.loadData()},g.playtimeFor=function(a,b){var c=g.gameplay[a]||{};if(b)return e.get(c,b+".playtime",0);var d=e.map(c,"playtime");return e.sum(d)},g.maxPlaytimeFor=function(a){var b=g.gameplay[a]||{},c=e.map(b,"playtime");return e.max(c)},g.avgPlaytimeFor=function(a,b){return Math.round(g.playtimeFor(a,b))/Math.round(g.maxPlaytimeFor(a))},g.loadData=function(){g.isLoading=!0;var d=b.getStudentIds(g.teacherId);c.getRosterGameplay(d,g.data.timeSpan).then(function(b){return a.isDemo&&(b=g.getSampleDemoData()),e.isEmpty(b)?c.getRosterGameplay(d,0).then(function(a){e.isEmpty(a)&&(g.isParent()?n():g.loadSampleData())}):void n(b)})["catch"](g.loadSampleData)["finally"](function(){g.calcAverage(),g.isLoading=!1})},g.calcAverage=function(){var a={},b=e.values(g.gameplay);e.forEach(g.games,function(c){var d=e.sumBy(b,function(a){return e.get(a,c.appContext+".playtime",0)}),f=g.paginate?g.roster:g.selectedStudents;a[c.appContext]={playtime:e.isEmpty(f)?0:d/e.size(f)}}),g.gameplay.average=a},g.timeSpanOptions=[{value:1,label:"Last day"},{value:7,label:"Last week"},{value:28,label:"Last 4 weeks"},{value:"schoolYear",label:"This school year"}],g.getDisplayTimePeriod=function(){return g.data.timeSpan>0?"In the past "+g.data.timeSpan+" days":"This school year"},g.minutesText=function(a){return a+" minute"+(1!=a?"s":"")},g.loadSampleData=function(){g.paginate=!1,g.selectedStudents=[{studentId:"sample1",firstName:"Sample Student 1"},{studentId:"sample2",firstName:"Sample Student 2"},{studentId:"sample3",firstName:"Sample Student 3"},{studentId:"sample4",firstName:"Sample Student 4"}],1==g.data.timeSpan?g.gameplay={sample1:{"Cupcake!":{playtime:0},"Fractions!":{playtime:0},"Hungry Fish":{playtime:5},"Hungry Guppy":{playtime:0},Match:{playtime:0},"Pizza!":{playtime:16},"Questimate!":{playtime:0},Wings:{playtime:0},Zoom:{playtime:0},cloudmachine:{playtime:6}},sample2:{"Cupcake!":{playtime:0},"Fractions!":{playtime:0},"Hungry Fish":{playtime:0},"Hungry Guppy":{playtime:0},Match:{playtime:0},"Pizza!":{playtime:16},"Questimate!":{playtime:0},Wings:{playtime:0},Zoom:{playtime:0},cloudmachine:{playtime:0}},sample3:{"Cupcake!":{playtime:0},"Fractions!":{playtime:0},"Hungry Fish":{playtime:0},"Hungry Guppy":{playtime:0},Match:{playtime:0},"Pizza!":{playtime:17},"Questimate!":{playtime:0},Wings:{playtime:0},Zoom:{playtime:0},cloudmachine:{playtime:10}},sample4:{"Cupcake!":{playtime:0},"Fractions!":{playtime:0},"Hungry Fish":{playtime:0},"Hungry Guppy":{playtime:0},Match:{playtime:0},"Pizza!":{playtime:15},"Questimate!":{playtime:0},Wings:{playtime:0},Zoom:{playtime:0},cloudmachine:{playtime:0}}}:7==g.data.timeSpan?g.gameplay={sample1:g.baseSampleData7[0],sample2:g.baseSampleData7[1],sample3:g.baseSampleData7[2],sample4:g.baseSampleData7[3]}:30!=g.data.timeSpan&&0!=g.data.timeSpan||(g.gameplay={sample1:{"Cupcake!":{playtime:56},"Fractions!":{playtime:81},"Hungry Fish":{playtime:115},"Hungry Guppy":{playtime:150},Match:{playtime:67},"Pizza!":{playtime:90},"Questimate!":{playtime:120},Wings:{playtime:115},Zoom:{playtime:81},cloudmachine:{playtime:107}},sample2:{"Cupcake!":{playtime:322},"Fractions!":{playtime:7},"Hungry Fish":{playtime:0},"Hungry Guppy":{playtime:0},Match:{playtime:0},"Pizza!":{playtime:90},"Questimate!":{playtime:30},Wings:{playtime:44},Zoom:{playtime:30},cloudmachine:{playtime:45}},sample3:{"Cupcake!":{playtime:115},"Fractions!":{playtime:56},"Hungry Fish":{playtime:100},"Hungry Guppy":{playtime:80},Match:{playtime:111},"Pizza!":{playtime:90},"Questimate!":{playtime:67},Wings:{playtime:70},Zoom:{playtime:59},cloudmachine:{playtime:45}},sample4:{"Cupcake!":{playtime:133},"Fractions!":{playtime:41},"Hungry Fish":{playtime:67},"Hungry Guppy":{playtime:90},Match:{playtime:56},"Pizza!":{playtime:120},"Questimate!":{playtime:133},Wings:{playtime:63},Zoom:{playtime:111},cloudmachine:{playtime:80}}})},g.baseSampleData7=[{"Cupcake!":{playtime:15},"Fractions!":{playtime:22},"Hungry Fish":{playtime:31},"Hungry Guppy":{playtime:24},Match:{playtime:18},"Pizza!":{playtime:22},"Questimate!":{playtime:15},Wings:{playtime:31},Zoom:{playtime:22},cloudmachine:{playtime:13}},{"Cupcake!":{playtime:87},"Fractions!":{playtime:2},"Hungry Fish":{playtime:0},"Hungry Guppy":{playtime:0},Match:{playtime:0},"Pizza!":{playtime:0},"Questimate!":{playtime:8},Wings:{playtime:12},Zoom:{playtime:8},cloudmachine:{playtime:9}},{"Cupcake!":{playtime:31},"Fractions!":{playtime:15},"Hungry Fish":{playtime:27},"Hungry Guppy":{playtime:20},Match:{playtime:30},"Pizza!":{playtime:12},"Questimate!":{playtime:18},Wings:{playtime:19},Zoom:{playtime:16},cloudmachine:{playtime:12}},{"Cupcake!":{playtime:36},"Fractions!":{playtime:11},"Hungry Fish":{playtime:18},"Hungry Guppy":{playtime:25},Match:{playtime:15},"Pizza!":{playtime:22},"Questimate!":{playtime:36},Wings:{playtime:17},Zoom:{playtime:30},cloudmachine:{playtime:38}}],g.getSampleDemoData=function(){var a=b.getSelectedRoster(g.teacherId);return h.getSampleDemoData(g.baseSampleData7,a,g.baseDemoDataTransformer)},g.baseDemoDataTransformer=function(a,b){var c=JSON.parse(JSON.stringify(a)),d=h.demoRandom(b,4),e=0==g.data.timeSpan||"schoolYear"==g.data.timeSpan?60:g.data.timeSpan,f=87==c["Cupcake!"].playtime?1:5;for(var i in c)"Wings"==i||"Questimate!"==i?c[i].playtime=0:c[i].playtime=Math.floor(c[i].playtime/f*(e/7)*(1+(d/8-.25)));return c},g.reload()}var j=a.pageSize,k=10;return{restrict:"E",templateUrl:"/views/accounts/partials/playtime.html",scope:{teacherId:"@"},link:i}}]),angular.module("directives.playtimeAverageForRoster",[]).directive("playtimeAverageForRoster",["roster","accountsAPI","games","lodash","configuration","demoService",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:"/views/accounts/partials/playtimeAverageForRoster.html",scope:{teacherId:"=",rosterId:"=",playtime:"="},link:function(c){if(e.isDemo){var g=a.getRosterIndex(c.teacherId,c.rosterId);c.average=Math.round(f.demoRandom(g,2)+15+3*(a.numRosters()-g))}else if(d.isNumber(c.playtime))c.average=Math.round(c.playtime);else{c.average=0;var h=a.getStudentIds(c.teacherId,c.rosterId);b.getRosterGameplay(h,28).then(function(a){c.average=0;var b=h.length;if(b>0){var e=d.reduce(Object.values(a),function(a,b){return a+=d.reduce(b,function(a,b){return a+=b.playtime},0)},0);c.average=Math.min(Math.round(e/b/4),20)||0}})}}}}]),angular.module("directives.factorsOfLearning",[]).directive("factorsOfLearning",["configuration","$modal","roster","accountsAPI","lodash","folContent","$location","mmConstants","demoService",function(a,b,c,d,e,f,g,h,i){function j(h,j,m,n){function o(a,b){return function(c){var d=h.getFactorNumber(c,a);return d?d*(b||1):Number.MAX_SAFE_INTEGER}}h.rosterService=c,h.folContent=f,h.state="OVERVIEW",h.selectedFactor=h.folContent.orderedFactors[0],h.studentInterventionData={},h.isLoading=!0,h.loadData=function(){h.isLoading=!0;var b=c.getStudentIds(h.teacherId);d.getStudentFactorsOfLearning(b).then(function(f){return a.isDemo&&(f=h.getSampleDemoData()),e.isEmpty(f)?void h.loadSampleData():(h.roster=c.getSelectedRoster(h.teacherId).students,h.roster.length>k?(h.selectedStudents=h.roster.slice(0,k),h.paginate=!0,h.totalItems=h.roster.length,h.pagination={currentPage:1},h.maxSize=l,h.numPage=Math.ceil(h.totalItems/h.maxSize),h.itemsPerPage=k,h.$watch("pagination.currentPage",function(a){var b=(h.pagination.currentPage-1)*k;h.selectedStudents=h.roster.slice(b,b+k)})):(h.selectedStudents=h.roster,h.paginate=!1),h.studentData=f,void d.getStudentInterventions(b).then(function(a){h.studentInterventionData=a}))})["catch"](h.loadSampleData)["finally"](function(){h.isLoading=!1})},h.loadData();var p=["low","medium","high"],q=e.memoize(function(a){return e.includes(p,a)});h.getFactorValue=function(a,b){var c=f[b].technicalName,d=e.get(h.studentData,a.studentId+"."+c+".value");if(q(d))return d},h.isEmptyStudent=function(a){return!e.some(h.folContent.orderedFactors,function(b){return e.isString(h.getFactorValue(a,b))})},h.getFactorNumber=function(a,b){var c=f[b].technicalName;return e.get(h.studentData,a.studentId+"."+c+".number",0)},h.sortByOptions=[{display:"Student Name",sortString:["lastName","firstName"]}],e.forEach(h.folContent.orderedFactors,function(a){h.sortByOptions.push({display:h.folContent[a].name+" - low to high",sortString:[o(a),"lastName","firstName"]}),h.sortByOptions.push({display:h.folContent[a].name+" - high to low",sortString:[o(a,-1),"lastName","firstName"]})}),h.options={},h.options.sortBy=h.sortByOptions[0].sortString,h.orderedFactors=h.folContent.orderedFactors,console.log(h.options),h.showFactorDetails=function(a){h.state="DETAIL",h.selectedFactor=a},g.search().factor&&h.showFactorDetails(g.search().factor),h.showStudentDetails=function(a){b.open({templateUrl:"folStudentDetails.html",controller:"FolStudentDetailsCtrl",windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{student:function(){return a},getFactorValue:function(){return h.getFactorValue},isEmptyStudent:function(){return h.isEmptyStudent},studentInterventions:function(){return h.studentInterventionData[a.studentId]||[]},showFactorDetails:function(){return h.showFactorDetails},usingSampleData:function(){return h.usingSampleData}}})},h.capitalize=e.capitalize,h.returnToOverview=function(){h.state="OVERVIEW",h.selectedFactor=""},h.studentsAtLevel=function(a){var b=e.filter(h.roster,function(b){var c=h.getFactorValue(b,h.selectedFactor);return c==a});return b},h.loadSampleData=function(){h.paginate=!1,h.usingSampleData=!0,h.selectedStudents=[{studentId:"sample1",firstName:"Sample Student 1"},{studentId:"sample2",firstName:"Sample Student 2"},{studentId:"sample3",firstName:"Sample Student 3"},{studentId:"sample4",firstName:"Sample Student 4"}],h.studentData=h.baseSampleData},h.baseSampleData={sample1:{datapoints:100,growthMindset:{value:"low",number:15},confidence:{value:"medium",number:25},goalOrientation:{value:"low",number:15},productiveStrategy:{value:"high",number:48},selfRegulation:{value:"high",number:50}},sample2:{datapoints:100,growthMindset:{value:"low",number:10},confidence:{value:"medium",number:30},goalOrientation:{value:"low",number:10},productiveStrategy:{value:"high",number:40},selfRegulation:{value:"high",number:45}},sample3:{datapoints:100,growthMindset:{value:"medium",number:30},confidence:{value:"medium",number:22},goalOrientation:{value:"high",number:50},productiveStrategy:{value:"low",number:10},selfRegulation:{value:"high",number:43}},sample4:{datapoints:100,growthMindset:{value:"high",number:45},confidence:{value:"high",number:50},goalOrientation:{value:"medium",number:30},productiveStrategy:{value:"low",number:12},selfRegulation:{value:"low",number:15}}},h.getSampleDemoData=function(){for(var a=[],b=1;b<=4;b++)a.push(h.baseSampleData["sample"+b]);var d=c.getSelectedRoster(h.teacherId);return i.getSampleDemoData(a,d,h.baseDemoDataTransformer)},h.baseDemoDataTransformer=function(a,b){var c=["low","medium","high"],d=JSON.parse(JSON.stringify(a)),e={};for(var f in d)"datapoints"!==f&&(e[d[f].value]=d[f].number);var g=i.demoRandom(b,8);for(var f in d)if("datapoints"!==f){var h=c.indexOf(d[f].value);0==g&&0!=h&&h--,1==g&&h!=c.length-1&&h++,d[f].value=c[h],d[f].number=e[d[f].value]}return d}}var k=a.pageSize,l=10;return{restrict:"E",replace:!0,templateUrl:"/views/shared/partials/factorsOfLearning.html",scope:{teacherId:"="},link:j}}]).controller("FolStudentDetailsCtrl",["$scope","$modalInstance","lodash","$window","student","folContent","getFactorValue","isEmptyStudent","studentInterventions","showFactorDetails","usingSampleData",function(a,b,c,d,e,f,g,h,i,j,k){function l(){var a=c.filter(f.interventions,function(a){return c.includes(a.partitions,i[a.treatmentName])}),b=c.sortBy(a,"priority");return c.take(b,2)}function m(){if(!(a.prunedInterventions.length<2)){var b=a.prunedInterventions[0].priority,c=a.prunedInterventions[1].priority;b===c&&(a.prunedInterventions[1]=f.interventions.mindsetIntro)}}a.student=e,a.folContent=f,a.getFactorValue=g,a.isEmptyStudent=h,a.prunedInterventions=[],a.usingSampleData=k,a.showFactorDetails=function(b){j(b),a.close()},a.close=function(){b.close()},a.hasSeenIntervention=function(b){return c.find(a.prunedInterventions,b)},a.usingSampleData?a.prunedInterventions=[f.interventions.mindsetCoaching,f.interventions.dontQuit]:(a.prunedInterventions=l(),m()),a.printStudentFol=function(){d.print()}}]),angular.module("directives.loadingAnimation",[]).directive("loadingAnimation",["lodash",function(a){return{restrict:"E",templateUrl:"/views/accounts/partials/loadingAnimation.html",scope:{isLoading:"=",noContainer:"="},link:function(a){}}}]),angular.module("directives.parentRoster",[]).directive("parentRoster",["TEACHER","lodash","roster","$modal",function(a,b,c,d){return{restrict:"E",replace:!0,templateUrl:"/views/accounts/partials/parentRoster.html",scope:{editMode:"=",isValid:"=",children:"="},link:function(e,f,g,h){function i(a,c){if(!a[c]||!a[c].firstName)return!0;var d=a[c].firstName.trim().toLowerCase();return!b.find(a,function(a,b){return!(!a||!a.firstName)&&(b!=c&&a.firstName.trim().toLowerCase()===d)})}var j=(new Date).getFullYear();e.maxChildren=3,e.ages=["Age"];for(var k=1,l=18,m=k;m<l;m++)e.ages.push(""+m);e.ages.push("18+");var n=a.getUser(),o=angular.copy(a.getClientData().settings||{}),p={firstName:"",lastName:o.mmLastName,birthYear:j,age:e.ages[0]};c.fetchRosters(n.teacherId).then(function(){for(var a=angular.copy(c.getSelectedRoster(n.teacherId).students),b=0;b<a.length;b++)e.children.push(a[b]);0==e.children.length&&e.addChild();for(var b=0;b<e.children.length;b++){var d=j-e.children[b].birthYear;d<k?e.children[b].age=e.ages[0]:d>=l?e.children[b].age=e.ages[e.ages.length-1]:e.children[b].age=""+d}e.checkValidity()}),e.addChild=function(){e.children.push(angular.copy(p)),e.checkValidity()},e.onChangeAge=function(a){var b=e.ages.indexOf(a.age);0==b?a.birthYear=j:b==e.ages.length-1?a.birthYear=j-l:a.birthYear=j-a.age},e.checkValidity=function(){for(var a=0,b=0,c=0;c<e.children.length;c++){var d=null!=e.children[c].firstName&&e.children[c].firstName.length>0&&e.children[c].firstName.length<200,f=e.children[c].age!=e.ages[0],g=i(e.children,c);d&&f&&g?a++:b++}e.isValid=a>0&&0==b},e.removeChild=function(a){if(null==a.studentId||0==a.studentId.length)return void e.confirmRemove(a);var b=d.open({templateUrl:"deleteChildConfirmation.html",controller:"DeleteConfirmationCtrl",keyboard:!1,windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{student:function(){return a}}});b.result.then(function(b){b&&e.confirmRemove(a)})},e.confirmRemove=function(a){null!=a.studentId&&a.studentId.length>0&&c.removeStudentFromRoster(n.teacherId,a),b.remove(e.children,a),0==e.children.length&&e.addChild(),e.checkValidity()}}}}]),angular.module("directives.getQuote",[]).directive("getQuote",["lodash","$modal","accountsAPI",function(a,b,c){return{restrict:"E",replace:!0,templateUrl:"/views/accounts/partials/getQuote.html",scope:{schoolName:"=",districtName:"=",isDistrictLevel:"=",caseSensitiveEmail:"=",isAuthenticated:"=",firstName:"=",lastName:"="},link:function(d,e,f,g){function h(){return d.isDistrictLevel?d.districtName:d.schoolName}function i(){var b=a.find(d.plans,"isSelected"),c=(a.indexOf(d.plans,b),{numStudents:d.formData.numStudents,numSchoolYears:b.numYears,quoteExpiration:moment().add(1,"month").format("YYYY-MM-DD"),endDateY1:p+"-07-01",pricePerStudentY1:parseFloat(d.costPerStudent(0)),totalCostY1:parseFloat(d.totalPrice(0)),endDateY2:p+1+"-07-01",pricePerStudentY2:parseFloat(d.costPerStudent(1)),totalCostY2:parseFloat(d.totalPrice(1)),endDateY3:p+2+"-07-01",pricePerStudentY3:parseFloat(d.costPerStudent(2)),totalCostY3:parseFloat(d.totalPrice(2)),institutionName:h(),hwAddOn:d.formData.hwAddOn,subscriptionExpirationDate:p+b.numYears-1+"-07-01"});return d.isAuthenticated?c:angular.extend(c,{firstName:d.firstName,lastName:d.lastName,email:d.caseSensitiveEmail})}d.formData={schoolName:d.schoolName,districtName:d.districtName,hwAddOn:!1};var j=5,k=10,l=40,m=2,n=moment().month(),o=n>m;d.hasPartialYearDiscount=0<=n&&n<=m;var p=moment().year()+(o?1:0),q=1.5,r=[{maxStudents:5,costPerStudent:20},{maxStudents:14,costPerStudent:15},{maxStudents:39,costPerStudent:10},{maxStudents:99,costPerStudent:9.75},{maxStudents:249,costPerStudent:9.25},{maxStudents:499,costPerStudent:8.75},{maxStudents:999,costPerStudent:8},{costPerStudent:7}];d.plans=[{label:(o?"Next":"This")+" school year",numYears:1,pricePerStudent:0,isSelected:!1,endDate:"July 1, "+p,discount:0,discountText:l+"% partial year discount",discountColor:"#c6b9b0"},{label:"2 school years",numYears:2,pricePerStudent:0,isSelected:!1,endDate:"July 1, "+(p+1),discount:j/100,discountText:j+"% discount!",discountColor:"#dddddd"},{label:"3 school years",numYears:3,pricePerStudent:0,isSelected:!1,endDate:"July 1, "+(p+2),discount:k/100,discountText:k+"% discount!",discountColor:"#ffe358"}],d.showStyle={visibility:"visible"},d.costPerStudent=function(a){var b=d.totalPrice(a,null)/d.formData.numStudents;return b.toFixed(2)},d.totalPrice=function(b,c){var e=null!=c&&0!=b?c:d.plans[b].discount,f=a.find(r,function(a){return!a.maxStudents||d.formData.numStudents<a.maxStudents}),g=d.formData.numStudents*f.costPerStudent;return 0==b?d.hasPartialYearDiscount?g*=1-l/100:(d.plans[b].discountText="",d.plans[b].discountColor=""):g*=1-e,g*=d.formData.hwAddOn?q:1,b>0&&(g+=parseFloat(d.totalPrice(b-1,e))),g.toFixed(2)},d.toggleHWAddOn=function(){d.formData.hwAddOn=!d.formData.hwAddOn},d.payByCheck=function(){var a=d.isDistrictLevel?d.districtName:d.schoolName;b.open({templateUrl:"payByCheck.html",controller:"PayByCheckCtrl",keyboard:!1,windowClass:"mm-modal",backdrop:"static",size:"mm",resolve:{institution:function(){return a},values:function(){return i()},authenticated:function(){return d.isAuthenticated}}})},d.downloadQuote=function(){d.isQuoteDownloading=!0,d.isAuthenticated?c.downloadQuote(i(),h()).then(function(){d.isQuoteDownloading=!1}):c.downloadQuoteUnauthenticated(i(),h()).then(function(){d.isQuoteDownloading=!1})},d.payByCC=function(){var e=a.find(d.plans,"isSelected"),f=a.indexOf(d.plans,e),g=d.isDistrictLevel?d.districtName:d.schoolName,h=b.open({templateUrl:"payByCC.html",controller:"PayByCCCtrl",keyboard:!1,windowClass:"mm-modal",backdrop:"static",resolve:{endDate:function(){return e.endDate},costPerStudent:function(){return d.costPerStudent(f)},numStudents:function(){return d.formData.numStudents},totalPrice:function(){return d.totalPrice(f)},email:function(){return d.caseSensitiveEmail},downloadLink:function(){return d.isAuthenticated?c.getQuote(i()):c.getQuoteUnauthenticated(i())},institution:function(){return g}}});h.result.then(function(a){a&&(d.ccPaymentDone=!0)})},d.selectPlan=function(a){d.plans.forEach(function(a){a.isSelected=!1}),a.isSelected=!0},d.isPlanSelected=function(){return d.formData.numStudents>0&&a.some(d.plans,"isSelected")},d.closeAlert=function(){d.ccPaymentDone=!1}}}}]).controller("PayByCheckCtrl",["$scope","$modalInstance","institution","values","accountsAPI","authenticated",function(a,b,c,d,e,f){a.institution=c,a.downloadQuote=function(){a.isQuoteDownloading=!0,f?e.downloadQuote(d,c).then(function(){a.isQuoteDownloading=!1}):e.downloadQuoteUnauthenticated(d,c).then(function(){a.isQuoteDownloading=!1})},a.confirm=function(){b.close(!0)}}]).controller("PayByCCCtrl",["$scope","$modalInstance","configuration","StripeCheckout","endDate","costPerStudent","numStudents","totalPrice","email","accountsAPI","downloadLink","institution",function(a,b,c,d,e,f,g,h,i,j,k,l){a.endDate=e,a.costPerStudent=f,a.numStudents=g,a.totalPrice=h,a.email=i,a.institution=l,a.confirm=function(){b.close(!0)},a.cancel=function(){b.close(!1)},a.displayPaymentDialog=function(){a.handler.open({name:"Payment Details",description:"",zipCode:!0,panelLabel:"Pay $"+a.totalPrice,allowRememberMe:!1,email:a.email})},a.handler=d.configure({key:c.stripeAuth,image:"/images/MM/Logo@2x.png",locale:"auto",token:function(a){a.amount=100*parseFloat(h),a.note="User "+i+" from Subscription page has made the purchase:  "+k,j.makePayment(a).then(function(){b.close(!0)})}}),window.addEventListener("popstate",function(){a.handler.close()})}]),angular.module("directives.mmPopover",[]).directive("mmPopover",["lodash","$compile","$templateRequest","$position","$timeout","$window",function(a,b,c,d,e,f){return{restrict:"A",templateUrl:"/views/shared/partials/mm-popover.html",scope:{text:"@",template:"@",cssClass:"@",heightOffset:"@",relativePosition:"@",sidePopover:"="},transclude:!0,link:function(g,h,i,j){function k(a){!r&&h[0].contains(a.target)?(r=!0,m()):r&&(r=!1,l())}function l(){q&&q.remove()}function m(){q=angular.element(h.children()[0]).clone();var a=angular.element(document.body);q[0].style.display="block",q[0].style.top="-1000px",q[0].style.left="-1000px",a.append(q),g.template?p():n()}function n(){var b;if(g.sidePopover){b=d.positionElements(h,q,"right-bottom",!0);var c=d.position(h,!0).height,e=d.position(q,!0).height,i=d.position(q,!0).width;b.top-=.5*c;var j=b.top+e;j>f.innerHeight?(b.top-=e,o(q,"bottom","top")):o(q,"top","bottom"),b.left-=.1*i+20}else{var k=g.relativePosition||"";b=d.positionElements(h,q,k,!0);
}var l=a.parseInt(g.heightOffset)||0,m=b.top+l;q[0].style.top=m+"px",q[0].style.left=b.left+"px"}function o(a,b,c){a.removeClass(b),a.addClass(c)}function p(){g.template&&c(g.template).then(function(a){var c=b(a)(g.$parent),d=angular.element(q.children()[1]);d.empty(),d.append(c),e(n,0)})}var q,r=!1;document.body.addEventListener("click",k,!1),g.template&&c(g.template)}}}]),angular.module("directives.mmDropdown",["ui.select","ngSanitize"]).directive("mmDropdown",["$timeout","lodash",function(a,b){return{restrict:"E",scope:{ngModel:"=",ngChange:"&",data:"=",bindField:"@",labelField:"@",ngDisabled:"="},templateUrl:"/views/shared/partials/mm-dropdown.html",link:function(c,d,e,f){function g(){var a=-1;return b.isArray(c.data)&&(a=b.findIndex(c.data,function(a){return a[c.bindField]===c.ngModel})),a}function h(){if(c.labelField&&c.bindField){var a=g();a>=0?c.selectedItem.selected={key:a,value:c.data[a]}:c.ngModel&&(c.selectedItem.selected={key:c.ngModel,value:c.data[c.ngModel]})}else c.selectedItem.selected={},c.selectedItem.selected.value=c.ngModel}function i(){var a=d.find("i")[0];if(a){var b=a.outerHTML;a.outerHTML='<div class="caret-wrapper">'+b+"</div>"}}c.selectedItem={},c.$watch("selectedItem.selected",function(a){a&&a.value&&(void 0!==a.value[c.bindField]?c.ngModel=a.value[c.bindField]:c.ngModel=a.value)}),a(function(){h(),i()},0),c.$watch("data",function(a){a&&a[c.ngModel]&&h()},!0)}}}]),angular.module("directives.dropdownMenu",[]).directive("dropdownMenu",["$window",function(a){return{restrict:"A",templateUrl:"/views/shared/partials/dropdown-menu.html",scope:{dropdownMenu:"="},link:function(b,c,d,e){var f=!1;b.isMenuOpen=function(){return f},b.toggleMenu=function(){f=!f,b.$apply()},c.bind("click",function(a){b.toggleMenu(),a.stopPropagation()}),a.onclick=function(a){f=!1,b.$apply()}}}}]),angular.module("directives.rosterDropdown",[]).directive("rosterDropdown",["TEACHER","roster","lodash",function(a,b,c){return{restrict:"E",scope:{onRosterSelect:"&",singleRosterBehavior:"@",teacherId:"="},templateUrl:"/views/shared/partials/roster-dropdown.html",link:function(a,d,e,f){a.singleRosterBehavior||(a.singleRosterBehavior="hidden"),a.rosterService=b,a.selectedRosterName="",a.ngChange=function(){b.getStudentData(a.teacherId).then(a.onRosterSelect())},a.$watch("rosterService.rosterData[teacherId].rosters",function(d){if(d){var e=b.getAllRosters(a.teacherId);a.multipleRosters=c.keys(e).length>1;var f=b.getSelectedRoster(a.teacherId);f&&(a.selectedRosterName=f.name)}},!0),b.fetchRosters(a.teacherId).then(a.ngChange)}}}]),angular.module("directives.schoolDropdown",[]).directive("schoolDropdown",["lodash","iReadyData","iReadyService",function(a,b,c){return{restrict:"E",scope:{singleSchoolBehavior:"@"},templateUrl:"/views/accounts/partials/school-dropdown.html",link:function(d,e,f,g){d.singleSchoolBehavior||(d.singleSchoolBehavior="hidden"),d.schools=b.getSchools(),d.schools&&(d.schools=a.sortBy(d.schools,"schoolName")),d.multipleSchools=d.schools.length>1,d.schoolId=b.getSchoolId(),d.schoolName=b.getSchoolName(),d.selectSchool=function(a){d.$parent.startLoading(),c.setSchool(a)}}}}]),angular.module("directives.zpcChart",[]).service("zpcStyleMgr",["lodash",function(a){var b={excel:"triangle-up",pass:"square",lose:"cross",quit:"circle",leftBeforeFinishing:"circle"},c={coram:{classFunction:function(a){return a},sizeFunction:function(){return 60},typeFunction:function(a){return b[a.result]},dayDivider:"block",separateZpc:!0,showRewardsAndUnknown:!0,yAxisTitle:"Counts of level played",xAxisTitle:"Level played"},sally:{classFunction:function(b){return"sally"+a.capitalize(b)},sizeFunction:function(a){return"quit"==a.result?15:60},typeFunction:function(a){return"circle"},dayDivider:"line",separateZpc:!1,showRewardsAndUnknown:!1,yAxisTitle:"Difficulty",xAxisTitle:"Levels Played Over Time"}};this.get=function(a){return c[a||"coram"]}}]).directive("zpcChart",["$window","lodash","zpcCategoryChartManager","zpcStyleMgr",function(a,b,c,d){function e(a,c,d,e){return!!b.includes(c,a.levelResultType)||!(!d&&0!=d)&&(b.includes(["didReachIsland","didNotReachIsland"],a.levelResultType)&&a.levelProblemCountIncorrect>=d&&(e&&a.levelProblemCountIncorrect<=e||!e))}function f(a){return e(a,["wonEarly","wonWithThreeStars","excel"],0,1)}function g(a){return e(a,["won","wonWithTwoStars","wonGame","pass"],2,4)}function h(a){return e(a,["died","lost","wonWithOneStar","fail"],5)}function i(a){return e(a,["quit","leftBeforeFinishing","quit"])}function j(a){return e(a,["unexpectedTermination","",void 0,null])}function k(a,d,e,k,m,n,o){function p(a,c){if(!c||!b.isEqual(a.date,c.date)||6==a.type)return"shutdown"}function q(a){return"node "+o.classFunction(a)}function r(){"Hungry Fish"==k&&(M.selectAll(".quittype").remove(),M.selectAll(".quittype").data(a).enter().append("path").filter(function(a,b){return a.originalIndex=b,i(a)}).attr("class",function(b,c){var d=p(b,a[b.originalIndex+1]);return b.quitType=d,"quittype quit"+d}).attr("value",function(a,b){return a.levelNum}).attr("transform",function(a,b){return"translate("+W(a.originalIndex)+","+X(a.levelNum)+")"}).attr("d",function(a,b){return l.svg.symbol().size(200).type("shutdown"==a.quitType?"square":"circle")()})),M.selectAll(".node").remove(),M.selectAll(".node").data(a).enter().append("path").attr("class",function(a,b){return f(a)?(a.result="excel",q("excel")):g(a)?(a.result="pass",q("pass")):i(a)?(a.result="quit",q("quit")):h(a)?(a.result="lose",q("lose")):j(a)?(a.result="unknown",q("unknown")):void 0}).attr("value",function(a,b){return a.levelNum}).attr("transform",function(a,b){var c="translate("+W(b)+","+X(a.levelNum)+")";return"lose"==a.result&&(c+=" rotate(45)"),c}).attr("d",function(a,b){return l.svg.symbol().size(o.sizeFunction(a)).type(o.typeFunction(a))()})}function s(){"line"==o.dayDivider?(M.selectAll("path.daySep").remove(),M.selectAll("path.daySep").data(ia).enter().append("path").filter(function(a,b){return 0!=b}).attr("class","daySep").attr("d",function(a){return"M "+W(a.x-.5)+" 0 l0,"+G}).style("stroke-dasharray","4,4").attr("stroke","black")):(M.selectAll("rect.days").remove(),M.selectAll("rect.days").data(ia).enter().append("rect").attr("class",function(a){return a["class"]+" days"}).attr("height",G).attr("width",function(a){return a.numOfRounds*(W(1)-W(0))}).attr("x",function(a,b){return W(a.x-.5)}).attr("y",function(){return 0}))}function t(){M.selectAll("rect.reward").remove(),M.selectAll("rect.reward").data(a).enter().append("rect").filter(function(a,c){return a.originalIndex=c,"finBall"==a.levelRewardType||"colorBall"==a.levelRewardType||b.endsWith(a.levelRewardType,".png")?(a.rewardType="major",!0):"editBall"==a.levelRewardType&&(a.rewardType="minor",!0)}).attr("class",function(a){return a.rewardType}).attr("height",14).attr("width",14).attr("transform",function(a,b){return"translate("+(W(a.originalIndex)-7)+","+(X(a.levelNum)-7)+")"})}function u(a){return a.max&&Math.min(a.max+.5,m.max)||m.max}function v(a){return a.min&&Math.max(a.min-.5,m.min)||m.min}function w(){M.selectAll("rect.zpc").remove(),M.selectAll("rect.zpc").data(a).enter().append("rect").attr("class",function(a){return o.separateZpc?"zpc zpc"+a.type:"zpc zpcLightBlue"}).attr("height",function(a){return X(v(a))-X(u(a))}).attr("width",function(){return W(1)-W(0)}).attr("value",function(a){return a.max+" "+a.min+" "+a.type+" "+X(0)+" "+X(18)}).attr("transform",function(a){return"translate("+W(a.originalIndex)+","+X(u(a))+")"})}function p(a,c){function d(a){return a[0].levelNum>m.max}function e(a){return a[0].levelNum<m.min}function f(a){return a[0].levelNum>=m.min&&a[0].levelNum<=m.max}if(!c||!b.isEqual(a.date,c.date)||6==a.type)return"shutdown";var g=c.type,h=[a,a.type],i=[c,g];return d(h)&&(f(i)||e(i))||e(h)&&(f(i)||d(i))?"pro":d(h)&&d(i)||e(h)&&e(i)?"aimless":f(h)?"avoidance":void 0}function x(){n.rashZpc&&ja.length>0&&(M.selectAll("rect.rashZpc").remove(),M.selectAll("rect.rashZpc").data(ja).enter().append("rect").attr("class",function(a){return"rashZpc"+(a.error<1?"Blue":"Red")}).attr("height",X(0)-X(1)).attr("width",W(1)-W(0)).attr("value",function(a){return JSON.stringify(a)}).attr("transform",function(a){return"translate("+W(a.index)+","+X(a.level+.5)+")"}))}function y(){M.selectAll(".metrics").remove(),n.selectedMetric&&n.categories.forEach(function(c){n.timeWindows.forEach(function(d){var e=l.svg.line().y(function(a){var e="categorized"==c?a.levelMode+a.levelOperationType:c,f=b.get(a,[d,e,"motivationParameters",n.selectedMetric,"root"],0);return Y(f)}).x(function(a,b){return W(b)});M.append("path").attr("class","metrics "+c+" "+d).attr("id",c+d).attr("d",e(a))})})}function z(){O.selectAll("path.metrics").remove(),n.selectedMetric&&n.categories.forEach(function(c){n.timeWindows.forEach(function(d){var e=l.svg.line().y(function(a){var e="categorized"==c?a.levelMode+a.levelOperationType:c,f=b.get(a,[d,e,"motivationParameters",n.selectedMetric,"root"],0);return Z(f)}).x(function(a,b){return $(b)});O.append("path").attr("class","metrics "+c+" "+d).attr("id",c+d).attr("d",e(a))})})}function A(a,b){var c=2,d=a-5*c,e=a-2.5*c,f=a+2.5*c,g=a+5*c,h=b-4*c,i=b,j=b+4*c;return g+","+i+" "+f+","+j+" "+e+","+j+" "+d+","+i+" "+e+","+h+" "+f+","+h}function B(){M.selectAll("path.interventions").remove(),M.selectAll("polygon.interventionsPoly").remove(),M.selectAll("text.interventionsExcl").remove(),M.selectAll("path.interventions").data(na).enter().append("path").filter(function(a){return a.graphIndex}).attr("class","interventions").attr("d",function(a){return"M "+W(a.graphIndex)+" 0 l0,"+G}).attr("stroke","purple"),M.selectAll("polygon.interventionsPoly").data(na).enter().append("polygon").filter(function(a){return a.graphIndex}).attr("class","interventionsPoly").attr("points",function(a){return A(W(a.graphIndex),G/2)}).attr("stroke","purple").attr("stroke-with",1).attr("fill","white").on("mouseover",function(a){oa.transition().style("opacity",.9),oa.html("INTERVENTION: "+a.name+"<br/>"+a.parsedDate).style("left",l.event.pageX+"px").style("top",l.event.pageY-28+"px")}).on("mouseout",function(a){oa.transition().duration(500).style("opacity",0)}),M.selectAll("text.interventionsExcl").data(na).enter().append("text").filter(function(a){return a.graphIndex}).attr("x",function(a){return W(a.graphIndex)-2}).style("fill","purple").attr("y",5+G/2).attr("class","interventionsExcl").text("!")}function C(){s(),t(),w(),x(),r(),ka&&B(),y(),M.select("#xSmallAxisG").call(da),M.select("#xAxisG").call(ca)}var D=20,E=D,F=40,G=e-(D+2*E+F),H=[0,G],I=[G,0],J=0,K=a.length;d.append("text").attr("x",e/2).attr("y",D-4).style("text-anchor","middle").attr("class","graphTitle").text(k);var L=d.append("g").attr("transform","translate("+D+","+D+")"),M=L.append("svg").attr("width",G+D).attr("height",G+D).append("g").attr("transform","translate("+E+",0)"),N=d.append("g").attr("transform","translate("+D+","+(2*D+G)+")"),O=N.append("svg").attr("width",G+D).attr("height",F+D).append("g").attr("transform","translate("+E+",0)");d.append("text").attr("x",e/2).attr("y",e).style("text-anchor","middle").text(o.xAxisTitle),d.append("text").attr("transform","rotate(-90)").attr("y",10).attr("x",-(D+G/2)).style("text-anchor","middle").text(o.yAxisTitle);var P=d.append("defs");[{id:5,width:5,patterns:["M0,0 l5,5","M5,0 l-5,5"]},{id:10,width:10,patterns:["M0,0 l10,10","M10,0 l-10,10"]},{id:15,width:5,patterns:["M0,2.5 l5,0"]},{id:20,width:5,patterns:["M5,0 l-5,5"]},{id:25,width:5,patterns:["M0,0 l5,5"]},{id:"30blue",width:10,patterns:["M0,5 l0,10"],stroke:"blue"},{id:"30red",width:10,patterns:["M0,5 l0,10"],stroke:"red"}].forEach(function(a){var b=P.append("pattern").attr("id","hash"+a.id).attr("patternUnits","userSpaceOnUse").attr("width",a.width).attr("height",a.width).attr("x",0).attr("y",0).append("g").style("fill","none").style("stroke",a.stroke||"black").style("stroke-width",1);a.patterns.forEach(function(a){b.append("path").attr("d",a)})}),l.select(".legendTriangle").append("path").attr("class","node excel").attr("transform","translate(10,10)").attr("d",function(a,b){return l.svg.symbol().type("triangle-up")()}),l.select(".legendSquare").append("path").attr("class","node pass").attr("transform","translate(10,10)").attr("d",function(a,b){return l.svg.symbol().type("square")()}),l.select(".legendCross").append("path").attr("class","node lose").attr("transform","translate(10,10) rotate(45)").attr("d",function(a,b){return l.svg.symbol().type("cross")()}),l.select(".legendCircle").append("path").attr("class","node quit").attr("transform","translate(10,10)").attr("d",function(a,b){return l.svg.symbol().type("circle")()}),l.select(".legendCircleUnknown").append("path").attr("class","node unknown").attr("transform","translate(10,10)").attr("d",function(a,b){return l.svg.symbol().type("circle")()}),l.select(".minorReward").append("rect").attr("class","minor").attr("height",14).attr("width",14).attr("transform","translate(10,10)"),l.select(".majorReward").append("rect").attr("class","major").attr("height",14).attr("width",14).attr("transform","translate(10,10)");var Q=m.max,R=m.min,S=b.max(a,function(a){return a.levelNum}).levelNum,T=b.min(a,function(a){return a.levelNum}).levelNum,U=b.max([Q,S+1]),V=b.min([R,T,0]),W=l.scale.linear().domain([J,K]).range(H),X=l.scale.linear().domain([V,U]).range(I),Y=l.scale.linear().domain([0,1]).range(I),Z=l.scale.linear().domain([0,1]).range([F,0]),$=l.scale.linear().domain([J,K]).range(H),_=a.length<10?a.length:10,aa=l.svg.axis().scale(X).orient("left").tickSize(-G).ticks(5);M.append("g").attr("id","yAxisG").call(aa),M.selectAll("#yAxisG"),M.selectAll("#yAxisG .tick text").style("font-size",12),M.selectAll("#yAxisG path").style("opacity",0);var ba=l.svg.axis().scale(X).orient("left").ticks(20);M.append("g").attr("id","ySmallAxisG").call(ba),M.selectAll("#ySmallAxisG g text").style("opacity",0),M.selectAll("#ySmallAxisG path").style("opacity",0),M.selectAll("#ySmallAxisG g:nth-child(22) line").style("opacity",0),M.selectAll(".tick line").style("opacity",.2);var ca=l.svg.axis().scale(W).orient("bottom").tickSize(-G).ticks(_);M.append("g").attr("id","xAxisG").call(ca),M.selectAll("#xAxisG").attr("transform","translate(0,"+G+")"),M.selectAll("#xAxisG .tick text").style("font-size",12),M.selectAll("#xAxisG path").style("opacity",0);var da=l.svg.axis().scale(W).orient("bottom").ticks(a.length);M.append("g").attr("id","xSmallAxisG").call(da),M.selectAll("#xSmallAxisG").attr("transform","translate(0,"+G+")"),M.selectAll("#xSmallAxisG path").style("opacity",0),M.selectAll(".tick line").style("opacity",.2),M.selectAll("#yAxisG g text").filter(function(a){return 0==a}).style("opacity",0);var ea=l.svg.axis().scale($).orient("bottom").tickSize(-G).ticks(_);O.append("g").attr("id","xAxisG").call(ea),O.selectAll("#xAxisG").attr("transform","translate(0,"+F+")"),O.selectAll("#xAxisG .tick text").style("font-size",12),O.selectAll(".tick line").style("opacity",.2),O.selectAll("#xAxisG path").style("opacity",0);var fa=l.svg.axis().scale(W).orient("bottom").ticks(a.length);O.append("g").attr("id","xSmallAxisG").call(fa),O.selectAll("#xSmallAxisG").attr("transform","translate(0,"+F+")"),O.selectAll("#xSmallAxisG path").style("opacity",0),O.selectAll("#xSmallAxisG g text").style("opacity",0),O.selectAll(".tick line").style("opacity",.2),c.isLev1AttrDefined(k)&&O.selectAll("rect.category.lev1").data(a).enter().append("rect").attr("class",function(a){var b="category lev1 ";return b+=c.getClassNameLev1(k,a)}).attr("height",F).attr("width",function(a){return $(1)-$(0)}).attr("x",function(a,b){return $(b)}).attr("y",function(){return 0}),c.isLev2AttrDefined(k)&&O.selectAll("rect.category.lev2").data(a).enter().append("rect").attr("class",function(a){var b="category lev2 ";return b+=c.getClassNameLev2(k,a)}).attr("height",F).attr("width",function(){return $(1)-$(0)}).attr("x",function(a,b){return $(b)}).attr("y",function(){return 0});var ga=void 0,ha="clear",ia=[];a.forEach(function(a){var b=ia[ia.length-1];ga!=""+(1e4*a.date.year+100*a.date.month+a.date.day)?(ga=""+(1e4*a.date.year+100*a.date.month+a.date.day),ha="clear"==ha?"dark":"clear",ia.push({"class":ha,numOfRounds:1,x:b?b.x+b.numOfRounds:0})):b.numOfRounds++});var ja=[];n.rashZpc&&b.forEach(n.rashZpc,function(a,c){a.zpcs&&a.zpcs.probs&&b.forEach(a.zpcs.probs,function(b){b.prob>.5&&b.prob<.75&&ja.push({level:b.level,index:c,error:a.zpcs.error})})});n.$watch("categories",function(a){a&&(y(),z())},!0),n.$watch("timeWindows",function(a){a&&(y(),z())},!0),n.$watch("selectedMetric",function(a){a&&(y(),z())}),z();var ka=b.get(n,"interventions.interventions");if(ka){var la=n.interventions.metagame;ka.forEach(function(a){var b=1e3*parseInt(a._id.$oid.slice(0,8),16);a.timestamp=b;var c=new Date(b);a.parsedDate=c.getMonth()+1+"/"+c.getDate()+"/"+(c.getYear()-100)});var ma=b.sortBy(ka,"timestamp"),na=[];ma.forEach(function(a){if(a.partition==-1);else if("metagameVariant"==a.treatmentName){var c=la.version==a.treatmentVersion?la:b.find(la.versionHistory,function(b){return b.version==a.treatmentVersion}),d=b.find(c.partitions,function(b){return b.partition==a.partition});na.push({name:d.description,parentDescription:"",timestamp:a.timestamp,version:a.treatmentVersion,parsedDate:a.parsedDate})}else na.push({name:b.startCase(a.treatmentName),timestamp:a.timestamp,version:a.treatmentVersion,parsedDate:a.parsedDate})}),a.forEach(function(c,d){if(0!=d){var e=b.findLast(na,function(b){return b.timestamp>a[d-1].timestamp&&b.timestamp<=c.timestamp});e&&(e.graphIndex=d+.5)}})}var oa=l.select("body").append("div").attr("class","tooltip").style("opacity",0),pa=l.svg.brush().x($).on("brush",function(){W.domain(pa.empty()?$.domain():pa.extent()),C()}),qa=l.behavior.zoom().x(W).on("zoom",function(){if(W.domain()[0]<0){var b=qa.translate()[0]-W(0)+W.range()[0];qa.translate()[0]}else if(W.domain()[1]>a.length){var b=qa.translate()[0]-W(a.length)+W.range()[1];qa.translate([b,0])}C()});C(),O.append("g").attr("class","viewport").call(pa).selectAll("rect").attr("height",F)}var l=a.d3;return{restrict:"E",scope:{box:"=",groupedByCategory:"=",resultStyle:"@",categories:"=",timeWindows:"=",selectedMetric:"=",interventions:"=",data:"="},link:function(c,e,f){function g(){if(e.empty(),c.groupedByCategory){var d={},f=b.groupBy(c.datapoints,function(a){var e=a.levelMode+a.levelOperationType;return d[e]||(d[e]=c.chartTitle+" - "+b.capitalize(a.levelMode)+" "+b.capitalize(a.levelOperationType)),e});b.forEach(f,function(b,f){var g=a.d3.select(e[0]).append("svg").style("width",c.box).style("height",c.box);k(b,g,c.box,d[f],c.maxMin,c,h)})}else{var g=a.d3.select(e[0]).append("svg").style("width",c.box).style("height",c.box);k(c.datapoints,g,c.box,c.chartTitle,c.maxMin,c,h)}}c.datapoints=c.data["designVersion"+c.data.selectedDesignVersion].levels,c.chartTitle=c.data.appUnit,c.maxMin=c.data.maxMin,c.rashZpc=c.data.rashZpc;var h=d.get(c.resultStyle);c.$watch("data.selectedDesignVersion",function(){c.datapoints=c.data["designVersion"+c.data.selectedDesignVersion].levels,g()}),c.$watch("groupedByCategory",g)}}}]).directive("zpcCategory",["$window","zpcCategoryChartManager",function(a,b){function c(a,c){if(b.isLev1AttrDefined(c.appUnit)){var d=b.getClassNameLev1(c.appUnit,c);a.append("rect").attr("height",30).attr("width","100%").attr("class","category lev1 "+d)}if(b.isLev2AttrDefined(c.appUnit)){var d=b.getClassNameLev2(c.appUnit,c);a.append("rect").attr("height",30).attr("width","100%").attr("class","category lev2 "+d)}}return{restrict:"E",scope:{param:"="},link:function(b,d,e){var f=a.d3.select(d[0]).append("svg");c(f,b.param)}}}]).directive("zpcTypeLegend",["$window","zpcCategoryChartManager",function(a,b){function c(a,c){function d(a){return"singlePlayerMode"==a?"Single Player":"passAndPlayMode"==a?"Pass & Play":a.substring(0,15)+(a.length>15?"…":"")}function e(a,b){i.append("rect").attr("height",10).attr("width",10).attr("class","zpc"+a).attr("x",b).attr("y",30+g*((a-1)%3)),i.append("text").attr("x",b+15).attr("y",40+g*((a-1)%3)).text("Type "+a)}var f=120,g=15,h=c.appUnit||"Cupcake!";if("Hungry Fish"==c.appUnit){var i=a.append("g").attr("class","zpcLegend").attr("transform","translate(5,5)").attr("height",75).attr("width",200);i.append("text").attr("x",100).attr("y",20).style("text-anchor","middle").attr("class","zpcTitle").text("ZPC Types"),[1,2,3].forEach(function(a){e(a,5)}),[4,5,6].forEach(function(a){e(a,100)})}a.append("text").attr("x",100).attr("y",100).style("text-anchor","middle").attr("class","categoriesTitle").text("Categories");var j=b.getLev1Values(h),k=b.getLev2Values(h);if(j&&j.length>0||k&&k.length>0){var l=Math.max(j?j.length:0,k?k.length:0),m=(j&&j.length>0?1:0)+(k&&k.length>0?1:0),n=a.append("g").attr("class","legend").attr("transform","translate(5, 105)");n.append("rect").attr("height",25*l).attr("width",f*m).attr("fill","white");var o=[];j&&o.push(j),k&&k.length>0&&o.push(k),o.forEach(function(a,b){a.forEach(function(a,c){var e="lev"+(b+1)+" lev"+(b+1)+"Attr"+c;n.append("rect").attr("height",10).attr("width",10).attr("x",5+b*f).attr("y",5+g*c).attr("class","category "+e),n.append("text").attr("x",20+b*f).attr("y",15+g*c).text(function(b){return d(a)})})})}}return{restrict:"E",scope:{appUsage:"="},link:function(d,e,f){var g=a.d3.select(e[0]).append("svg").attr("height",150);d.categories=b.categories,d.$watch("categories",function(){c(g,d.appUsage)})}}}]).directive("zpcLegend",["$window","zpcStyleMgr",function(a,b){function c(a,b){[{result:"excel",title:"Excel"},{result:"pass",title:"Pass"},{result:"lose",title:"Lose"},{result:"quit",title:"Quit"}].forEach(function(c,d){a.append("path").attr("d",d3.svg.symbol().size(b.sizeFunction(c)).type(b.typeFunction(c))).attr("class",b.classFunction(c.result)).attr("transform","translate(10,"+(20+20*d)+")"),a.append("text").attr("x",20).attr("y",25+20*d).text(c.title)}),b.showRewardsAndUnknown&&(a.append("path").attr("class","node unknown").attr("transform","translate(87,20)").attr("d",function(a,b){return d3.svg.symbol().type("circle")()}),a.append("text").attr("x",100).attr("y",25).text("Unknown"),a.append("rect").attr("class","minor").attr("height",14).attr("width",14).attr("transform","translate(80,30)"),a.append("text").attr("x",100).attr("y",45).text("Minor"),a.append("rect").attr("class","major").attr("height",14).attr("width",14).attr("transform","translate(80,50)"),a.append("text").attr("x",100).attr("y",65).text("Major")),"line"==b.dayDivider&&(a.append("path").attr("d","M80,15 l0,75").style("stroke-dasharray","4,4").attr("stroke","black"),a.append("text").attr("x",90).attr("y",55).text("Day Divider")),b.separateZpc||(a.append("rect").attr("x",185).attr("y",15).attr("width",5).attr("height",75).attr("class","zpcLightBlue"),a.append("text").attr("x",200).attr("y",55).text("ZPC"))}return{restrict:"E",scope:{zpcStyle:"@"},link:function(d,e){var f=a.d3.select(e[0]).append("svg").style("width","400").style("height","100px");c(f,b.get(d.zpcStyle))}}}]).directive("studentPlayHistory",["TeacherAPI","lodash",function(a,b){function c(a){return b.groupBy(a,function(a){if(!a.timestamp)return"No Date";var b=new Date(a.timestamp);return b.setHours(0,0,0,0),b.getTime()})}return{templateUrl:"/views/shared/partials/student-play-history.html",scope:{player:"=",levels:"="},link:function(d){function e(){d.player&&(a.metagameStats(d.player.studentId).then(function(a){b.forEach(a,function(a){a.statType="stat"});var e=b.map(d.levels,function(a){return b.extend({},a,{statType:"level"})});d.groupedStats=c(a.concat(e)),d.days=b.sortBy(b.keys(d.groupedStats),b.toNumber).reverse()}),a.metagamePartition(d.player.studentId).then(function(a){d.metagamePartition=2==a.partition?"C":3==a.partition?"D":"A"}))}e(),d.$watch("player",function(a){a&&e()})}}}]),angular.module("directives.motivationParameterScale",[]).directive("successFactors",function(){return{restrict:"E",templateUrl:"/views/shared/partials/motivationScale.html",transclude:!0,scope:{factors:"=",selectable:"=",metric:"=ngModel"}}}).filter("factorColor",function(){return function(a){return a<.25?"red":a<.5?"orange":a<.75?"yellow":"green"}}),angular.module("directives.forRosters",[]).directive("forRosters",["configuration","roster","$compile","$templateCache","lodash","iReadyData",function(a,b,c,d,e,f){var g,h=a.classesPageSize,i=10,j=30,k=60;return{restrict:"E",templateUrl:"/views/accounts/partials/for-roster.html",scope:!0,link:function(a,c,d){a.teacherId=a.teacher?a.teacher.id:a.teacherId,a.templateBody=d.templateBody,a.templateTopLeft=d.templateTopLeft,a.templateBottomLeft=d.templateBottomLeft,a.templateTopMiddle=d.templateTopMiddle,a.templateBottomMiddle=d.templateBottomMiddle,a.templateRight=d.templateRight,a.currentRosterId=a.currentRosterId||g,a.maxRosterNameSize=j,a.maxTeacherSize=k,a.popover={templateUrl:"/views/accounts/partials/rosterPopover.html",isEnabled:function(a,b){return a=a||"",f.isEnabled()&&a.length>b}},b.fetchRosters(a.teacherId,!0).then(function(){var c=e.values(b.getAllRosters(a.teacherId));a.totalItems=c.length,a.maxSize=i,a.itemsPerPage=h,a.numPages=Math.ceil(a.totalItems/a.maxSize),a.pagination={currentPage:1},c.length<h?(a.paginate=!1,a.rosters=c):(a.rosters=c.slice(0,h),a.paginate=!0),1==a.rosters.length&&"false"!==d.expend&&(a.currentRosterId=b.getSelectedRoster(a.teacherId).rosterId),a.selectRoster=function(c){a.currentRosterId==c?a.currentRosterId=g=void 0:b.getStudentData(a.teacherId,c).then(function(b){a.currentRosterId=g=c;var d=e.map(b.students,"gradeLevel"),h=e.some(d,function(a){return e.includes(["K","0","1","2","3","4","5","6","7","8"],a)});a.noK8Data=!h&&f.isEnabled()})},a.$watch("pagination.currentPage",function(b){var d=(a.pagination.currentPage-1)*h;a.rosters=c.slice(d,d+h)})})}}}]),angular.module("directives.displayStudent",[]).directive("displayStudent",[function(){return{restrict:"E",templateUrl:"/views/accounts/partials/displayStudent.html",scope:{student:"=",inline:"="}}}]),angular.module("directives.indexPage",[]).directive("indexPage",["urlService",function(a){return{restrict:"A",link:function(b,c){"motionmathgames"==a.getConfigDomain()&&(c.find("title").text("Motion Math"),angular.forEach(c.find("link"),function(a){var b=a.href.replace("/favicons/","/favicons/mm/");a.href=b}))}}}]),angular.module("filters.orderByStandard",[]).filter("orderByStandard",["teacherDashboardSrvc",function(a){var b=a.getColumnSortOrder();return function(a,c,d){var e=[];return angular.forEach(a,function(a,c){b.hasOwnProperty(c)?(a.columnId=c,e.push(a)):"$$hashKey"!=c&&e.push(a)}),e.sort(function(a,c){return b[a.columnId]>b[c.columnId]?1:-1}),d&&e.reverse(),e}}]),angular.module("filters.truncate",[]).filter("truncate",["lodash",function(a){return function(b,c,d){var e=b;return a.isNull(c)||(b=b||"",c=c||30,d=d||"…",b.length>c&&(e=b.substring(0,c)+d)),e}}]),angular.module("service.account.teacher",[]).service("TEACHER",["accountsAPI","TeacherAPI","$q","authorization","utils","$rootScope","configuration","$location","mmConstants","lodash","dayAsInt","googleAnalytics","ipCookie",function(a,b,c,d,e,f,g,h,i,j,k,l,m){f.wwwServerUrl=g.wwwServerUrl;var n={},o={},p=void 0,q=void 0,r=!1,s=!1,t=!1,u=null,v=this,w="UV",x="V";this.isInitialized=function(){return r},this.logout=function(){r=!1,n={},o={}},this.uninitialize=function(){r=!1},this.initialize=function(b){var e=d.checkLoggedIn(h.absUrl());if(!r)return e?a.getMe().then(function(a){r=!0,n=a.teacher,o=a.clientData,p=a.subscription,q=a.card;var c=o.settings&&o.settings.mmFirstName||n.firstName,d=o.settings&&o.settings.mmLastName||n.lastName;v.initializeName(c,d),n.providerData&&n.providerData.edmodo&&(s=!0),n.providerData&&n.providerData.google&&(t=!0),b&&h.path("/")})["catch"](function(a){d.goToLogin()}):c.reject()},this.initializeName=function(a,b){f.firstName=a,f.lastName=b,d.initializeName(a)},this.getFirstName=function(){return j.get(o,"settings.mmFirstName",n.firstName)},this.getLastName=function(){return j.get(o,"settings.mmLastName",n.lastName)},this.isEdmodoUser=function(){return s},this.isGoogleUser=function(){return t},this.isCAPilotUser=function(){return o.settings&&o.settings.isCAPilot},this.getGames=function(){return o.settings.games},this.getPlanOwner=function(){return p.scope},this.getRole=function(){return o.settings&&o.settings.role?o.settings.role:""},this.hasIpads=function(){return!(!o.settings||!o.settings.iPadImplementation)&&"No iPads"!=o.settings.iPadImplementation},this.getUser=function(){return angular.copy(n)},this.getActiveSubscription=function(){return angular.copy(p)},this.getActiveSubscriptionExpirationDate=function(){return p&&p.expirationDay?k.toDate(p.expirationDay).toLocaleDateString():""},this.hasStartedTrial=function(){return p&&(p.trialStartDate&&k.isPast(p.trialStartDate)||"trial"!==p.plan)},this.hasSetTrialStartDate=function(){return p&&p.trialStartDate},this.hasSetFutureTrialStartDate=function(){return p&&p.trialStartDate&&!k.isPast(p.trialStartDate)&&"trial"===p.plan},this.hasTrialExpired=function(){var a=p&&"trial"===p.plan&&p.expirationDay&&k.isPast(p.expirationDay);return a},this.setActiveSubscription=function(a){p=a},this.getClientData=function(){return angular.copy(o)},this.getInstitution=function(){return o.institution},this.isSignupComplete=function(){return"undefined"!=typeof o.isSignupComplete&&o.isSignupComplete},this.getCard=function(){return angular.copy(q)},this.updateLocalMe=function(a){n=a},this.updateSettings=function(b,c){return o.settings=b,c&&(o.isSignupComplete=c),i.adminRoles.indexOf(b.role)>-1?o.rights="UV":delete o.rights,c&&(l.sendPageview("/signupComplete.html"),m("FROM_SIGNUP_PAGE")===!0&&(this.isAdmin()?l.sendPageview("/adminSignupComplete.html"):l.sendPageview("signupCompleteFromSignupPage.html"))),a.putSettings(b,c).then(function(){},function(a){console.log(a)})},this.isBuyingForSchool=function(){return this.getPlanOwner()==e.school},this.isBuyingForDistrict=function(){return this.getPlanOwner()==e.district},this.isMissingSchoolAccountPreconditions=function(){return this.isBuyingForSchool()&&(!n.edmodoSchool||0==Object.getOwnPropertyNames(n.edmodoSchool).length)},this.isMissingDistrictAccountPreconditions=function(){return this.isBuyingForDistrict()&&(!n.edmodoDistrict||0==Object.getOwnPropertyNames(n.edmodoSchool).length)},this.isMissingAccountPreconditions=function(){return this.isMissingSchoolAccountPreconditions()||this.isMissingDistrictAccountPreconditions()},this.getNPSLiaison=function(){if(!u){var a=[{name:"Sally",image:"sallys.png"},{name:"Coram",image:"coram.png"},{name:"Gabriel",image:"gabriel.png"},{name:"Jacob",image:"jacob.png"},{name:"John",image:"johnv.png"}];u=j.sample(a)}return u},this.setLastNPSDate=function(b){return o.lastNPSDate=b,a.setLastNPSDate(b)},this.setLastNPS=function(b){return o.lastNPS=b,a.setLastNPS(b)},this.saveInstitution=function(b){return o.institution=b,a.saveInstitution(b).then(function(a){p=a})},this.isVerifiedAdmin=function(){return o.isVerifiedAccountAdmin===!0},this.clearDeviceArray=function(){a.clearTeacherDeviceArray()},this.hasAtLeastUnverifiedRights=function(){return o.rights==x||o.rights==w},this.isParentGuardian=function(a){return!1},this.hasAtLeastViewRights=function(){return o.rights==x},this.isAdmin=function(){return o.settings.role&&i.adminRoles.indexOf(o.settings.role)>-1},this.isDistrictLevel=function(){return o.settings.role&&i.districtRoles.indexOf(o.settings.role)>-1},this.getCalendlyUrl=function(){if(r){var a=encodeURIComponent(this.getFirstName()+" "+this.getLastName()),b=encodeURIComponent(this.getUser().emails[0]),c=encodeURIComponent(o.settings.phoneNum);return"https://calendly.com/motion-math/introduction?name="+a+"&email="+b+"&phone="+c}},this.updateSetup=function(b){return a.setSetupData(b).then(function(){o.setup=b})},this.getId=function(){return n.id}}]),angular.module("service.account.prospect",[]).service("PROSPECT",["accountsAPI",function(a){this.create=function(b){return a.createProspect(b)}}]),angular.module("services.appConfiguration",[]).constant("configuration",{environment:"pd",apiServerUrl:{motionmathgames:"https://pd-mpactapi.motionmathgames.com",
"i-ready":"https://pd-g-api.i-ready.com"},wwwServerUrl:"http://wwwtest.motionmathgames.com",playServerUrl:{motionmathgames:"https://pd-g-games.motionmathgames.com","i-ready":"https://pd-g.i-ready.com"},useWWWServerUrlAsLoginPath:"true",edmodoCallbackUrl:"https://accountstest.motionmathgames.com/callback.html",edmodoClientId:"4dbe1f3ae90de7ec97703e888808bd29f494bee5e26137eed27e45dabc9a5ecd",stripeAuth:"pk_live_o4X4Hf8GYOG0bOQa2PHJH8AX",mmLogoForStripe:"https://accountstest.motionmathgames.com/images/Motion-Math-Logo-w-Lock-128x128.png",googleRedirectUri:"https://accountstest.motionmathgames.com/callback.html?provider=g",googleClientId:"445400726394-ktlgg2e74fj3dbelep2e3m3o0cqjb9dq.apps.googleusercontent.com",firstNpsWaitAdmins:168,firstNpsWait:96,npsFrequency:1440,customerIOId:"b28249d889ccb5c3e260",customerIOIdPrefix:"pd-",errorHandling:!0,gameConfigEnvironments:["pd"],personalGameConfigEnvironments:["sally","gabriel","maddie","matt","teddy","denis","chitvan","feature/LGG-1329-puzzle-creator"],iReadyLoginUrl:"https://pd.i-ready.com/",mpact:{edmodoCallbackUrl:"https://accountstest.motionmathgames.com/mpact/callback.html",edmodoClientId:"bc728031d5efe50488faed6e376f564d0fc9b632295a78c49726c40ead4e92bd",errorHandling:!1},isDemo:1,pageSize:50,classesPageSize:50,configGames:["cupcake","pizza","hungryfish","zoom","match","bounce","hungryguppy","cloudmachine","pathways","motionmath","learninggames","commonconfig"]}),angular.module("services.authorization",[]).service("authorization",["httpConfig","configuration","$location","$window","ipCookie","iReadyData","urlService",function(a,b,c,d,e,f,g){function h(a){return{domain:g.getDomainName(),expires:a,expirationUnit:"minutes"}}function i(){return d.location.protocol+"//"+d.location.host+"/#/signin"}function j(a,b){d.location=this.getEdmodoLoginUrl(a,b)}var k="name",l="bearer",m="adminbearer",n="adminemail",o="provider",p="returnUrl";this.getEdmodoLoginUrl=function(a,c){var d=c?b.mpact.edmodoClientId:b.edmodoClientId,e=c?b.mpact.edmodoCallbackUrl:b.edmodoCallbackUrl,f=encodeURIComponent(e),g="basic+read_groups+read_user_email+read_schools+read_districts",h="code",i="https://api.edmodo.com/oauth/authorize?client_id="+d+"&redirect_uri="+f+"&scope="+g+"&response_type="+h;return a&&(i=i+"&state="+a),i},this.getEdmodoLogoutUrl=function(){return"https://api.edmodo.com/logout?return_to="+i()},this.getGoogleLogoutUrl=function(){return"https://accounts.google.com/Logout?continue=https://appengine.google.com/_ah/logout?continue="+i()},this.googleLogout=function(){d.location=this.getGoogleLogoutUrl()},this.edmodoLogout=function(){d.location=this.getEdmodoLogoutUrl()},this.logout=function(){!a.getAuthHeader()&&e(l)&&a.setBearerToken(e(l)),this.destroy(),"google"==e(o)?(e.remove(o,h()),this.googleLogout()):"edmodo"==e(o)?(e.remove(o,h()),this.edmodoLogout()):c.search().token||f.isEnabled()?this.logoutIReady():d.location=i()},this.logoutIReady=function(){d.location=b.iReadyLoginUrl},this.showEdmodoLogin=j,this.showGoogleLogin=function(a,c){var e="https://accounts.google.com/o/oauth2/auth?";e+="scope=email&",a&&(e+="state="+a,c&&(e+="|deviceSignup"),e+="&"),e+="redirect_uri="+encodeURIComponent(b.googleRedirectUri)+"&",e+="response_type=code&",e+="client_id="+b.googleClientId+"&",e+="access_type=offline",d.location=e},this.goToLogin=function(b){!a.getAuthHeader()&&e(l)&&a.setBearerToken(e(l)),this.destroy(),this.setReturnURL(b),c.path("/signin")},this.checkLoggedOut=function(){this.isLoggedIn()&&c.path("/account")},this.isLoggedIn=function(){return a.getAuthHeader()||e(l)},this.checkLoggedIn=function(b){if(e(m)&&a.setAdminHeader(e(m)),!a.getAuthHeader()&&e(l))a.setBearerToken(e(l));else if(!a.getAuthHeader()&&!e(l))return this.goToLogin(b),!1;return!0},this.checkLoggedInAdmin=function(){e(m)||this.goToLogin()},this.isLoggedInAdmin=function(){return!!e(m)};var q=this;this.initialize=function(b){q.destroy(),a.setBearerToken(b.access_token),e(l,b.access_token,h())},this.initializeName=function(a){e(k,a,h())},this.destroy=function(){a.deleteHeaders(),e.remove(k,h()),e.remove(l,h()),e.remove(m,h())},this.initializeAdmin=function(a,b){e.remove(l,h()),e(m,a.access_token,h()),e(n,b,h())},this.initializeAdminAs=function(a){e(l,a,h())},this.getAdminEmail=function(){return e(n)},this.setReturnURL=function(a){e(p,a,h(5))},this.getReturnURL=function(){return e(p)},this.adminAuthHeader=function(){return{Authorization:"Bearer "+e(m)}},this.setProviderCookie=function(a){e(o,a,h())},this.getBearerToken=function(){return e(l)}}]),angular.module("services.accountsAPI",[]).service("accountsAPI",["$http","authorization","$q","$timeout","lodash","iReadyData","iReadyAPI","urlService",function(a,b,c,d,e,f,g,h){var i=h.getApiServerUrl()+"/v2";this.teacherLogin=function(c,d,e,f){var g=i+"/mm/login/"+c+"/"+d;return a.get(g,{params:{prospect:e,trace:f}}).then(b.initialize)},this.mmLoginCode=function(b){var c=i+"/teachers/login/code";return a.post(c,b)},this.fetchCode=function(b,c,d){return a({headers:{Authorization:b},method:"GET",params:{deviceId:c,rosterId:d},url:i+"/mm/accessToken"})},this.signupWithEmail=function(b,c){var d=i+(c?"/parents/signup":"/teachers/signup");return a.post(d,b)},this.validateEmail=function(b){var c=i+"/teachers/validate/"+b;return a.get(c)},this.validateEmailOnly=function(b){return a.post(i+"/teachers/validate",{email:b})},this.retrieveEmail=function(b){var c=i+"/teachers/retrieve/"+b;return a.get(c)},this.parentValidate=function(c){return a.get(i+"/mm/parents/validate/"+c).then(b.initialize)},this.clientData=function(){return a.get(i+"/mm/clientData")},this.setLastNPSDate=function(b){return a.put(i+"/mm/teachers/me/lastNpsDate",b)},this.setLastNPS=function(b){return a.put(i+"/mm/teachers/me/lastNps",b)},this.putSettings=function(b,c){if(c)var d={params:{isSignupComplete:!0}};return a.put(i+"/mm/teachers/me/settings",b,d)},this.updateSettings=function(b,c){return a.put(i+"/mm/teachers/"+b+"/settings",c)},this.getGames=function(){if(f.isEnabled()){const b=c.defer();return b.resolve(f.getGames()),b.promise}return a.get(i+"/mm/teachers/games")},this.getRosters=function(b){return f.isEnabled()?f.getRosters():b?a.get(i+"/mm/teachers/"+b+"/rosters"):a.get(i+"/mm/teachers/me/rosters")},this.getRoster=function(b,c){return f.isEnabled()?g.getRoster(c):b?a.get(i+"/mm/teachers/"+b+"/rosters/"+c):a.get(i+"/mm/teachers/me/rosters/"+c)},this.createRoster=function(b,c){return a.post(i+"/mm/teachers/"+b+"/rosters",c)},this.updateRoster=function(b,c,d){return a.put(i+"/mm/teachers/"+b+"/rosters/"+c,d)},this.deactivateRoster=function(b,c){return a["delete"](i+"/mm/teachers/"+b+"/rosters/"+c)},this.getSchoolStudents=function(b){var c=b?"?schoolId="+encodeURIComponent(b):"";return a.get(i+"/mm/students"+c)},this.createStudent=function(b){var c=b.schoolId?"?schoolId="+encodeURIComponent(b.schoolId):"";return a.post(i+"/mm/students"+c,b)},this.addStudentToRoster=function(b,c,d){var e=d?"?schoolId="+encodeURIComponent(d):"";return a.put(i+"/mm/teachers/me/rosters/"+b+"/student/"+c+e)},this.updateStudent=function(b,c){var d=c.schoolId?"?schoolId="+encodeURIComponent(c.schoolId):"";return a.put(i+"/mm/students/"+b+d,c)},this.removeStudentFromRoster=function(b,c,d){var e=d?"?schoolId="+encodeURIComponent(d):"";return a["delete"](i+"/mm/teachers/me/rosters/"+b+"/student/"+c+e)},this.teacherStudentsLog=function(b){return a.post(i+"/mm/teachers/me/studentStats",b)},this.createProspect=function(b){return a.post(i+"/mm/prospect",b)},this.updateProspect=function(b){return a.put(i+"/mm/prospect/"+b.code,b)},this.saveInstitution=function(b){var c=i+"/mm/teachers/me/institution";return a.post(c,b)},this.getMe=function(){if(f.isEnabled())return f.getMe();var b=i+"/mm/teachers/me";return a.get(b)},this.saveSubscriptionRules=function(b){var c=i+"/subscriptions/"+b.id+"/rule";return a.put(c,b.selectors)},this.saveNPSResponse=function(b){var c=i+"/mm/teachers/me/nps";return a.post(c,b)},this.getSchoolsForDistrict=function(b){var c=i+"/institutions/districts/"+b+"/schools";return a.get(c)},this.clearTeacherDeviceArray=function(){var b=i+"/mm/teachers/me/devices";return a["delete"](b)},this.makePayment=function(b){var c=i+"/mm/payments/stripe";return a.post(c,b)},this.logEvent=function(c){if(!b.isLoggedInAdmin()){var d=i+"/mm/events/client";return a.post(d,c)}},this.createTeacher=function(b){return a.post(i+"/mm/teachers",b)},this.getTeacherList=function(){var b=i+"/mm/teachers/me/teachersSummary";return a.get(b)},this.getSubscriptionTeacherList=function(){var b=i+"/mm/teachers/subscriptions";return a.get(b)},this.resetPassword=function(b){var c=i+"/teachers/password/reset";return a.post(c,{email:b})},this.setPassword=function(b,c){var d=i+"/teachers/password/set";return a.put(d,{token:b,password:c})},this.fetchConstants=function(){var b=i+"/mm/constants";return a.get(b)},this.getLegitimateBuildNumbers=function(){var b=i+"/mm/constants/buildNumbers";return a.get(b)},this.getRosterGameplay=function(b,c){var d=Number.isInteger(c)?"?timespan="+c:"?period="+c,e=i+"/mm/students/gameplay"+d;return a.post(e,b)},this.getStudentFactorsOfLearning=function(b){var c=i+"/mm/students/factorsOfLearning";return a.post(c,b)},this.getStudentInterventions=function(b){var c=i+"/mm/students/interventions";return a.post(c,b)},this.setSubscriptionStartDay=function(b){var c=i+"/mm/teachers/me/trial/startDate?day="+b;return a.post(c)},this.setSubscriptionStartDayWithCode=function(b,c){return a({headers:{Authorization:b},method:"POST",url:i+"/mm/teachers/me/trial/startDate2?day="+c})},this.setSetupData=function(b){var c=i+"/mm/teachers/me/setup";return a.post(c,b)},this.getSurveyWithToken=function(b){return a({headers:{Authorization:b},method:"GET",url:i+"/mm/teachers/survey"})},this.updateSurveyWithToken=function(b,c){return a({headers:{Authorization:b},method:"POST",data:c,url:i+"/mm/teachers/survey"})},this.uploadFile=function(b,c){var d=i+"/mm/files?uploadType="+c,e=new FormData;return e.append("file",b),a.post(d,e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})},this.markUpdatedRosters=function(b){var c=i+"/mm/teachers/me/rosters/update"+(b?"?schoolId="+encodeURIComponent(b):"");return a.post(c,{})},this.getCoTeachers=function(b){if(f.isEnabled())return f.getCoTeacher(b);var c=i+"/mm/teachers/"+b+"/coteachers";return a.get(c)},this.addCoTeacher=function(b,c){var d=i+"/mm/teachers/"+b+"/coteachers";return a.put(d,c)},this.createSubscription=function(b,c){return a.post(h.getApiServerUrl()+"/v1/mm/parents/"+b+"/subscription",c)},this.cancelSubscription=function(b,c){return a({url:h.getApiServerUrl()+"/v1/mm/parents/"+b+"/subscription",method:"DELETE",data:{reason:c},headers:{"Content-Type":"application/json;charset=utf-8"}})},this.updateParentCC=function(b,c){return a.put(h.getApiServerUrl()+"/v1/mm/parents/"+c+"/card",b)},this.getPlans=function(){return a.get(h.getApiServerUrl()+"/v1/mm/parents/plans")},this.getQuoteUnauthenticated=function(a){return this._getQuote(a,"/v2/mm/visitor/quotes")},this.getQuote=function(a){return this._getQuote(a,"/v2/mm/quotes")},this._getQuote=function(b,c){return a.post(h.getApiServerUrl()+c,b).then(function(a){return h.getApiServerUrl()+"/v2/mm/quotes/"+a})},this.downloadQuote=function(a,b){return this._downloadQuote(a,b,"/v2/mm/quotes")},this.downloadQuoteUnauthenticated=function(a,b){return this._downloadQuote(a,b,"/v2/mm/visitor/quotes")},this._downloadQuote=function(b,c,d){return a.post(h.getApiServerUrl()+d,b).then(function(b){return a.get(h.getApiServerUrl()+"/v2/mm/quotes/"+b,{responseType:"arraybuffer"}).then(function(a){var b=new Blob([a],{type:"application/pdf"}),d=URL.createObjectURL(b),e=document.createElement("a");e.href=d,e.target="_blank",e.download=c+" - Quote.pdf",document.body.appendChild(e),e.click()})})}}]),angular.module("services.visualPasswordAPI",[]).service("visualPasswordAPI",["$http","urlService",function(a,b){var c=b.getApiServerUrl()+"/v2";this.getRosters=function(b){return a({headers:{Authorization:b},method:"GET",url:c+"/mm/teachers/me/vp/rosters"})},this.getRoster=function(b,d){return a({headers:{Authorization:b},method:"GET",url:c+"/mm/teachers/me/vp/rosters/"+d})},this.setPassword=function(b,d,e,f){return a({headers:{Authorization:b,"x-mpact-user":d},data:{password:e},method:"POST",url:c+"/user/password?rosterId="+f})},this.getPasswordFromDevice=function(b,d){return a({headers:{Authorization:b,"x-mpact-user":d},method:"GET",url:c+"/user/password"})},this.toggleHintsNeeded=function(b,d){return a({headers:{Authorization:b,"x-mpact-user":d},method:"POST",url:c+"/user/password/hints/needed"})},this.toggleHintsOn=function(b,d,e){return a({headers:{Authorization:b,"x-mpact-user":d},data:{token:e},method:"POST",url:c+"/user/password/hints/on"})},this.login=function(b,d,e,f){return a({headers:{Authorization:b,"x-mpact-user":d},data:{password:e},params:{rosterId:f},method:"POST",url:c+"/user/login"})},this.getPasswordUsers=function(b){var d=c+"/mm/teachers/me/roster/passwords"+(b?"?teacherId="+encodeURIComponent(b):"");return a.get(d)},this.resetPassword=function(b){var d=c+"/mm/teachers/me/user/password";return a({headers:{"x-mpact-user":b},url:d,method:"DELETE"})},this.getPassword=function(b){var d=c+"/mm/teachers/me/user/password";return a({method:"GET",headers:{"x-mpact-user":b},url:d})},this.toggleHints=function(b,d){var e=c+"/mm/teachers/me/user/password/hints/"+d;return a({headers:{"x-mpact-user":b},method:"POST",url:e})}}]),angular.module("services.teacherAPI",[]).service("TeacherAPI",["$http","configuration","urlService",function(a,b,c){var d=c.getApiServerUrl()+"/v2/teachers/me";this.getStandards=function(){return a.get(c.getApiServerUrl()+"/v2/ccs")},this.getTeacherPerfSessionCount=function(b){return a.get(d+"/stats/perfdata/sessionCount",{params:b})},this.getTeacherPerfPlayTime=function(b){return a.get(d+"/stats/perfdata/playTime",{params:b})},this.getIcFilter=function(){return a.get(d+"/stats/filters/instructionalContext")},this.getEcFilter=function(){return a.get(d+"/stats/filters/educationalContext")},this.logout=function(){return a.get(d+"/logout")},this.getAppLevels=function(b){return a({headers:{"x-mpact-user":b},url:d+"/students/applevels",method:"GET"})},this.getRawFOL=function(b){return a({headers:{"x-mpact-user":b},url:d+"/students/rawFol",method:"GET"})},this.getRashLevels=function(b){return a({headers:{"x-mpact-user":b},url:d+"/students/rashlevels",method:"GET"})},this.getInterventions=function(b){return a({headers:{"x-mpact-user":b},url:d+"/interventions",method:"GET"})},this.getMaxMinGameLevelValues=function(){return a.get(d+"/mobileapps").then(function(a){var b={};return a.forEach(function(a){a.levels&&angular.forEach(a.levels,function(c,d){if(a.chapters){var e=a.titles[d];b[a.appId]||(b[a.appId]={}),b[e]=c,b[a.appId][e]=c}else b[a.appId]||(b[a.appId]={}),b[a.appId][d]=c})}),b})},this.getStudentsZPCStats=function(b){return a({headers:{"x-mpact-user":b},url:d+"/students/zpcstats",method:"GET"})},this.continuousZpcStats=function(b){return a({headers:{"x-mpact-user":b},url:d+"/students/continuouszpc",method:"GET"})},this.metagameStats=function(b){return a({headers:{"x-mpact-user":b},url:d+"/students/metagame/stats",method:"GET"})},this.metagamePartition=function(b){return a({headers:{"x-mpact-user":b},url:d+"/students/metagame/partition",method:"GET"})}}]),angular.module("services.accounts.teacherDashboard",[]).service("teacherDashboardSrvc",["$window","TEACHER","games","mathStandards","lodash","dayAsInt","configuration",function(a,b,c,d,e,f,g){function h(a){return e.find(c,{appContext:a.appContext})}this.g_COLUMN_ID="columnId",this.g_NAMES_COLUMN_NAME="Name",this.g_NAMES_COLUMN_ID="Names",this.g_LAST_LEVEL_COLUMN_ID="lastlevel",this.g_LAST_LEVEL_COLUMN_NAME="Just Played",this.g_DEFAULT_DASHBOARD_DETAILS="Click on a cell or column for a detailed description",this.g_LAST_LEVEL_COLUMN_DESCRIPTION="The most recent level played by your students.",this.LAST_LEVEL_UNEXPECTED_TERMINATION="unexpectedTermination",this.g_NUM_LEVELS_RELEVANCY_THRESHOLD=4,this.g_EMA_SCORE_VALUE_THRESHOLD_GREEN=.93,this.g_EMA_SCORE_VALUE_THRESHOLD_YELLOW=.6,this.STATUS_GREEN=3,this.STATUS_YELLOW=2,this.STATUS_RED=1,this.STATUS_N_A=0,this.STATUS_UNKNOWN=-1,this.printableTeacher=!1;var i={wonEarly:"Won Early",excel:"Excelled",pass:"Passed",fail:"Failed",wonWithOneStar:"Won with 1 Star",wonWithTwoStar:"Won with 2 Stars",wonWithThreeStar:"Won with 3 Stars",didReachIsland:"Reached Island",didReachFinalIsland:"Reached Final Island",didNotReachIsland:"Did Not Reach Island",leftBeforeFinishing:"Quit",quit:"Quit"};this.updatePrintableTeacher=function(a){this.printableTeacher=a},this.getPrintableTeacher=function(){return this.printableTeacher},this.getStandards=function(){return"Other"==b.getClientData().settings.standards?d.CommonCore:d[b.getClientData().settings.standards]},this.isCommonCore=function(){return"CommonCore"==b.getClientData().settings.standards},this.getStandardsForClosestGrade=function(a){var b=this.getClosestSupportedGradeLevel(a);return this.getStandardsForGrade(b)},this.getStandardsForGrade=function(a){return e.filter(this.getStandards(),{grade:a})},this.isUsingSecularLabels=function(){return"Other"==b.getClientData().settings.standards},this.getColumnSortOrder=function(){var a=new Object,b=0;return a[this.g_NAMES_COLUMN_ID]=b++,e.forEach(d,function(b){e.forEach(b,function(b){a[b.id]=b.sortOrder+1})}),a},this.hasAQualifyingLastLevel=function(a){return f.isToday(a.dayAsInt)},this.hasAQualifyingMasteryScore=function(a){return!!e.isNumber(a.emaScoreValue)&&a.numRelevantLevels>=this.g_NUM_LEVELS_RELEVANCY_THRESHOLD},this.imageForLastLevelCell=function(a){return e.get(h(a),"image")},this.titleForColumnId=function(a){if(!a)return"";if(this.g_LAST_LEVEL_COLUMN_ID==a)return this.g_LAST_LEVEL_COLUMN_NAME;var b=this.getStandards()[a];return b?this.isUsingSecularLabels()?b.displayName:b.displayName:a},this.getColumnSecularTitle=function(a){var b=this.getStandards()[a]||{};return b.secularName||"(no sec. title)"},this.descriptionForColumnId=function(a){return a?this.g_LAST_LEVEL_COLUMN_ID==a?this.g_LAST_LEVEL_COLUMN_DESCRIPTION:this.getStandards()[a]?this.getStandards()[a].description:"["+a+"]":""},this.resultForLastLevelCell=function(a){return a.levelResultType?"won"==a.levelResultType||"died"==a.levelResultType?e.capitalize(a.levelResultType):i[a.levelResultType]||"":""},this.levelCategoryForLastLevelCell=function(a){var b=h(a),c=e.get(b,"levelCategories","");switch(c){case"difficultyType":return e.capitalize(a.difficultyType);case"operationType":return e.capitalize(e.get(b.levelCategoryMap,a.operationType,a.operationType));case"zoomCustom":if(1==a.levelNum)return"Intro";if(a.levelNum>=2&&a.levelNum<=5)return"Numbers: 1 - 1,000";if(a.levelNum>=6&&a.levelNum<=8)return"Zooming";if(a.levelNum>=9&&a.levelNum<=11)return"Negatives";if(a.levelNum>=12&&a.levelNum<=14)return"Decimals: Tenths";if(a.levelNum>=15&&a.levelNum<=17)return"Decimals: Hundredths";if(a.levelNum>=18&&a.levelNum<=20)return"Decimals: Thousandths";if(a.levelNum>=21&&a.levelNum<=24)return"Challenge";break;case"wingsCustom":if(a.levelNum<400)return"Pre-multiplication";if(a.levelNum<800)return"Basic Multiplication";if(a.levelNum>=800)return"Advanced Multiplication";break;case"estimation":return e.capitalize(a.levelOperationType)+"-estimation";default:return e.capitalize(c)}},this.sortValueForCell=function(a,b){var c=this.statusValueForCell(a);return c==this.STATUS_N_A||c==this.STATUS_UNKNOWN?b?c:-1*c+100:a&&a.emaScoreValue?a.emaScoreValue:c},this.statusValueForCell=function(a){if(a){if(a.columnId==this.g_LAST_LEVEL_COLUMN_ID){if(!this.hasAQualifyingLastLevel(a))return this.STATUS_N_A;var b=h(a);return b&&b.levelTypesGreen&&e.includes(b.levelTypesGreen,a.levelResultType)?this.STATUS_GREEN:b&&b.levelTypesYellow&&e.includes(b.levelTypesYellow,a.levelResultType)?this.STATUS_YELLOW:b&&b.levelTypesRed&&e.includes(b.levelTypesRed,a.levelResultType)?this.STATUS_RED:b&&b.levelTypesRedMax&&a.wingsLevelAccuracy<=b.levelTypesRedMax?this.STATUS_RED:b&&b.levelTypesYellowMax&&a.wingsLevelAccuracy<=b.levelTypesYellowMax?this.STATUS_YELLOW:b&&b.levelTypesGreenMin&&a.wingsLevelAccuracy>b.levelTypesGreenMin?this.STATUS_GREEN:a.levelResultType===this.LAST_LEVEL_UNEXPECTED_TERMINATION?this.STATUS_N_A:(this.errorDisplay(a,"Unknown Status Value for Last Level"),this.STATUS_UNKNOWN)}return this.hasAQualifyingMasteryScore(a)?a.emaScoreValue<this.g_EMA_SCORE_VALUE_THRESHOLD_YELLOW?this.STATUS_RED:a.emaScoreValue>=this.g_EMA_SCORE_VALUE_THRESHOLD_YELLOW&&a.emaScoreValue<this.g_EMA_SCORE_VALUE_THRESHOLD_GREEN?this.STATUS_YELLOW:a.emaScoreValue>=this.g_EMA_SCORE_VALUE_THRESHOLD_GREEN?this.STATUS_GREEN:(this.errorDisplay(a,"Unknown Status Value for Standard"),this.STATUS_UNKNOWN):this.STATUS_N_A}},this.errorDisplay=function(a,b){if("production"!=g.environment){var c="Dashboard Data Error - "+b+"\n";c+="The cell data leading to the error is: \n",c+=JSON.stringify(a),c+="\n\n",c+="Please file a bug that includes a screenshot of this message and your account information.",alert(c)}},this.getFilteredData=function(a,b){if(!a)return a;for(var c=this.getClosestSupportedGradeLevel(b),d=[],f=0;f<a.length;f++){var g=a[f],h=g.columnId;if(h==this.g_LAST_LEVEL_COLUMN_ID)e.find(a,function(a){return"lastlevel"==a.columnId&&a.studentId==g.studentId&&a.timestamp>g.timestamp})||d.push(g);else{var i=this.getStandards()[h];i&&i.grade==c&&d.push(g)}}return d},this.getGradeLevelColumnIds=function(a){var b=this.getClosestSupportedGradeLevel(a),c=this.getStandardsForGrade(b);return e.map(c,"id")},this.makeDataForToday=function(a){var b=this;e.forEach(a,function(a){a.columnId==b.g_LAST_LEVEL_COLUMN_ID&&(a.dayAsInt=f.todayAsInt())})},this.SAMPLE_GRADE_LEVEL="3",this.MIN_GRADE_LEVEL="K",this.MAX_GRADE_LEVEL="8",this.getClosestSupportedGradeLevel=function(a){if(!a)return this.SAMPLE_GRADE_LEVEL;if(e.includes(["Preschool","Pre-K"],a))return this.MIN_GRADE_LEVEL;var b=this.getStandardsForGrade(a);return 0==b.length?this.MAX_GRADE_LEVEL:a},this.getSampleData=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.getSampleDataPoints(a[d],b,d);c=c.concat(e)}return c},this.getSampleDataPoints=function(a,b,c){for(var d=[],e=JSON.parse(JSON.stringify(j[c])),f=this.getClosestSupportedGradeLevel(b),g=this.getStandardsForGrade(f),h=0;h<g.length;h++){var i=g[h],k=e[h+1];k.studentId=a,k.columnId=i.id.replace(/\./g,"_"),d.push(k)}return d};var j=[[{appContext:"Match",levelNum:42,levelResultType:"pass",operationType:"multiplication",dayAsInt:0},{emaScoreValue:.86,numRelevantLevels:43},{emaScoreValue:.92,numRelevantLevels:4},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.75,numRelevantLevels:10},{emaScoreValue:.75,numRelevantLevels:7},{emaScoreValue:.86,numRelevantLevels:43},{emaScoreValue:.92,numRelevantLevels:4},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.1,numRelevantLevels:7},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.72,numRelevantLevels:7},{emaScoreValue:.42,numRelevantLevels:7}],[{appContext:"Fractions!",levelNum:14,levelResultType:"quit",difficultyType:"Medium",dayAsInt:0},{emaScoreValue:.67,numRelevantLevels:43},{emaScoreValue:.13,numRelevantLevels:12},{emaScoreValue:.89,numRelevantLevels:7},{emaScoreValue:.43,numRelevantLevels:8},{emaScoreValue:.83,numRelevantLevels:5},{emaScoreValue:.23,numRelevantLevels:43},{emaScoreValue:.97,numRelevantLevels:4},{emaScoreValue:.23,numRelevantLevels:15},{emaScoreValue:.53,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.73,numRelevantLevels:15},{emaScoreValue:.32,numRelevantLevels:10},{emaScoreValue:.93,numRelevantLevels:7},{emaScoreValue:.32,numRelevantLevels:7},{emaScoreValue:.92,numRelevantLevels:7}],[{appContext:"Hungry Fish",levelNum:10,levelResultType:"excel",operationType:"Negatives",dayAsInt:0},{emaScoreValue:.65,numRelevantLevels:19},{emaScoreValue:.84,numRelevantLevels:15},{emaScoreValue:.98,numRelevantLevels:23},{emaScoreValue:.58,numRelevantLevels:13},{emaScoreValue:.7,numRelevantLevels:20},{emaScoreValue:.86,numRelevantLevels:43},{emaScoreValue:.25,numRelevantLevels:4},{emaScoreValue:.25,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.8,numRelevantLevels:7},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.1,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.92,numRelevantLevels:7},{emaScoreValue:.72,numRelevantLevels:7}],[{appContext:"Zoom",levelNum:7,levelResultType:"fail",dayAsInt:0},{emaScoreValue:.93,numRelevantLevels:4},{emaScoreValue:.44,numRelevantLevels:24},{emaScoreValue:.51,numRelevantLevels:87},{emaScoreValue:.8,numRelevantLevels:17},{emaScoreValue:.22,numRelevantLevels:16},{emaScoreValue:.86,numRelevantLevels:43},{emaScoreValue:.92,numRelevantLevels:4},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.99,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.99,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.52,numRelevantLevels:7},{emaScoreValue:.22,numRelevantLevels:7}],[{appContext:"Fractions!",levelNum:14,levelResultType:"pass",difficultyType:"Beginner",dayAsInt:0},{emaScoreValue:.67,numRelevantLevels:43},{emaScoreValue:.13,numRelevantLevels:12},{emaScoreValue:.09,numRelevantLevels:7},{emaScoreValue:.89,numRelevantLevels:11},{emaScoreValue:.4,numRelevantLevels:5},{emaScoreValue:.86,numRelevantLevels:43},{emaScoreValue:.92,numRelevantLevels:4},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.62,numRelevantLevels:7},{emaScoreValue:.82,numRelevantLevels:7}],[{appContext:"Hungry Fish",levelNum:8,levelResultType:"quit",operationType:"Subtraction",dayAsInt:0},{emaScoreValue:.65,numRelevantLevels:19},{emaScoreValue:.54,numRelevantLevels:15},{emaScoreValue:.98,numRelevantLevels:23},{emaScoreValue:.58,numRelevantLevels:15},{emaScoreValue:.9,numRelevantLevels:17},{emaScoreValue:.86,numRelevantLevels:43},{emaScoreValue:.92,numRelevantLevels:4},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.82,numRelevantLevels:7},{emaScoreValue:.72,numRelevantLevels:7}],[{appContext:"Wings",levelNum:209,levelResultType:"fail",wingsLevelAccuracy:.76,dayAsInt:0},{emaScoreValue:.93,numRelevantLevels:4},{emaScoreValue:.44,numRelevantLevels:24},{emaScoreValue:.51,numRelevantLevels:87},{emaScoreValue:.7,numRelevantLevels:50},{emaScoreValue:.8,numRelevantLevels:60},{emaScoreValue:.86,numRelevantLevels:43},{emaScoreValue:.92,numRelevantLevels:4},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.42,numRelevantLevels:7},{emaScoreValue:.32,numRelevantLevels:7}],[{appContext:"Fractions!",levelNum:14,levelResultType:"quit",difficultyType:"Medium",dayAsInt:0},{emaScoreValue:.67,numRelevantLevels:43},{emaScoreValue:.13,numRelevantLevels:4},{emaScoreValue:.09,numRelevantLevels:7},{emaScoreValue:.39,numRelevantLevels:9},{emaScoreValue:.8,numRelevantLevels:70},{emaScoreValue:.86,numRelevantLevels:43},{emaScoreValue:.92,numRelevantLevels:4},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.92,numRelevantLevels:7},{emaScoreValue:.92,numRelevantLevels:7}],[{appContext:"Hungry Fish",levelNum:9,levelResultType:"excel",operationType:"Negatives",dayAsInt:0},{emaScoreValue:.65,numRelevantLevels:19},{emaScoreValue:.54,numRelevantLevels:15},{emaScoreValue:.98,numRelevantLevels:23},{emaScoreValue:.56,numRelevantLevels:9},{emaScoreValue:.43,numRelevantLevels:33},{emaScoreValue:.65,numRelevantLevels:19},{emaScoreValue:.54,numRelevantLevels:15},{emaScoreValue:.98,numRelevantLevels:23},{emaScoreValue:.56,numRelevantLevels:9},{emaScoreValue:.43,numRelevantLevels:33},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.12,numRelevantLevels:7},{emaScoreValue:.72,numRelevantLevels:7}],[{appContext:"Wings",levelNum:821,levelResultType:"pass",wingsLevelAccuracy:.96,dayAsInt:0},{emaScoreValue:.93,numRelevantLevels:22},{emaScoreValue:.44,numRelevantLevels:24},{emaScoreValue:.51,numRelevantLevels:87},{emaScoreValue:.81,numRelevantLevels:77},{emaScoreValue:.4,numRelevantLevels:60},{emaScoreValue:.65,numRelevantLevels:19},{emaScoreValue:.54,numRelevantLevels:15},{emaScoreValue:.98,numRelevantLevels:23},{emaScoreValue:.56,numRelevantLevels:9},{emaScoreValue:.43,numRelevantLevels:33},{emaScoreValue:.96,numRelevantLevels:15},{emaScoreValue:.5,numRelevantLevels:10},{emaScoreValue:.26,numRelevantLevels:7},{emaScoreValue:.82,numRelevantLevels:7},{emaScoreValue:.52,numRelevantLevels:7}]]}]),angular.module("service.roster",[]).service("roster",["TEACHER","accountsAPI","lodash","$q","$timeout","teachersData","utils",function(a,b,c,d,e,f,g){function h(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d].studentId;e!=b&&c.push(e)}return c}var i=this;i.orderedSupportedGradeLevels=["K","1","2","3","4","5","6","7","8"],i.minGradeAge=7,i.rosterData={},i.fetchRosters=function(e,f){if(c.get(i.rosterData[e],"initialized",!1))return d.when();var g=e==a.getId()?"me":e;return b.getRosters(g).then(function(a){i.rosterData[e]||(i.rosterData[e]={rosters:{},selectedRoster:null});for(var b=0;b<a.length;b++){a[b].rosterIndex=b;var c=a[b].rosterId;i.rosterData[e].rosters[c]=a[b]}return i.rosterData.numRosters=a.length,a.length>0?i.getStudentData(e,a[0].rosterId):f?d.when():i.createRoster(e)},function(a){console.log(a)})},i.newRosterForTeacher=function(a){var b=f.getTeacher(a),c=b.firstName+" "+b.lastName+"'s Class",d=0;for(var e in i.rosterData[a].rosters)d++;return d>0&&(c+=" "+(d+1)),{name:c,gradeLevel:b.settings.gradeLevel||"N/A"}},i.createRoster=function(c,d){d||(d=i.newRosterForTeacher(c));var e=c==a.getId()?"me":c;return b.createRoster(e,d).then(function(a){return i.getStudentData(c,a)})},i.deleteRoster=function(c,d,e){var f=c;return c==a.getId()&&(f="me"),b.deactivateRoster(f,d).then(function(){return delete i.rosterData[c].rosters[d],i.rosterData[c].initialized=!1,i.fetchRosters(c,e)})};var j={};i.getAllRosters=function(a){return c.get(i.rosterData,a+".rosters",j)},i.getSelectedRoster=function(a){var b=c.get(i.rosterData,a+".selectedRoster",null);return b?i.rosterData[a].rosters[b]:{}},i.getRosterIndex=function(a,b){return i.rosterData[a]&&i.rosterData[a].rosters[b]?i.rosterData[a].rosters[b].rosterIndex:-1},i.numRosters=function(a){return i.rosterData.numRosters},i.getStudentData=function(d,f){if(!i.rosterData[d])return i.fetchRosters(d);if(f?i.rosterData[d].selectedRoster=f:f=i.rosterData[d].selectedRoster,i.rosterData[d].rosters[f]&&i.rosterData[d].rosters[f].students)return e(function(){return i.rosterData[d].rosters[f]},0);var g=d==a.getId()?"me":d;return b.getRoster(g,f).then(function(a){var b=i.getRosterIndex(d,f);return i.rosterData[d].rosters[f]=a,i.rosterData[d].rosters[f].rosterIndex=b,i.rosterData[d].rosters[f].studentIds=c.map(a.students,"studentId"),i.rosterData[d].initialized=!0,a})},i.createStudentAndAddToRoster=function(a,c){var d=f.getTeacher(c),e=i.rosterData[c].selectedRoster,h=g.schoolId(d);return a.schoolId=h,b.createStudent(a).then(function(c){return b.addStudentToRoster(e,c,h).then(function(){
a.studentId=c,i.getSelectedRoster(d.id).students.push(a),i.getSelectedRoster(d.id).studentIds.push(c),f.getTeacher(d.id).numStudents+=1})})},i.addStudentToRoster=function(a,c){var d=f.getTeacher(c),e=i.rosterData[c].selectedRoster,h=g.schoolId(d);return b.addStudentToRoster(e,a.studentId,h).then(function(){i.getSelectedRoster(d.id).students.push(a),i.getSelectedRoster(d.id).studentIds.push(a.studentId),f.getTeacher(d.id).numStudents+=1})},i.removeStudentFromRoster=function(a,d){var e=i.rosterData[a].selectedRoster;return b.removeStudentFromRoster(e,d.studentId,d.schoolId).then(function(){c.remove(i.getSelectedRoster(a).students,{studentId:d.studentId}),c.pull(i.getSelectedRoster(a).studentIds,d.studentId),f.getTeacher(a).numStudents-=1})},i.updateStudentInRoster=function(a){return b.updateStudent(a.studentId,a)},i.saveRoster=function(c){var d=i.getSelectedRoster(c),e=c==a.getId()?"me":c;return b.updateRoster(e,d.rosterId,d)},i.saveParentRoster=function(b){var e=a.getUser().teacherId;i.getSelectedRoster(e);return d.all(c.map(b,function(a){return null!=a.studentId&&a.studentId.length>0?i.updateStudentInRoster(a):i.createStudentAndAddToRoster(a,e)}))},i.gradeLevel=function(b){if(a.isParentGuardian()&&i.getSelectedRoster(b).students){for(var c=i.getSelectedRoster(b).students,d=(new Date).getFullYear(),e=i.minGradeAge+i.orderedSupportedGradeLevels.length-1,f=0;f<c.length;f++){var g=d-c[f].birthYear;g<e&&(e=g)}var h=Math.max(Math.min(e-i.minGradeAge,i.orderedSupportedGradeLevels.length-1),0);return i.orderedSupportedGradeLevels[h]}return i.getSelectedRoster(b).gradeLevel};var k=4,l=!0,m="Sample Student ",n=["Dennis Woolston","Julia Horton","Faisal Dagher","Betty Capozzi","Jimena Ponte","Hakeem Martins","Ingrid Billings","Tabatha Mallone","Emily Estevez","Alex Jiang","Jeremy Brown","Sophie Sykora","Sven Fattore","Jerry Bancroft","Wilhelm Landi","Arthur Whalen","Chet Raskoph","Isadora FensterMacher","Kyle Fuchs","Anna Hasenkamp","Billy Granger","Lamar Brun","Krista Schulz","Sarah Stark","Raphael Garza","Mandi Bai"];this.sampleStudents=[];for(var o=1;o<=k;o++){var p=l?m+o:n[o];this.sampleStudents.push({firstName:p,studentId:-o})}this.getGradeLevel=function(a){return this.gradeLevel(a)},this.getViewGradeLevel=function(a){return c.get(i.rosterData[a],"viewGradeLevel")||i.gradeLevel(a)},this.setViewGradeLevel=function(a,b){i.rosterData[a]&&(i.rosterData[a].viewGradeLevel=b)},this.getStudentCount=function(a){var b=this.getSelectedRoster(a);return b.students.length},this.getStudentIds=function(a,b){if(b){var c=i.rosterData[a].rosters[b];return c.studentIds}var c=this.getSelectedRoster(a);return c.studentIds},this.getSampleStudentIds=function(){return h(this.sampleStudents)},this.getStudents=function(a){const b={},c=a?this.getSelectedRoster(a).students:this.sampleStudents;return angular.forEach(c,function(c){c.studentId!==a&&(b[c.studentId]=c)}),b},this.formatFullName=function(a,b){return[b,c.first(a)].map(function(a){return c.upperFirst(a)}).join(", ")}}]),angular.module("service.utils",[]).factory("utils",["$window","lodash",function(a,b){return{schoolId:function(a){return a.schoolId||a.districtId&&"district-level-school-"+a.districtId},isMobile:function(){var b=a.navigator.userAgent||a.navigator.vendor||a.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))},isIE11:function(){var b=a.navigator.userAgent||a.navigator.vendor||a.opera;return/trident/i.test(b)},isPhone:function(){var b=a.navigator.userAgent||a.navigator.vendor||a.opera;return/phone/i.test(b)},isEmptyUndefOrNull:function(a){if(void 0===a||null===a)return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},expirationDate:function(a,b,c){if(!a||!b)return new Date;var d=b+(c?c:0);return new Date(a+864e5*d)},minTimeZoneOffsetHours:function(){var a=new Date,b=new Date(a.getFullYear(),0,1),c=new Date(a.getFullYear(),6,1),d=Math.min(b.getTimezoneOffset(),c.getTimezoneOffset()),e=-(d/60);return e},sum:function(a){return b.reduce(a,function(a,b){return a+b})},ipadAppLinks:function(a){var b=[{name:"Motion Math",link:"https://itunes.apple.com/us/app/motion-math/id1300888687?mt=8"}],c=[b[0],{name:"Motion Math: Hungry Guppy Edu",link:"https://itunes.apple.com/us/app/motion-math-hungry-guppy-edu/id1101336331?mt=8"}];switch(a){case"educator":return b;case"young":case"all":return c;default:alert("Unexpected app type: "+a)}},emailPattern:/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,motionMathPhoneNumber:"1-844-912-1661",motionMathSupportEmail:"support@motionmathgames.com",motionMathInfoEmail:"info@motionmathgames.com",teacher:"teacher",classroom:"class",school:"school",district:"district",freePlan:"free",silverPlan:"silver",goldPlan:"gold",platinumPlan:"platinum",iosParentPlan:"parent_ios",planLevelTrial:"trial",planLevelPilot:"pilot",parentGuardian:"Parent/Guardian",defaultDeviceMultiplier:1.5}}]),angular.module("services.searchAPI",[]).service("searchAPI",["$http","urlService",function(a,b){var c=b.getApiServerUrl()+"/v2";this.searchInstitutions=function(b,d){return a.get(c+"/institutions/"+b+"s?query="+d)}}]),angular.module("services.standards",[]).service("mathStandards",["mmConstants","lodash",function(a,b){function c(a,b){var c=a.id.split("."),d=b.id.split(".");return"K"==c[1]&&"K"==d[1]?a.id>b.id?1:-1:"K"==c[1]?-1:"K"==d[1]?1:a.id>b.id?1:-1}var d=this,e=["CommonCore","TEKS","Other"],f={};b.forEach(a.ccssDescriptions.sort(c),function(a,b){f[a.id]={id:a.id,description:a.description,grade:a.id.split(".")[1],displayName:"DisplayName",sortOrder:b,standardName:a.description}}),b.forEach(e,function(a){d[a]=angular.copy(f)})}]),angular.module("services.folContent",[]).value("folContent",{orderedFactors:["growthMindset","confidence","strategy","regulation"],growthMindset:{name:"Growth Mindset",technicalName:"growthMindset",shortDescription:"Selects challenging levels and persists even after losing",description:"Learners with a growth mindset believe that their abilities can be developed through hard work and smart strategies — talent is just the starting point. This belief creates a love of learning and a resilience that is essential for growth.  Alternately, students with a fixed mindset are more likely to believe that their intelligence is static – if they are “bad” at a subject, they won’t get better at it, regardless of effort. We measure how a student demonstrates Growth Mindset by their:",components:[{name:"Challenge Seeking",description:"Does the student seek out appropriate levels of challenge? Does she incorporate a healthy mix of exploration and practice into her game play?"},{name:"Persistence",description:"Does the student respond to failure in difficult levels by trying again or by avoiding further challenge?"}],suggestions:[{description:"<i>Praise wisely. </i> <a target='_blank' href='http://www.apa.org/education/k12/using-praise.aspx'> Positively reinforce effort, focus, and strategies </a> as opposed to intelligence. Saying \"you’re smart,\" instead of \"you really worked hard on that,\" for example, can <a target='_blank' href='http://www.ncbi.nlm.nih.gov/pubmed/9686450'> lead to a fixed mindset </a> and a focus on performance rather than learning."},{description:"<i>Share stories of struggle. </i> Knowing that successful scientists and mathematicians struggled personally and professionally before achieving greatness helps <a target='_blank' href='pubs/journals/releases/edu-edu0000092.pdf'> combat the misconception </a> that success depends solely on talent."},{description:"<i>Embrace mistakes.</i> When students make a mistake in their work, tell them <a target='_blank' href='wp-content/uploads/14_Boaler_FORUM_55_1_web.pdf'>\"this is a really important learning opportunity for the class!\"</a> You can start by sharing mistakes anonymously until students feel comfortable and eager to volunteer their own."},{description:"<i>Model your own mindset to students, </i> and <a target='_blank' href='https://evidenceintopractice.wordpress.com/2015/02/19/growth-mindset-what-interventions-might-work-and-what-probably-wont/'> challenge your own internal beliefs about intelligence.</a> Sharing a personal experience of learning something difficult can be a powerful lesson to your students. It’s also okay to acknowledge that you may still have some fixed mindset beliefs; maintaining a growth mindset is an ongoing process."},{description:"<i>Teach students about growth mindset.</i>  ClassDojo’s <a target='_blank' href='https://www.classdojo.com/bigideas/'>5-part series of 3-minute animated videos</a> is a great introduction, and for a deeper look, consider Jo Boaler’s 120 minute <a target='_blank' href='https://lagunita.stanford.edu/courses/Education/EDUC115-S/Spring2014/about'>How to Learn Math</a> video course or the <a target='_blank' href='https://www.mindsetkit.org/'>Mindset Kit</a> from PERTS."},{description:"<i>Turn students into growth mindset promoters.</i> Have your class write letters to younger students explaining that their brains will grow with effort; when students advocate for something, <a target='_blank' href='https://research.steinhardt.nyu.edu/scmsAdmin/uploads/004/308/Aronson%20Fried%20%20Good.pdf'>they start believing it more.</a>"},{description:"<i>Post visible reminders.</i> Reinforce the concept of Growth Mindset with <a target='_blank' href='wp-content/uploads/Positive-Classroom-Norms2.pdf'>these Positive Classroom Norms</a> from YouCubed.  Display the poster or have students create their own!"}],interventions:["mindsetIntro","mindsetCoaching"]},confidence:{name:"Confidence",technicalName:"confidence",shortDescription:"Selects even more challenging levels after winning",description:"Confidence is a student’s belief in their ability to learn; a confident student will take appropriate risks, undeterred by the prospect of failure. We measure how a student demonstrates confidence by their:",components:[{name:"Boldness",description:"Does the student attempt difficult content, even when he won’t necessarily do well?"},{name:"Response to Success",description:"After a student succeeds, does she engage in a deeper challenge or does she shy away from difficult content to avoid failure?"}],suggestions:[{description:"<i>Frame the critique.</i> When you give a student critical feedback, let them know \"I have high standards and I know you can meet them.\" This combination <a target='_blank' href='sites/default/files/the_mentors_dilemma.pdf'> has been proven </a> to increase confidence over just critique or praise in isolation."},{description:'<i>Define what really matters.</i> Have students write a short essay about their core values (things like "family", "religion", "art"). This simple exercise has been shown to minimize threats to confidence and <a target=\'_blank\' href=\'http://science.sciencemag.org/content/313/5791/1307\'> significantly improve </a> the grades of African-American students in particular.'},{description:"<i>Envision victory.</i> Ask students to <a target='_blank' href='9781449689742/Chapter2.pdf'> visualize a past achievement </a> or the accomplishments of successful role model before starting a challenging new task, such as a new level."},{description:"<i>Train the butterflies.</i> Most students naturally interpret physiological or emotional symptoms of anxiety as a bad sign – \"I’m nervous because I’m not good at math.\" Teach them that these symptoms can be facilitative: \"the nervousness in your body is helping you focus. <a target='_blank' href='http://www.naspspa.org/AcuCustom/Sitename/Documents/DocumentItem/1973.pdf'> Train your butterflies to fly in formation!\"</a>"}],interventions:["hideTheNumbers","dontQuit"]},strategy:{name:"Productive Strategy",technicalName:"productiveStrategy",shortDescription:"Plays a productive path through the game",description:"Productive Strategy describes whether or not a student has an effective approach to achieving their learning goals. This includes identifying their goals, defining steps for achieving them, monitoring progress, and making adjustments.  We measure how students demonstrate productive strategy in gameplay by their direction of play from level to level: are they generally advancing forward to more challenging content?  Do they take corrective action when levels are too challenging or too easy?",suggestions:[{description:"<i>Draw up a plan of attack.</i> Have your students write down the levels they want to reach in our learning games, and then plan out the steps they will take to reach those goals."},{description:"<i>Cut it up.</i> Demonstrate for your students how you go about <a target='_blank' href='http://www.interventioncentral.org/academic-interventions/study-organization/school-wide-strategies-managing-study-skills-organization'> breaking apart an overwhelming problem </a> into smaller steps."},{description:"<i>Team up.</i> Let students play our learning games <a target='_blank' href='http://www.teachthought.com/pedagogy/20-collaborative-learning-tips-and-strategies/'> in groups </a>. Before playing, have each group agree on a strategy for play.  After everyone has played, share and reflect."},{description:"<i>Define the hazards.</i> As a class, <a target='_blank' href='http://www.interventioncentral.org/academic-interventions/study-organization/school-wide-strategies-managing-study-skills-organization'> brainstorm a list of common pitfalls </a> – ineffective strategies – for achieving success. After playing, ask students if they fell into any of these unproductive habits."}],interventions:["mindsetIntro","mindsetCoaching","brainMode"]},regulation:{name:"Self-Regulation",technicalName:"selfRegulation",shortDescription:"Focuses during gameplay, rarely pausing or quitting",description:"Self-Regulation is the ability to adhere to a strategy, particularly in the face of difficulty or diversion.  This requires that a student manage their attention, commit to their course of action, and avoid distractions.  We measure how a student demonstrates self-regulation in gameplay by their:",components:[{name:"Discipline",description:"Does the student make controlled choices in transitioning from level to level, or does she make numerous random jumps in difficulty and content?"},{name:"Commitment",description:"Does the student follow through and complete levels, or does she often quit?"}],suggestions:[{description:"<i>Create a pre-game script.</i> Before students play the games, ask them to anticipate what distractions or fears might impede their gameplay. Then have them <a target='_blank' href='http://eric.ed.gov/?id=EJ985142'>recite their plan for overcoming these obstacles</a>."},{description:"<i>Develop self-management skills.</i> Encourage students keep a regular journal that includes goals for staying focused. Have them <a target='_blank' href='http://www.interventioncentral.org/node/961544'> regularly track how often they adhere to </a> their target behaviors."},{description:"<i>Draw the future.</i> Have your students draw a picture of their <a target='_blank' href='https://deepblue.lib.umich.edu/bitstream/handle/2027.42/89942/oyserman__bybee___terry_2006.pdf?sequence=1' > future self</a>, with the positive and negative forces that will help or hinder their progress, the actions they’ll take to overcome obstacles, and a timeline for reaching their goals."}],interventions:["dontQuit","selfAssessment"]},interventions:{mindsetIntro:{icon:"IconMindsetIntro.png",name:"Growth Mindset Introduction",treatmentName:"metagameVariant",partitions:[1,2,3],description:"Students learn that the brain is like a muscle; exercising with challenging content helps it grow. This is a key component of growth mindset, and often used in effective interventions.",priority:2},mindsetCoaching:{icon:"IconMindsetCoaching.png",name:"Growth Mindset Coaching",treatmentName:"metagameVariant",partitions:[1,2,3],description:"Students are coached throughout Hungry Fish to play challenging levels. They are congratulated for working out their brains even when they lose. ",priority:1},hideTheNumbers:{icon:"IconHTN.png",name:"Confidence Intervention (Hide the Numbers)",treatmentName:"metagameVariant",partitions:[3],description:"When students display low confidence, we hide level numbers when they are making a choice. Upon completing a level, we reveal the difficulty of the level and give extra praise to students for the attempt. ",priority:1},dontQuit:{icon:"IconDontQuit.png",name:"Perseverence Intervention (Don't Quit)",treatmentName:"quitIntervention",partitions:[1],description:"Students who quit often are asked to reflect on why they made the choice to quit. Then we assign them a fearless avatar. For example, if a student says they hate losing, we give them the role of a mad scientist who isn’t afraid to fail before succeeding.",priority:0},brainMode:{icon:"IconBrainMode.png",name:"Brain Mode",treatmentName:"brainMode",partitions:[1],description:"After playing below their level of challenge multiple times in a row, students unlock an interactive brain visualization that grows with challenging levels.",priority:0},selfAssessment:{icon:"IconSelfAssessment.png",name:"Self Assessment",treatmentName:"metagameVariant",partitions:[3],description:"Students are asked to reflect on the difficulty of the level they just played; being aware of challenge can help students calibrate and stick to a plan.",priority:0}}}),angular.module("services.games",[]).value("games",{hungryGuppy:{appContext:"Hungry Guppy",displayName:"Hungry Guppy",image:"hungryGuppy.png",levelTypesGreen:["excel"],levelTypesYellow:["pass"],levelTypesRed:["fail","quit"],mathContent:"Numbers, basic addition",gradesDisplay:"K-2",excludedGrades:["3","4","5","6","7","8","High school","Higher education","N/A"],infoLink:"http://motionmathgames.com/motion-math-hungry-guppy/",gameKey:"hungryGuppy",isInCAPilot:!1},hungryFish:{appContext:"Hungry Fish",displayName:"Hungry Fish",image:"hungryFish.png",levelCategories:"operationType",levelTypesGreen:["wonEarly","excel"],levelTypesYellow:["won","pass"],levelTypesRed:["died","leftBeforeFinishing","quit","fail"],mathContent:"Addition, subtraction, negatives",gradesDisplay:"K-8",excludedGrades:[],infoLink:"http://motionmathgames.com/motion-math-hungry-fish/",gameKey:"hungryFish",isInCAPilot:!0},match:{appContext:"Match",displayName:"Match",image:"match.png",levelCategories:"operationType",levelCategoryMap:{additionbasic:"Basic addition",multiplicationvisual:"Visual multiplication"},levelTypesGreen:["won","excel","pass"],levelTypesYellow:["died"],levelTypesRed:["leftBeforeFinishing","fail","quit"],mathContent:"Addition, subtraction, multiplication, division",gradesDisplay:"K-8",excludedGrades:[],infoLink:"http://motionmathgames.com/motion-math-match/",gameKey:"match",isInCAPilot:!0},zoom:{appContext:"Zoom",displayName:"Zoom",image:"zoom.png",levelCategories:"zoomCustom",levelTypesGreen:["wonWithThreeStars","excel"],levelTypesYellow:["wonWithTwoStars","wonWithOneStar","died","pass"],levelTypesRed:["leftBeforeFinishing","fail","quit"],mathContent:"Number line",gradesDisplay:"K-8",excludedGrades:[],infoLink:"http://motionmathgames.com/motion-math-zoom/",gameKey:"zoom",isInCAPilot:!0},fractions:{appContext:"Fractions!",displayName:"Bounce",image:"bounce.png",levelCategories:"difficultyType",levelTypesGreen:["wonEarly","excel"],levelTypesYellow:["won","died","pass"],levelTypesRed:["leftBeforeFinishing","fail","quit"],mathContent:"Fractions, decimals, percents",gradesDisplay:"K-8",excludedGrades:["Preschool","Pre-K","K","1","2"],infoLink:"http://motionmathgames.com/motion-math-game/",gameKey:"fractions",isInCAPilot:!0},pizza:{appContext:"Pizza!",displayName:"Pizza",image:"pizza.png",levelCategories:"Word Problems",levelTypesGreen:["won","gameWin","excel","pass"],levelTypesYellow:["lost"],levelTypesRed:["died","fail","quit"],mathContent:"Economics, mental math, proportions",gradesDisplay:"2-8",excludedGrades:["Preschool","Pre-K","K","1"],infoLink:"http://motionmathgames.com/motion-math-pizza/",gameKey:"pizza",isInCAPilot:!1},cupcake:{appContext:"Cupcake!",displayName:"Cupcake",image:"cupcake.png",levelCategories:"Word Problems",levelTypesGreen:["won","gameWin","excel","pass"],levelTypesYellow:["lost"],levelTypesRed:["died","fail","quit"],mathContent:"Word problems, coordinates, economics",gradesDisplay:"2-8",excludedGrades:["Preschool","Pre-K","K","1"],infoLink:"http://motionmathgames.com/motion-math-cupcake/",gameKey:"cupcake",isInCAPilot:!1},cloudmachine:{appContext:"cloudmachine",displayName:"Cloud Machine",image:"cloudMachine.png",levelTypesGreen:["pass"],levelTypesYellow:["fail"],levelTypesRed:["quit"],mathContent:"Fractions",gradesDisplay:"3-8",excludedGrades:["Preschool","Pre-K","K","1","2"],infoLink:"http://motionmathgames.com/motion-math-cloud-machine/",gameKey:"cloudmachine",isInCAPilot:!1},wings:{appContext:"Wings",displayName:"Wings",image:"wings.png",levelCategories:"wingsCustom",levelTypesGreenMin:.9,levelTypesYellowMax:.9,levelTypesRedMax:.7,levelTypesRed:["leftBeforeFinishing","fail","quit"],mathContent:"Multiplication",gradesDisplay:"K-8",excludedGrades:[],infoLink:"http://motionmathgames.com/motion-math-wings/",gameKey:"wings",isInCAPilot:!1,isNotActive:!0},questimate:{appContext:"Questimate!",displayName:"Questimate",image:"questimate.png",levelCategories:"estimation",levelTypesGreen:["won","wonEarly","excel"],levelTypesYellow:["skipped","pass"],levelTypesRed:["leftBeforeFinishing","lost","fail","quit"],mathContent:"Estimation, measurement",gradesDisplay:"3-8",excludedGrades:["Preschool","Pre-K","K","1","2"],infoLink:"http://motionmathgames.com/questimate/",gameKey:"questimate",isInCAPilot:!1,isNotActive:!0}}),angular.module("services.mpactCommand",[]).service("mpactCommand",["$http",function(a){this.logout=function(){this.command("logout")},this.reset=function(){this.command("reset")},this.subscribe=function(a,b){this.command("subscribe",{plan:a,teacherId:b})},this.command=function(a,b){var c="mPactCommand:"+a;b&&(c+=":"+JSON.stringify(b)),console.log(c);var d=document.createElement("IFRAME");d.setAttribute("src",c),document.documentElement.appendChild(d),d.parentNode.removeChild(d),d=null}}]),angular.module("services.customerIOService",[]).service("customerIO",["$document","$window","configuration","dayAsInt","lodash","$injector",function(a,b,c,d,e,f){var g;try{g=f.get("TEACHER")}catch(h){g={}}var i,j,k,l=l||[];for(i=function(a){return function(){l.push([a].concat(Array.prototype.slice.call(arguments,0)))}},j=["identify","track","page"],k=0;k<j.length;k++)l[j[k]]=i(j[k]);var m=a[0].createElement("script");m.async=!0,m.id="cio-tracker",m.setAttribute("data-site-id",c.customerIOId),m.src="https://assets.customer.io/assets/track.js",a[0].body.appendChild(m),b._cio=l,this.identify=function(){var a,f=g.getUser(),h=g.getClientData(),i=h.settings||{},j=h.institution||{},k=h.prospectRecord||{},l=g.getActiveSubscription()||{};l.trialStartDate&&(a=d.toDate(l.trialStartDate).getTime()/1e3);var m=new Date(f.accountStartDate).getTime();e.isNaN(m)&&(m=(new Date).getTime());var n={id:c.customerIOIdPrefix+f.caseSensitiveEmail,email:f.caseSensitiveEmail+c.customerIOIdPrefix,created_at:Math.floor(m/1e3),access_code:h.loginCode,first_name:i.mmFirstName||f.firstName,last_name:i.mmLastName||f.lastName,role:i.role,school_name:j.schoolName,district_name:j.districtName,iPad_implementation:i.iPadImplementation,lead_code:k.leadCode,is_signup_complete:h.isSignupComplete||!1,trial_start_date:a,subscription_type:l.plan,checklist_roster_finished:e.get(h,"setup.rosterFinished"),checklist_loadedapps_finished:e.get(h,"setup.appsFinished")};b._cio.identify(n)},this.identifyCustom=function(a,d){d.id=c.customerIOIdPrefix+a,d.email=a,b._cio.identify(d)},this.event=function(a,c){b._cio.track(a,c)},this.pageView=function(a){b._cio.page(a)}}]),angular.module("services.emailService",[]).service("emailService",["$window","TEACHER",function(a,b){this.nps="nps",this.generalInvitation="generalInvitation",this.getEmailLink=function(c){var d=g[c],e=h[c];d||(d=""),e||(e=""),e=a.encodeURIComponent(e),d=d.replace("{{name}}",b.getFirstName()),d=a.encodeURIComponent(d);var f="mailto:?subject="+e+"&body="+d;return f};var c="Dear Teachers,\n\nI am piloting Motion Math in my class, and love it!  The company is offering free pilots for its full suite of engaging K-6 games and student progress dashboard, and I highly recommend signing up. It’s quick and easy:\n\n        Step 1. Create a classroom account at http://bit.ly/1x2kg7R and add your student roster.\n        Step 2. Download the free Motion Math Educator app onto your classroom iPads. \n\nMotion Math helps to engage students, improve mastery of foundational concepts, and facilitate differentiation. If you want to learn more, check out this one page overview: https://drive.google.com/file/d/0B2wchP0SfvfDX241RkRkdXl6SE0/view. Please let me know if you have any questions!",d="Dear Teachers,\n\nI just signed us up for a Motion Math pilot. I encourage you to explore their suite of iPad games for the toughest K-6 math concepts and their student progress dashboard.\n\nTo get your classroom started, just sign up at motionmathgames.com/signup.\n\nMotion Math engages students, facilitates differentiation, and has been proven to enhance mastery and mindsets. If you want to learn more, check out their website: http://motionmathgames.com/ or email brendan@motionmathgames.com.",e="Hello,\n\nI'm piloting Motion Math's suite of math games. Please load this free app on our iPads:\n\nMotion Math: https://itunes.apple.com/us/app/motion-math/id1300888687?mt=8 \n\nThanks,\n\n{{name}}",f="Hello,\n\nI'm piloting Motion Math's suite of math games. Please load these 2 free apps on our iPads:\n\nMotion Math: https://itunes.apple.com/us/app/motion-math/id1300888687?mt=8 \nMotion Math: Hungry Guppy Edu: https://itunes.apple.com/us/app/motion-math-hungry-guppy-edu/id1101336331?mt=8 \n\nThanks,\n\n{{name}}",g={nps:c,generalInvitation:d,install:e,installYoung:f},h={nps:"Opportunity to Pilot Motion Math",generalInvitation:"We have Motion Math – bring it to your classroom",install:"Can you help me load two free apps onto my iPads?",installYoung:"Can you help me load two free apps onto my iPads?"}}]),angular.module("services.demoService",[]).service("demoService",["TEACHER","lodash",function(a,b){this.demoRandom=function(a,b){var c=1e4*Math.sin(a),d=c-Math.floor(c);return Math.floor(d*b)},this.getSampleDemoData=function(a,b,c){var d,e={},f=b.rosterId.codePointAt(b.rosterId.length-1);for(var g in b.students){g%4==0&&(d=this.demoRandom(1.73*(parseInt(g)+f),4));var h=4*Math.floor(g/4),i=(parseInt(g)+d+h)%4,j=a[i],k=b.students[g].studentId.codePointAt(b.students[g].studentId.length-1);e[b.students[g].studentId]=c(j,k,b.students[g].studentId)}return e};var c=["brendan@motionmathgames.com"];this.isDemoUser=function(){return b.includes(c,a.getUser().emails[0])},this.brendanClassData=[{columnId:"2OA",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:1,numRelevantLevels:2},{columnId:"2OA",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.20194169362868467,numRelevantLevels:12},{columnId:"2OA",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.852572412,numRelevantLevels:9},{columnId:"2OA",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:1,numRelevantLevels:2},{columnId:"2OA",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:8},{columnId:"2OA",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.9258823529411765,numRelevantLevels:6},{columnId:"2OA",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:9},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{columnId:"2NBT",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.889,numRelevantLevels:7},{columnId:"2NBT",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.34891157444268117,numRelevantLevels:13},{columnId:"2NBT",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.8466199999999999,numRelevantLevels:9},{columnId:"2NBT",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:1,numRelevantLevels:2},{columnId:"2NBT",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:8},{columnId:"2NBT",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:1,numRelevantLevels:5
},{columnId:"2NBT",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:8},{studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",dayAsInt:20150415,levelNum:1,appContext:"Match",levelResultType:"died",operationType:"division",columnId:"lastlevel"},{studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",dayAsInt:20150415,levelNum:6,appContext:"Zoom",levelResultType:"wonWithTwoStars",columnId:"lastlevel"},{studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",dayAsInt:20150415,levelNum:17,appContext:"Hungry Fish",levelResultType:"wonEarly",operationType:"addition",columnId:"lastlevel"},{studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",dayAsInt:20150415,levelNum:4,appContext:"Match",levelResultType:"leftBeforeFinishing",operationType:"multiplication",columnId:"lastlevel"},{studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",dayAsInt:20150415,levelNum:1,appContext:"Fractions!",levelResultType:"wonEarly",difficultyType:"medium",columnId:"lastlevel"},{studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",dayAsInt:20150415,levelNum:701,appContext:"Wings",levelResultType:"didReachIsland",wingsLevelAccuracy:.9823529411764707,columnId:"lastlevel"},{studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",dayAsInt:20150415,levelNum:101,appContext:"Wings",levelResultType:"didReachIsland",wingsLevelAccuracy:1,columnId:"lastlevel"},{columnId:"3NBT",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.5591068,numRelevantLevels:9},{columnId:"3NBT",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.40366819875170734,numRelevantLevels:18},{columnId:"3NBT",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.8490869481601285,numRelevantLevels:15},{columnId:"3NBT",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:1,numRelevantLevels:8},{columnId:"3NBT",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:13},{columnId:"3NBT",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.9274427244582043,numRelevantLevels:11},{columnId:"3NBT",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:14},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{columnId:"3OA",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.5003826086956522,numRelevantLevels:6},{columnId:"3OA",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.6435941729375201,numRelevantLevels:16},{columnId:"3OA",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:1,numRelevantLevels:5},{columnId:"3OA",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:1,numRelevantLevels:8},{columnId:"3OA",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:13},{columnId:"3OA",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.9353441802252815,numRelevantLevels:6},{columnId:"3OA",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:14},{columnId:"3NF",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"3NF",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.9528651294154292,numRelevantLevels:5},{columnId:"3NF",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.4816658510182774,numRelevantLevels:5},{columnId:"3NF",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.7258072328273749,numRelevantLevels:6},{columnId:"3NF",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.56254,numRelevantLevels:4},{columnId:"3NF",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{columnId:"4NF",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"4NF",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.9945791631541071,numRelevantLevels:5},{columnId:"4NF",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.4035492957746479,numRelevantLevels:5},{columnId:"4NF",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.7228116034669556,numRelevantLevels:6},{columnId:"4NF",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.48462170478170485,numRelevantLevels:4},{columnId:"4NF",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{columnId:"4NBT",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.36265531372,numRelevantLevels:5},{columnId:"4NBT",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.3081257478772015,numRelevantLevels:7},{columnId:"4NBT",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.8458019981254052,numRelevantLevels:15},{columnId:"4NBT",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.9712,numRelevantLevels:6},{columnId:"4NBT",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:5},{columnId:"4NBT",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.9901176470588235,numRelevantLevels:11},{columnId:"4NBT",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:6},{columnId:"4OA",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.2,numRelevantLevels:4},{columnId:"4OA",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.2864,numRelevantLevels:5},{columnId:"4OA",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:1,numRelevantLevels:5},{columnId:"4OA",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.6544000000000001,numRelevantLevels:6},{columnId:"4OA",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:5},{columnId:"4OA",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.9582245989304813,numRelevantLevels:6},{columnId:"4OA",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:6},{columnId:"5NF",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"5NF",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:1,numRelevantLevels:5},{columnId:"5NF",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.4,numRelevantLevels:5},{columnId:"5NF",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.622,numRelevantLevels:6},{columnId:"5NF",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.4547251063829787,numRelevantLevels:4},{columnId:"5NF",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{columnId:"5NBT",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.28700001544473847,numRelevantLevels:5},{columnId:"5NBT",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.2563684210526316,numRelevantLevels:6},{columnId:"5NBT",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:1,numRelevantLevels:5},{columnId:"5NBT",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.8449230769230769,numRelevantLevels:6},{columnId:"5NBT",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:5},{columnId:"5NBT",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.9996846057571965,numRelevantLevels:6},{columnId:"5NBT",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:6},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{columnId:"6NS",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.6999999999999998,numRelevantLevels:2},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{columnId:"6NS",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.2865824153706037,numRelevantLevels:6},{columnId:"6NS",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.7533277872128,numRelevantLevels:15},{columnId:"6_2",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.7,numRelevantLevels:3},{columnId:"6_2",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.7,numRelevantLevels:1},{columnId:"6_4",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"6_4",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:1,numRelevantLevels:5},{columnId:"6_4",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.4,numRelevantLevels:5},{columnId:"6_4",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.622,numRelevantLevels:6},{columnId:"6_4",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.4,numRelevantLevels:4},{columnId:"6_4",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{columnId:"6_5",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"6_5",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:1,numRelevantLevels:5},{columnId:"6_5",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.4,numRelevantLevels:5},{columnId:"6_5",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.622,numRelevantLevels:6},{columnId:"6_5",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.4,numRelevantLevels:4},{columnId:"6_5",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{columnId:"5_3",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.2,numRelevantLevels:4},{columnId:"5_3",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.15690447200000002,numRelevantLevels:6},{columnId:"5_3",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.8308406458181821,numRelevantLevels:15},{columnId:"5_3",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.9496,numRelevantLevels:6},{columnId:"5_3",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:5},{columnId:"5_3",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:1,numRelevantLevels:11},{columnId:"5_3",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:6},{columnId:"5_2",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"5_2",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:1,numRelevantLevels:5},{columnId:"5_2",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.4,numRelevantLevels:5},{columnId:"5_2",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.622,numRelevantLevels:6},{columnId:"5_2",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.4248590588235295,numRelevantLevels:4},{columnId:"5_2",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{columnId:"4_4",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.223013985750638,numRelevantLevels:6},{columnId:"4_4",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.28619935999396623,numRelevantLevels:17},{columnId:"4_4",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.8418354680446599,numRelevantLevels:15},{columnId:"4_4",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.41657403076923083,numRelevantLevels:8},{columnId:"4_4",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:13},{columnId:"4_4",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.9979121789560895,numRelevantLevels:11},{columnId:"4_4",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:14},{columnId:"4_2",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.7,numRelevantLevels:5},{columnId:"4_2",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.7,numRelevantLevels:1},{columnId:"4_3",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"4_3",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.987841099947118,numRelevantLevels:5},{columnId:"4_3",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.4081290322580646,numRelevantLevels:5},{columnId:"4_3",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.6716924046920821,numRelevantLevels:6},{columnId:"4_3",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.48462170478170485,numRelevantLevels:4},{columnId:"4_3",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{columnId:"3_7",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"3_7",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.9599942536853944,numRelevantLevels:5},{columnId:"3_7",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.46868475686343364,numRelevantLevels:5},{columnId:"3_7",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.7417165276292297,numRelevantLevels:6},{columnId:"3_7",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.5271521096725057,numRelevantLevels:4},{columnId:"3_7",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{columnId:"3_3",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"3_3",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.9528651294154292,numRelevantLevels:5},{columnId:"3_3",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.4816658510182774,numRelevantLevels:5},{columnId:"3_3",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.7258072328273749,numRelevantLevels:6},{columnId:"3_3",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.5388027586206896,numRelevantLevels:4},{columnId:"3_3",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{columnId:"3_4",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.3801588869565217,numRelevantLevels:6},{columnId:"3_4",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.6432971587458762,numRelevantLevels:17},{columnId:"3_4",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.8697605893474343,numRelevantLevels:14},{columnId:"3_4",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.8625771233689601,numRelevantLevels:8},{columnId:"3_4",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:13},{columnId:"3_4",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.9309744050291873,numRelevantLevels:11},{columnId:"3_4",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:14},{columnId:"3_5",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.8823529411764706,numRelevantLevels:1},{columnId:"3_5",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:1},{columnId:"3_2",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.7,numRelevantLevels:5},{columnId:"3_2",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.7,numRelevantLevels:1},{_id:{$oid:"552f12e50909e4f5cc8d2c1d"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:456.58656919002533},{_id:{$oid:"552ef15c0909e4f5cc8d2b87"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:572.315133869648},{_id:{$oid:"552eec300909e4f5cc8d2b61"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:991.6909494400024},{_id:{$oid:"552f09290909e4f5cc8d2bd2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:358.3752598762512},{_id:{$oid:"552f0c6c0909e4f5cc8d2be2"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:430.6069006919861},{_id:{$oid:"552f13c40909e4f5cc8d2c24"},analyser:"AnalysisBucketForTimePlayed",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:499.89024925231934},{_id:{$oid:"552f0fa10909e4f5cc8d2bfd"},analyser:"AnalysisBucketForTimePlayed",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",teacherId:"9Ygrt7pUg7CXxdviufQw9c9LCtuYS8",totalTimePlayed:382.6739799976349},{columnId:"2_2",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:.7,numRelevantLevels:5},{columnId:"2_2",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.7,numRelevantLevels:1},{columnId:"2_3",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.4,numRelevantLevels:5},{columnId:"2_3",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.806483584,numRelevantLevels:5},{columnId:"2_3",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:.819853312,numRelevantLevels:5},{columnId:"2_3",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:.893845,numRelevantLevels:6},{columnId:"2_3",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:.7024,numRelevantLevels:4},{columnId:"2_3",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:.8,numRelevantLevels:1},{columnId:"2_4",studentId:"mm75254fe2-fd46-4bec-b56f-e854db4d4e55",emaScoreValue:1,numRelevantLevels:2},{columnId:"2_4",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:.20057148156336313,numRelevantLevels:12},{columnId:"2_4",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.8500734002857142,numRelevantLevels:9},{columnId:"2_4",studentId:"mmc3e4ffd3-3449-4b25-b1fa-81ad7b1335ba",emaScoreValue:1,numRelevantLevels:2},{columnId:"2_4",studentId:"mmd1aee796-77f6-4a0a-9df3-b1dfaec05e07",emaScoreValue:1,numRelevantLevels:8},{columnId:"2_4",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:1,numRelevantLevels:5},{columnId:"2_4",studentId:"mm695110c2-b0f4-4c19-a4a2-38b89c3588f0",emaScoreValue:1,numRelevantLevels:8},{columnId:"2_7",studentId:"mmaa5b71fb-2384-4f4d-9644-d7a5ce010fae",emaScoreValue:0,numRelevantLevels:1},{columnId:"2_7",studentId:"mm6b6118c0-f9e7-466d-b9dc-37d539665918",emaScoreValue:.852572412,numRelevantLevels:9},{columnId:"2_7",studentId:"mmb66365d6-a7fa-4949-b56f-a0505e40edd6",emaScoreValue:1,numRelevantLevels:5}]}]),angular.module("services.accounts.abTests",[]).service("ABTests",["lodash",function(a){var b=this,c=[];b.addTest=function(a){c.push(a)},b.hasTest=function(b){return a.includes(c,b)}}]),angular.module("services.googleAnalyticsService",[]).service("googleAnalytics",["$window","$location",function(a,b){var c="false"!==b.search().ga;this.sendEvent=function(b,d){c&&a.ga("send","event",b,d)},this.sendPageview=function(b){c&&a.ga("send","pageview",{page:b})},this.setUserId=function(b){c&&a.ga("set","&uid",b)}}]),angular.module("services.constants",[]).factory("mmConstants",["$injector","lodash","authorization",function(a,b,c){function d(b){try{return a.get(b)}catch(c){return}}var e={},f=!1;return e.isInitialized=function(){return f},e.init=function(){var a=d("API")||d("accountsAPI");if(!f&&(c.isLoggedIn()||c.isLoggedInAdmin()))return e.promise=a.fetchConstants().then(function(a){f=!0,b.forEach(a,function(a){e[a.name]=a.value})}),e.promise},e}]),angular.module("services.dayAsIntService",[]).service("dayAsInt",function(){this.todayAsInt=function(){return this.dayAsInt()},this.yesterdayAsInt=function(){return this.dayAsInt(-1)},this.tomorrowAsInt=function(){return this.dayAsInt(1)},this.lastYearAsInt=function(){return this.dayAsInt(-365)},this.nextYearAsInt=function(){return this.dayAsInt(365)},this.dateToDayAsInt=function(a){return 1e4*a.getFullYear()+100*(a.getMonth()+1)+a.getDate()},this.dayAsInt=function(a){var b=new Date;return 1e4*b.getFullYear()+100*(b.getMonth()+1)+(b.getDate()+(a?a:0))},this.isToday=function(a){return!!a&&this.todayAsInt()===a},this.toDate=function(a){return moment(a,"YYYYMMDD").toDate()},this.inSameMonth=function(a,b){return a-b<31},this.isPast=function(a){return a<=this.todayAsInt()},this.daysBetween=function(a,b){return moment(b,"YYYYMMDD").diff(moment(a,"YYYYMMDD"),"days")}}),angular.module("services.messageBarSrvc",[]).service("messageBarSrvc",["TEACHER","mmConstants","lodash","configuration","$timeout","$routeParams","dayAsInt","teachersData","$q","roster",function(a,b,c,d,e,f,g,h,i,j){function k(){return!0}var l=this;l.init=function(){l.orderedViews=[{
name:"motionMathEndNotification",template:"/views/accounts/partials/motionMathEndNotification.html",showFunction:k}],l.refreshState()},l.getShownTemplate=function(){return c.find(l.orderedViews,{displayed:!0})},l.hideView=function(a,b){var d=c.find(l.orderedViews,{name:a});d&&e(function(){d.displayed=!1},b||0)},l.refreshState=function(){a.isSignupComplete()&&c.forEach(l.orderedViews,function(a){c.isFunction(a.showFunction)&&i.when(a.showFunction()).then(function(b){a.displayed=b})})},l.hideForEmptyRoster=function(){var a=j,d=c.map(h.teacherList,function(d){return c.includes(b.districtRoles,d.settings.role)?i.when():a.fetchRosters(d.id)});i.all(d).then(function(){var b=c.map(h.teacherList,function(b){var d=a.getAllRosters(b.id);return c.map(d,function(c,d){return a.getStudentData(b.id,d)})});return i.all(c.flatten(b))}).then(function(){var b=!0;for(var d in h.teacherList){var e=h.teacherList[d],f=a.getAllRosters(e.id),g=c.find(f,function(a){return a.students.length>0});if(g){b=!1;break}}b&&l.hideView("updateRosterBar")})}}]),angular.module("services.accounts.teachersData",[]).service("teachersData",["accountsAPI","lodash","$q","TEACHER",function(a,b,c,d){function e(a){h.teacherList=a,h.teacherMap=b.keyBy(a,"id"),i=!0}function f(){return g(d.getId(),d.getClientData()||{},d.getUser().emails[0])}function g(a,b,c){var d=b.settings||{},e=b.setup||{},f=b.institution||{};return{id:a,settings:d,firstName:d.mmFirstName,lastName:d.mmLastName,email:c,schoolId:f.schoolId,schoolName:f.schoolName,districtId:f.districtId,districtName:f.districtName,updatedRosters:e.updatedRosters}}var h=this,i=!1;h.teacherList=[],h.teacherMap={},h.init=function(b){return d.hasAtLeastUnverifiedRights()?i&&!b?c.when(h.teacherList):a.getTeacherList().then(e)["catch"](function(){e([f()])}):c.when(e([f()]))},h.getTeacher=function(a){var b=h.teacherMap[a];return b||a!==d.getId()?b:f()},h.createTeacher=function(b){return a.createTeacher(b).then(function(a){b.id=a;var c=g(b.id,b,b.email);return h.teacherList.push(c),h.teacherMap[a]=c,i=!1,b},function(a){return a})},h.updateTeacherSettings=function(b,c){b==d.getId()?d.updateSettings(c):(h.teacherMap[b].settings=c,a.updateSettings(b,c).then(function(){i=!1,h.init()}))},h.teacherTitle=function(a,b){var c=a;if("Classroom teacher"==a){var d=""+b,e=parseInt(b);1==e?d+="st grade":2==e?d+="nd grade":3==e?d+="rd grade":isNaN(e)||(d+="th grade"),c=d+" teacher"}return c}}]),angular.module("services.httpConfig",[]).service("httpConfig",["$http","ipCookie",function(a,b){var c="x-mpact-authorization";this.setBearerToken=function(b){a.defaults.headers.common.Authorization="Bearer "+b},this.setAdminHeader=function(b){a.defaults.headers.common[c]=b},this.getAuthHeader=function(){return a.defaults.headers.common.Authorization},this.deleteHeaders=function(){delete a.defaults.headers.common.Authorization,delete a.defaults.headers.common[c]}}]).service("errorLogger",["$q","$injector","configuration","$window","$location","lodash","urlService",function(a,b,c,d,e,f,g){var h=g.getApiServerUrl()+"/v2",i=f.startsWith(window.location.pathname,"/mpact"),j=i?c.mpact.errorHandling:c.errorHandling;j===!0&&(this.responseError=function(c){if(c.config&&c.config.url.indexOf("/errors/client")<0&&401!=c.status){var d=b.get("$http"),f={errorType:"API",statusCode:c.status,url:c.config.url,data:c.data};d.post(h+"/mm/errors/client",f)}else 401==c.status&&c.config.url.indexOf("/accessToken")<0&&c.config.url.indexOf("/login")<0&&c.config.url.indexOf("/v1/mm/teachers/validate/token")<0&&e.path("/logout");return a.reject(c)})}]).service("responseFormatter",[function(){this.response=function(a){return a.config.url.indexOf(".html")>=0?a:a.data}}]).config(["$httpProvider",function(a){a.interceptors.push("errorLogger"),a.interceptors.push("responseFormatter")}]),angular.module("service.zpcCategoryChartManager",[]).service("zpcCategoryChartManager",["lodash",function(a){function b(a,b){return d[b][a]}function c(a,b,c){var e=d[b][a+"Values"],f=c[d[b][a+"Attr"]];if(!f)return"";var g=e.indexOf(f);return g<0&&(e.push(f),g=e.indexOf(f)),f+" "+a+"Attr"+g}var d={"Fractions!":{lev1Attr:"levelDifficulty",lev1Values:[]},Zoom:{lev1Attr:"levelMode",lev1Values:[]},Wings:{lev1Attr:"levelMode",lev1Values:[]},"Hungry Fish":{lev1Attr:"levelMode",lev1Values:[],lev2Attr:"levelOperationType",lev2Values:[]},"Questimate!":{lev1Attr:"levelMode",lev1Values:[],lev2Attr:"levelOperationType",lev2Values:[]},Match:{lev1Attr:"levelOperationType",lev1Values:[],lev2Attr:"levelDifficulty",lev2Values:[]},"Cupcake!":{}};this.getClassNameLev1=function(a,b){return c("lev1",a,b)},this.getClassNameLev2=function(a,b){return c("lev2",a,b)},this.getLev1Values=function(a){return b("lev1Values",a)},this.getLev2Values=function(a){return b("lev2Values",a)},this.isLev1AttrDefined=function(b){return a.has(d,[b,"lev1Attr"])},this.isLev2AttrDefined=function(b){return a.has(d,[b,"lev2Attr"])},this.categories=d}]),angular.module("services.accounts.parentSubscription",[]).service("parentSubscription",["accountsAPI",function(a){this.createSubscription=function(b,c,d){var e={stripe:b,sub:c};return a.createSubscription(d,e)},this.updateCC=a.updateParentCC,this.cancelSubscription=a.cancelSubscription,this.getPlans=a.getPlans}]),angular.module("services.iReadyAPI",[]).service("iReadyAPI",["$http","configuration","authorization","$q","ipCookie","$window","iReadyData","urlService",function(a,b,c,d,e,f,g,h){const i=36e5;var j=this;const k="mmiready",l="iready",m=h.getApiServerUrl();var n,o=function(){j.removeAuthorization()},p=function(){n=f.setTimeout(o,i)},q=function(){f.clearTimeout(n),p()},r=function(){f.addEventListener("mousemove",q,!1),f.addEventListener("mousedown",q,!1),f.addEventListener("keypress",q,!1),f.addEventListener("DOMMouseScroll",q,!1),f.addEventListener("mousewheel",q,!1),f.addEventListener("touchmove",q,!1),f.addEventListener("MSPointerMove",q,!1),p()};this.removeAuthorization=function(){e.remove(k),f.sessionStorage.removeItem(l),c.logout()},this.handleTokenSuccess=function(a){return c.initialize({access_token:a.accessToken}),e(k,!0,{expires:2,expirationUnit:"hours"}),f.sessionStorage.setItem(l,JSON.stringify(a)),r(),a},this.handleTokenError=function(a){if(401==a.status&&f.sessionStorage.getItem(l)&&e(k)){const b=JSON.parse(f.sessionStorage.getItem(l));return c.initialize({access_token:b.accessToken}),r(),b}throw j.removeAuthorization(),a},this.setAccessToken=function(b){return a.get(m+"/v1/mm/teachers/validate/token/"+b).then(this.handleTokenSuccess,this.handleTokenError)},this.getRostersInfo=function(){return g.getRosterIds().then(function(b){return a.post(m+"/v1/mm/classes",b)})},this.getRoster=function(b){return g.hasRoster(b)?g.getRoster(b):a.get(m+"/v1/mm/rosters/"+b).then(function(a){return g.addStudentsToRoster(b,a),g.getRoster(b)})},this.setSchool=function(b){return a.post(m+"/v1/mm/school",{schoolId:b}).then(this.handleTokenSuccess,this.handleTokenError)}}]),angular.module("services.iReadyService",[]).service("iReadyService",["lodash","$q","$location","$window","TEACHER","iReadyData","iReadyAPI","mmConstants","authorization",function(a,b,c,d,e,f,g,h,i){const j=this;var k=!1;return j.initialize=function(a){f.setData(a),e.initialize(),k=!0},j.isInitialized=function(){return k},j.init=function(){if(j.isInitialized()){if(h.isInitialized()){const a=b.defer();return a.resolve({}),a.promise}return h.init()}return c.search().token||i.logoutIReady(),g.setAccessToken(c.search().token).then(function(a){return a}).then(function(a){if(j.initialize(a),h.isInitialized()){const c=b.defer();return c.resolve(a),c.promise}return h.init()})},j.setSchool=function(a){return k=!1,g.setSchool(a).then(function(a){d.location.reload()})},j}]),angular.module("services.iReadyData",[]).service("iReadyData",["lodash","$q",function(a,b){function c(){return a.includes(f,d.data.stateId)?"Other":"TX"==d.data.stateId?"TEKS":"CommonCore"}var d,e,f=["AL","AK","AZ","AR","CA","FL","GA","HI","ID","IL","IN","LA","MA","MN","MS","MO","NE","NJ","NY","NC","ND","OH","OK","PA","SC","TN","VA","WV","WI"];this.getData=function(){return d},this.setData=function(a){d=a},this.isEnabled=function(){return!a.isUndefined(d)},this.getServerDataVersion=function(){return this.isEnabled()?d.serverDataVersion:void 0},this.getRosters=function(){const c=b.defer(),e=[];return a.forEach(d.classes,function(a){var b={rosterId:a["class"].classId,schoolId:a.schoolId,name:a["class"].className,studentIds:a["class"].studentIds,classType:a["class"].type};e.push(b)}),c.resolve(e),c.promise},this.getRosterIds=function(){return this.getRosters().then(function(b){return a.map(b,"rosterId")})},this.hasRoster=function(b){return a.find(d.classes,function(a){return b===a["class"].classId}).students},this.addStudentsToRoster=function(b,c){var e={};a.forEach(c,function(b){"0"==b.gradeLevel&&(b.gradeLevel="K");var c=a.toLower(b.firstName+b.lastName);e[c]?(b.duplicate=!0,e[c].duplicate=!0):e[c]=b});const f=a.find(d.classes,function(a){return b===a["class"].classId});f.students=c},this.getRoster=function(c){const e=b.defer(),f=a.find(d.classes,function(a){return c===a["class"].classId});if(f){const g=a.get(a.orderBy(f.students,["firstName","lastName","studentId"]),"[0].gradeLevel","3"),h={rosterId:f["class"].classId,schoolId:f.schoolId,name:f["class"].className,students:f.students,studentIds:f["class"].studentIds,classType:f["class"].type,gradeLevel:g};return e.resolve(h),e.promise}return e.reject("roster unknown")},this.getCoTeacher=function(a){const c=b.defer();return c.resolve({}),c.promise},this.getMe=function(){const a=b.defer(),f={teacher:{id:d.data.id,firstName:d.data.firstName,lastName:d.data.lastName,emails:[],clientData:{hZSg0iMJiv3WifSIdnzOz8Fru4jJTJ:{settings:{firstName:d.data.firstName,lastName:d.data.lastName,gradeLevel:"3",games:e}}}},clientData:{settings:{firstName:d.data.firstName,lastName:d.data.lastName,standards:c(),games:e}},subscription:{}};return a.resolve(f),a.promise},this.getGames=function(){return e},this.getUserRole=function(){return this.isEnabled()?d.data.userRole:void 0},this.getOnboardId=function(){return this.isEnabled()?d.data.onboardId:void 0},this.getStateId=function(){return this.isEnabled()?d.data.stateId:void 0},this.getSchoolId=function(){return this.isEnabled()?d.data.schoolId:void 0},this.getSchools=function(){return this.isEnabled()?d.schools:void 0},this.getSchoolName=function(){var b=this.getSchoolId();return b?a.find(this.getSchools(),function(a){return b===a.schoolId}).schoolName:void 0},this.getPrimarySchoolMathClasses=function(){if(this.isEnabled()){var b=[];return a.forEach(d.classes,function(a){b.push(a["class"].classId)}),b}}}]),angular.module("services.urlService",[]).service("urlService",["$location","configuration",function(a,b){var c,d;this.getDomainName=function(){if(!c){var b=a.host().split(".");c=(b.length>=3?b[b.length-2]+".":"")+b[b.length-1]}return c},this.getConfigDomain=function(){if(!d){var b=a.host().split(".");d=b[b.length>=3?b.length-2:b.length-1]}return d},this.getApiServerUrl=function(){var a=b.apiServerUrl;return a[this.getConfigDomain()]},this.getPlayServerUrl=function(){var a=b.playServerUrl;return a[this.getConfigDomain()]}}]),angular.module("templates-accounts",["/views/accounts/ab.html","/views/accounts/access.html","/views/accounts/accountCreate.html","/views/accounts/adminCreatedAccountAccept.html","/views/accounts/adminView.html","/views/accounts/callback.html","/views/accounts/dashboardTab.html","/views/accounts/devicelogin.html","/views/accounts/deviceNonParent.html","/views/accounts/factorsOfLearningTab.html","/views/accounts/folTeacherSurvey.html","/views/accounts/games.html","/views/accounts/getQuote.html","/views/accounts/index.html","/views/accounts/iready/dashboardTab.html","/views/accounts/iready/factorsOfLearningTab.html","/views/accounts/iready/index.html","/views/accounts/iready/iReadyClassType.html","/views/accounts/iready/playtimeTab.html","/views/accounts/landing.html","/views/accounts/loginKillBanner.html","/views/accounts/loginPromoBanner.html","/views/accounts/loginWarningBanner.html","/views/accounts/mobileLanding.html","/views/accounts/noIPads.html","/views/accounts/parentPayment.html","/views/accounts/parentPaymentDetails.html","/views/accounts/parentProgressTab.html","/views/accounts/parentRoster.html","/views/accounts/parentSetup.html","/views/accounts/parentValidate.html","/views/accounts/partials/accountsHeader.html","/views/accounts/partials/chat.html","/views/accounts/partials/confirmAllTeachers.html","/views/accounts/partials/csvUpload.html","/views/accounts/partials/dashboard.html","/views/accounts/partials/dashboardBody.html","/views/accounts/partials/displayStudent.html","/views/accounts/partials/factorOfLearningBody.html","/views/accounts/partials/for-roster.html","/views/accounts/partials/getQuote.html","/views/accounts/partials/institution-search.html","/views/accounts/partials/ireadyBottomLeft.html","/views/accounts/partials/ireadyBottomMiddle.html","/views/accounts/partials/ireadyRight.html","/views/accounts/partials/ireadyTopLeft.html","/views/accounts/partials/ireadyTopMiddle.html","/views/accounts/partials/loadingAnimation.html","/views/accounts/partials/modals.html","/views/accounts/partials/motionMathEndNotification.html","/views/accounts/partials/nps.html","/views/accounts/partials/number-select.html","/views/accounts/partials/parentRoster.html","/views/accounts/partials/parentSubNotification.html","/views/accounts/partials/playtime.html","/views/accounts/partials/playtimeAverageForRoster.html","/views/accounts/partials/playtimeBody.html","/views/accounts/partials/roster.html","/views/accounts/partials/rosterPopover.html","/views/accounts/partials/school-dropdown.html","/views/accounts/partials/studentData.html","/views/accounts/partials/trialNotification.html","/views/accounts/partials/updateRosterBar.html","/views/accounts/partials/user-settings-menu.html","/views/accounts/partials/yourAccount.html","/views/accounts/pay.html","/views/accounts/playtimeTab.html","/views/accounts/printRoster.html","/views/accounts/resetPassword.html","/views/accounts/rosterTab.html","/views/accounts/settings.html","/views/accounts/setup.html","/views/accounts/signin.html","/views/accounts/signup.html","/views/accounts/studentData.html","/views/accounts/subscription.html","/views/accounts/unsupportedCountry.html","/views/accounts/updateRosters.html","/views/accounts/validateEmail.html","/views/accounts/visualPassword.html"]),angular.module("/views/accounts/ab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/ab.html",'<!-- Status --><div ng-include="statusTemplate.url"></div><div class="container pageWidth"><div ng-include="\'/views/accounts/partials/accountsHeader.html\'"></div><div ng-include="template.url" class="logoOffset margin-top-20"></div></div>')}]),angular.module("/views/accounts/access.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/access.html",'<div class="accessPage col-md-10 col-md-offset-2" ng-controller="AccessManagementCtrl" ng-class="{isLoading: loading}"><loading-animation is-loading="loading" no-container="true"></loading-animation><div>You have a {{subscription.plan}} Level subscription for {{subscription.rosterLimit}} students.</div><div>You currently have {{subscription.currentRosterSize || 0}} students on the subscription and have room for {{subscription.rosterLimit - (subscription.currentRosterSize || 0)}} more.</div><div>Give {{subscription.plan}} Level access to:</div><div class="row margin-top-20"><div class="col-md-4"><ul class="noBullets"><li><input type="checkbox" ng-model="allRoles" ng-change="checkAllRoles(allRoles)"> All educators<li ng-repeat="role in roles" ng-class="\'role-\' + role.name"><input type="checkbox" ng-model="selectedRoles[role.name]"> {{role.label}}</ul></div><div class="col-md-1 padding-top-40">at</div><div class="col-md-7"><ul class="noBullets"><li ng-if="district"><input type="checkbox" ng-model="allSchools" ng-change="checkAllSchools(allSchools)"> {{district.districtName}}<li ng-repeat="school in schools" ng-class="\'school-\' + school.schoolId"><input type="checkbox" ng-model="selectedSchools[school.schoolId]"> {{school.schoolName}}</ul></div></div><div class="row margin-top-20"><div class="col-md-2 col-md-offset-10"><button class="pill-button teal auto" ng-disabled="!canSave()" ng-click="saveRule()">Save</button></div></div><div class="row" ng-if="subscription.selectors && subscription.selectors.rules && subscription.selectors.rules.length">Current rules:<br><table><tr ng-repeat="rule in subscription.selectors.rules"><td>{{getRuleString(rule)}}<td class="padding-left-20"><i ng-click="removeRule(rule)" class="glyphicon glyphicon-remove pointer"></i></table></div><div class="row margin-top-20">You can also give access to specific educators by checking boxes below. (To remove access please <a href="mailTo:support@motionmathgames.com">email us</a>.)<ul class="noBullets overflow-300"><li ng-repeat="teacher in teacherList  | orderBy:[\'schoolName\', \'firstName\', \'lastName\']" ng-init="teacher.hasSubscription=(teacher.subscritionPlan!=\'trial\')"><input type="checkbox" ng-model="teacher.hasSubscription" ng-change="addTeacher(teacher)" ng-if="!teacher.hasSubscription"> <i ng-if="teacher.hasSubscription" class="glyphicon glyphicon-ok"></i> {{teacher.firstName}} {{teacher.lastName}} <span ng-if="teacher.schoolName">- {{teacher.schoolName}} </span><i>({{teacher.numStudents}} students <span ng-if="teacher.hasSubscription && teacher.subscription != subscription.id">- under a different subscription</span>)</i></ul></div></div>')}]),angular.module("/views/accounts/accountCreate.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/accountCreate.html",'<div ng-controller="AccountCreateCtrl" ng-init="init()"><loading-animation is-loading="loading" no-container="true"></loading-animation><div ng-class="{\'deviceHeader\' : deviceSignup }"></div><div ng-if="success" class="row label-text-md text-center"><div class="margin-top-20 row text-center hidden-sm hidden-md hidden-lg"><img alt="Motion Math Games" class="MMLogoLarge" ng-src="images/MM/Logo.png"></div><div class="col-md-8 col-md-offset-2 col-xs-10 col-xs-offset-1 margin-top-50">Okay! We\'ve just sent a validation email to <span class="regularFont">{{credentials.email}}</span><br><br>Please check your email and click on the link to start playing delightful math.<br>If you didn\'t receive the email, please check the junk or spam folder in your email or email us at <a href="mailTo:support@motionmathgames.com">support@motionmathgames.com</a></div></div><div ng-if="!success" class="credentials-page"><div class="row signup-title" ng-if="!hideHeader && !deviceSignup"><div class="col-md-offset-1 col-md-10 col-xs-offset-0 col-xs-12 text-center">Try Motion Math for free!</div></div><div class="row margin-top-20"><div class="text-center"><button class="googleSignupButton" ng-click="googleSignin()"></button></div></div><div class="row margin-top-20"><div class="text-center label-text-md">- or -</div></div><div class="row margin-top-20" ng-class="{isLoading: loading}"><form name="signupForm" class="form-horizontal credentialsForm" novalidate><div class="signup-instructions text-center padding-bottom-10 text-danger" ng-if="error">{{error}}</div><div class="form-group"><label class="control-label col-sm-4" for="email">Email: <span class="requiredLabel" ng-if="showErrors && signupForm.email.$invalid">{{emailErrorText()}}</span></label><div class="col-sm-8"><input required type="email" id="email" class="credentialsField" ng-model="credentials.email" ng-pattern="emailRegex" name="email" autocorrect="off" autocapitalize="off"></div></div><div class="form-group"><label class="control-label col-sm-4" for="password">Password (6 or more characters): <span class="requiredLabel" ng-if="showErrors && signupForm.password.$invalid">required</span></label><div class="col-sm-8"><input required type="password" id="password" class="credentialsField" ng-minlength="6" ng-model="credentials.password" name="password"></div></div><div class="form-group"><label class="control-label col-sm-4" for="passwordRepeat">Repeat Password: <span class="requiredLabel" ng-if="showErrors && signupForm.passwordConfirm.$invalid && !(signupForm.passwordConfirm.$viewValue.length > 4 && signupForm.passwordConfirm.$error.match)">required</span> <span class="requiredLabel" ng-show="showErrors && signupForm.passwordConfirm.$viewValue.length > 4 && signupForm.passwordConfirm.$error.match">passwords don\'t match</span></label><div class="col-sm-8"><input required type="password" id="passwordRepeat" class="credentialsField" ng-minlength="6" match="credentials.password" ng-model="credentials.passwordConfirm" name="passwordConfirm"></div></div><div class="form-gorup col-sm-10 col-sm-offset-1 text-center"><button class="pill-button teal auto next-button-text" ng-click="signup(signupForm.$valid)" ng-disabled="loading" type="button">Sign up!</button></div></form></div><div class="row text-center signup-options margin-top-20" ng-if="!deviceSignup">Already a user? <a href="/#/signin">Login</a></div><div class="row margin-top-5" ng-if="!deviceSignup"><div class="col-sm-12 col-sm-offset-0 col-xs-10 col-xs-offset-1 signup-simple-text text-center">By signing in you agree to our <a ng-href="{{ wwwServerUrl }}/terms-of-service/" target="_blank">terms of service</a> and <a ng-href="{{ wwwServerUrl }}/privacy/" target="_blank">privacy policy</a>.</div></div></div></div>')}]),angular.module("/views/accounts/adminCreatedAccountAccept.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/adminCreatedAccountAccept.html",'<div ng-controller="AdminCreatedAccountAcceptCtrl"><div class="row signup-instructions text-center padding-bottom-20"><div class="col-md-8 col-md-offset-2"><span ng-if="!error">Validating... </span><span ng-if="error">There was a problem validating your link.<br>Please contact support@motionmathgames.com.</span></div></div></div>')}]),angular.module("/views/accounts/adminView.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/adminView.html",'<div class="adminViewPage col-sm-12" ng-controller="AdminViewController"><div><div class="row addSchool" ng-if="teachersBySchool && isDistrictLevel()"><div ng-if="schoolCount > 0" class="title">{{districtName}}: {{schoolCount}}<ng-pluralize count="schoolCount" when="{\'1\': \' School\',\'other\':\' Schools\'}"></ng-pluralize></div><div ng-if="schoolCount == 0" class="title">Set up schools and teacher accounts</div><button ng-if="selectedTab == \'roster\'" ng-click="addSchool()" class="pill-button small blue add">+ School</button></div><div class="row schoolView" ng-repeat="schoolTeachers in teachersBySchoolArray | orderBy : districtFirst"><div class="schoolInfo row" ng-if="!schoolTeachers.isDistrictSchool"><button ng-if="selectedTab == \'roster\'" class="pill-button teal" mm-popover template="schoolDetails.html" side-popover="true" css-class="schoolDetails">...</button><div class="title">{{schoolTeachers.schoolName}}</div><button ng-if="selectedTab == \'roster\'" ng-click="addTeacher(schoolTeachers.schoolName)" class="pill-button small blue add">+ Teacher</button></div><div class="teacherView row" ng-repeat-start="teacher in schoolTeachers.teachers | schoolUsersSort" ng-click="toggleContent(teacher)"><div class="col-sm-4"><i class="collapseArrow glyphicon" ng-class="{\'glyphicon-triangle-right\': !teacher.showContent, \'glyphicon-triangle-bottom\': teacher.showContent}"></i> <span class="teacher-name">{{teacher.firstName}} {{teacher.lastName}}</span></div><div class="col-sm-4 teacherViewRole"><div class="row"><span class="teacherTitle margin-left-30">{{teacherTitle(teacher)}}</span></div><div class="row"><span class="student-count margin-left-30">Students: {{teacher.numStudents}}</span></div></div><div class="col-sm-4 align-right" ng-if="selectedTab == \'playtime\'"><playtime-average-for-roster playtime="teacher.lastFourWeeksAverageStudentTimePlayed / 60"></div></div><div class="teacherContent row" ng-class="{\'expanded\': teacher.showContent}" ng-repeat-end><div ng-if="teacher.showContent"><div class="rosterTab" ng-if="selectedTab == \'roster\'"><roster teacher-id="{{teacher.id}}"></roster></div><div class="progressTab" ng-if="selectedTab == \'progress\'"><for-rosters teacher-id="teacher.id" template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-bottom-left="/views/accounts/partials/ireadyBottomLeft.html" template-body="/views/accounts/partials/dashboardBody.html" template-top-middle="/views/accounts/partials/ireadyTopMiddle.html" template-bottom-middle="/views/accounts/partials/ireadyBottomMiddle.html" expend="false"></for-rosters></div><div class="playtimeTab" ng-if="selectedTab == \'playtime\'"><for-rosters teacher-id="teacher.id" template-body="/views/accounts/partials/playtimeBody.html" template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-bottom-left="/views/accounts/partials/ireadyBottomLeft.html" template-top-middle="/views/accounts/partials/ireadyTopMiddle.html" template-bottom-middle="/views/accounts/partials/ireadyBottomMiddle.html" template-right="/views/accounts/partials/ireadyRight.html" expend="false"></for-rosters></div><div class="factorsTab" ng-if="selectedTab == \'factors\'"><for-rosters template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-bottom-left="/views/accounts/partials/ireadyBottomLeft.html" template-body="/views/accounts/partials/factorOfLearningBody.html" template-top-middle="/views/accounts/partials/ireadyTopMiddle.html" template-bottom-middle="/views/accounts/partials/ireadyBottomMiddle.html" expend="false"></for-rosters></div></div></div><div class="teacherView row" ng-if="canSeeDeactivated && selectedTab == \'roster\' && inactiveStudentsBySchool[schoolName] && inactiveStudentsBySchool[schoolName].students.length" ng-click="inactiveStudentsBySchool[schoolName].showContent = !inactiveStudentsBySchool[schoolName].showContent"><div class="col-sm-6" style="padding-right: 0px"><i class="collapseArrow glyphicon" ng-class="{\'glyphicon-triangle-right\': !inactiveStudentsBySchool[schoolName].showContent, \'glyphicon-triangle-bottom\': inactiveStudentsBySchool[schoolName].showContent}"></i> Deactivated Students <span class="font-14">(students no longer using Motion Math)</span></div><div class="col-sm-3 text-center">{{inactiveStudentsBySchool[schoolName].students.length}}<ng-pluralize count="inactiveStudentsBySchool[schoolName].students.length" when="{\'1\': \' student\',\'other\':\' students\'}"></ng-pluralize></div></div><div class="teacherContent row" ng-if="canSeeDeactivated && selectedTab == \'roster\' && inactiveStudentsBySchool[schoolName] && inactiveStudentsBySchool[schoolName].students.length" ng-class="{\'expanded\': inactiveStudentsBySchool[schoolName].showContent}"><div class="col-sm-6" ng-repeat="student in inactiveStudentsBySchool[schoolName].students | orderBy:[\'firstName\', \'lastName\']"><div class="studentListItem" ng-class="{ \'leftCol\': $index % 2 == 0 }"><div class="studentName">{{student.firstName}} {{student.lastName}}</div></div></div></div></div></div><script type="text/ng-template" id="addSchool.html"><div class="modal-header">\n            <span class="modal-title">What school are you adding?</span>\n            <button class="glyphicon glyphicon-remove" ng-click="close()"></button>\n        </div>\n        <div class="modal-content-mm">\n            <div class="padding-top-40 row">\n                <div class="col-sm-3 align-right margin-top-10">\n                    School Name:\n                </div>\n                <div class="col-sm-9">\n                    <div institution-search type="\'school\'" id="institution" required="true" name="institution" ng-model="school" user="user" ng-change="selectInstitution" class="searchBarWithDropdown"></div>\n                </div>\n            </div>\n            <div class="row padding-top-20 font-18 text-center fontOrange" ng-if="districtError">\n                <div class="col-sm-8 col-sm-offset-2">\n                    Sorry, that school is not in your district. Please try again and make sure to select the right school and city name.\n                </div>\n            </div>\n            <div class="padding-top-40 row text-center">\n                <button class="pill-button teal autoHeight" ng-click="next()" ng-disabled="!school.schoolId || school.schoolId.length == 0 || districtError">Next\n                </button>\n            </div>\n        </div></script><script type="text/ng-template" id="addTeacher.html"><div class="modal-header" ng-switch on="STATE">\n            <span class="modal-title" ng-switch-when="OPTIONS">Let\'s add some teachers!</span>\n            <span class="modal-title" ng-switch-when="TEACHER">Enter teacher information</span>\n            <span class="modal-title" ng-switch-when="COTEACHER">Enter co-teacher\'s information</span>\n            <span class="modal-title" ng-switch-when="ROSTER">Add students for {{teacher.settings.mmFirstName}} {{teacher.settings.mmLastName}}\'s roster (optional)</span>\n            <button class="glyphicon glyphicon-remove" ng-click="confirmedClose()"></button>\n        </div>\n        <div ng-switch on="STATE">\n            <div class="entryChoices text-center" ng-switch-when="OPTIONS">\n                <div class="italic-text">How would you like to add their account information?</div>\n                <table class="margin-top-50 margin-bottom-20">\n                    <tr>\n                        <td class="left italic-text">Our support team will create all the teacher accounts from your CSV and will have everything ready for you in 72 hours.\n                        </td>\n                        <td class="italic-text">Enter the information yourself to instantly create accounts for teachers. You can copy and paste entire rosters from spreadsheets.\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="left">\n                            <img alt src="images/ImgRosterUpload.png">\n                        </td>\n                        <td>\n                            <img alt src="images/ImgRosterManual.png">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="left">\n                            <button class="pill-button teal autoHeight" ng-click="uploadCsv()">Upload a CSV</button>\n                        </td>\n                        <td>\n                            <button class="pill-button teal autoHeight" ng-click="manualEntry()">Manually Enter</button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <form name="newTeacherForm" class="modal-content-mm" ng-switch-when="TEACHER">\n                <div class="row alert alert-danger text-center" ng-if="errorMessage" ng-bind-html="errorMessage"></div>\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                        First Name\n                    </div>\n                    <div class="col-sm-9">\n                        <input type="text" required ng-model="teacher.settings.mmFirstName" autofocus>\n                    </div>\n                </div>\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                        Last Name\n                    </div>\n                    <div class="col-sm-9">\n                        <input type="text" required ng-model="teacher.settings.mmLastName">\n                    </div>\n                </div>\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                        Email\n                    </div>\n                    <div class="col-sm-9">\n                        <input type="email" required ng-model="teacher.email" ng-pattern="emailRegex">\n                    </div>\n                </div>\n\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                        Role\n                    </div>\n                    <div class="col-sm-9">\n                        <mm-dropdown class="mm-dropdown teacherInfoPage" ng-change="updateInstitution()" data="allRoles" ng-model="teacher.settings.role"></mm-dropdown>\n                    </div>\n                </div>\n                <div class="padding-top-20 row" ng-if="teacher.settings.role == \'Classroom teacher\' || teacher.settings.role == \'Special ed teacher\' || teacher.settings.role == \'Tutor\'">\n                    <div class="col-sm-3 align-right">\n                        Grade\n                    </div>\n                    <div class="col-sm-9">\n                        <mm-dropdown class="mm-dropdown teacherInfoPage" data="gradeLevels" ng-model="teacher.settings.gradeLevel"></mm-dropdown>\n                    </div>\n                </div>\n                <div class="padding-top-20 row" ng-if="teacher.settings.role==\'Classroom teacher\' || teacher.settings.role==\'Special ed teacher\'">\n                    <div class="col-sm-3 align-right">\n                    </div>\n                    <div class="col-sm-9">\n                        <table>\n                            <tr>\n                                <td>\n                                    <div class="checkbox small" ng-click="toggleCoTeacher()">\n                                        <i ng-if="hasCoTeacher" class="glyphicon glyphicon-ok"></i>\n                                    </div>\n                                </td>\n                                <td class="font-14 padding-left-10">\n                                    There are multiple teachers for this classroom\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n                <div class="padding-top-20 row text-center">\n                    <button class="pill-button teal autoHeight auto" ng-click="next()" ng-disabled="!newTeacherForm.$valid">Next\n                    </button>\n                </div>\n            </form>\n            <form name="coTeacherForm" class="modal-content-mm" ng-switch-when="COTEACHER">\n                <div class="row alert alert-danger text-center" ng-if="errorMessage">{{errorMessage}}</div>\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                        First Name\n                    </div>\n                    <div class="col-sm-9">\n                        <input type="text" required ng-model="coTeacher.firstName" autofocus>\n                    </div>\n                </div>\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                        Last Name\n                    </div>\n                    <div class="col-sm-9">\n                        <input type="text" required ng-model="coTeacher.lastName">\n                    </div>\n                </div>\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                        Email\n                    </div>\n                    <div class="col-sm-9">\n                        <input type="email" required ng-model="coTeacher.email" ng-pattern="emailRegex">\n                    </div>\n                </div>\n\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                        Role\n                    </div>\n                    <div class="col-sm-9">\n                        <mm-dropdown class="teacherInfoPage mm-dropdown" ng-change="updateInstitution()" data="allRoles" ng-model="teacher.settings.role"></mm-dropdown>\n                    </div>\n                </div>\n\n                <div class="padding-top-20 row" ng-if="teacher.settings.role == \'Classroom teacher\' || teacher.settings.role == \'Special ed teacher\' || teacher.settings.role == \'Tutor\'">\n                    <div class="col-sm-3 align-right">\n                        Grade\n                    </div>\n                    <div class="col-sm-9">\n                        <mm-dropdown class="teacherInfoPage mm-dropdown" data="gradeLevels" ng-model="teacher.settings.gradeLevel"></mm-dropdown>\n                    </div>\n                </div>\n                <div class="padding-top-20 row">\n                    <div class="col-sm-3 align-right">\n                    </div>\n                    <div class="col-sm-9">\n                        <table>\n                            <tr>\n                                <td>\n                                    <div class="checkbox small slightlyOpaque">\n                                        <i ng-if="hasCoTeacher" class="glyphicon glyphicon-ok"></i>\n                                    </div>\n                                </td>\n                                <td class="font-14 padding-left-10">\n                                    There are multiple teachers for this classroom\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n                <div class="padding-top-20 row text-center">\n                    <button class="pill-button teal autoHeight auto" ng-click="saveCoTeacher()" ng-disabled="!coTeacherForm.$valid">Next\n                    </button>\n                </div>\n            </form>\n            <div class="addRoster" ng-switch-when="ROSTER">\n                <roster teacher-id="{{teacher.id}}" control="rosterControl"></roster>\n                <div class="buttons">\n                    <button class="pill-button blue autoHeight" ng-click="saveAndAddNew()">+ Another Account</button>\n                    <button class="pill-button teal autoHeight" ng-click="saveAndClose()">Done Making Accounts</button>\n                </div>\n            </div>\n        </div></script><script type="text/ng-template" id="schoolDetails.html"><button class="pill-button small teal margin-bottom-10" ng-click="updateRosters(teachers)">Update Rosters\n        </button>\n        <button class="pill-button small orange" ng-click="deactivateTeachers()">Deactivate Teachers</button></script><script type="text/ng-template" id="emailSupport.html"><div class="modal-content-mm text-center">\n            <div class="modal-title margin-bottom-20">Please email <a href="mailto:support@motionmathgames.com">support@motionmathgames.com</a> for help removing teachers from your subscription.\n            </div>\n            <div>\n                <button class="pill-button teal autoHeight auto" ng-click="close()">Close</button>\n            </div>\n        </div></script></div>');
}]),angular.module("/views/accounts/callback.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/callback.html",'<div ng-show="!isDevice" class="container pageWidth"><div ng-include="\'/views/accounts/partials/accountsHeader.html\'"></div><!--[if lt IE 11 ]>\n    <div class="row logoOffset">\n        <div class="col-md-6 col-md-offset-3 alert alert-danger text-center">\n            You need at least Internet Explorer 11 to use this site\n        </div>\n    </div>\n    <![endif]--><div class="row logoOffset text-center padding-top-80"><div ng-if="!error" class="signup-title">Logging you in ...</div><div ng-if="error" ng-switch on="errorCode" class="signup-title col-md-10 col-md-offset-1"><span ng-switch-when="401">We were unable to log you in.</span> <span ng-switch-when="423">This site is for teachers, not students. To use the Motion Math, please log in on an iPad.</span> <span ng-switch-when="500">We encountered a server error when trying to log you in.</span> <span ng-switch-default>We encountered an error when trying to log you in.</span><div class="margin-top-10"><button class="pill-button teal auto" ng-click="goToLogin()">Try to login again</button></div></div></div></div><div ng-show="isDevice" class="deviceLoginBackground disable-text-selection"></div>')}]),angular.module("/views/accounts/dashboardTab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/dashboardTab.html",'<div ng-controller="AccountTeacherDashboardCtrl"><for-rosters teacher-id="teacherId" template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-top-middle="/views/accounts/partials/ireadyTopMiddle.html" template-body="/views/accounts/partials/dashboardBody.html" template-bottom-middle="/views/accounts/partials/ireadyBottomMiddle.html"></for-rosters></div>')}]),angular.module("/views/accounts/devicelogin.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/devicelogin.html",'<div class="deviceWindow disable-text-selection" id="deviceLogin"><div class="header" ng-if="state!=\'NEEDS_UPDATE\' && !isShowingMessageBanner">Welcome to Motion Math!</div><div class="header" ng-if="state==\'NEEDS_UPDATE\' && !isShowingMessageBanner">Hello Motion Math user!</div><div class="header" ng-if="isShowingMessageBanner">{{title}}</div><div class="content" ng-switch="state"><div ng-show="!automatedLogin"><div class="prompt" ng-class="{static: state==\'TRIAL_NOT_STARTED\' || state==\'EXPIRED\' || state==\'EXPIRED_PARENT\' || state==\'NEEDS_UPDATE\'}"><div ng-switch-when="PROMPT"><div ng-include="bannerView" ng-if="isShowingMessageBanner"></div><div class="accessCode" ng-class="{ banner: isShowingMessageBanner }" ng-show="!isHidingAccessCode"><span ng-if="shouldShowAccountCode">Please enter your access code </span><span ng-if="!shouldShowAccountCode">Please sign in with your account</span></div></div><div ng-switch-when="EXPIRED"><div class="fontOrange font-24 margin-top-100">Your Motion Math pilot has expired.</div><div class="margin-top-30 font-24 bold">Purchase a subscription</div><div class="font-18 italic-text">See the "Subscribe" tab at motionmathgames.com</div><div class="margin-top-20 font-24 bold">Get anytime access on one device</div><div class="font-18 italic-text">Just update to the latest version of the Motion Math Educator</div><div class="margin-top-20"><button class="pill-button auto blue" ng-click="startOver()">Return to login screen</button></div></div><div ng-switch-when="EXPIRED_PARENT"><div ng-switch="subState"><div ng-switch-when="IOS_SUBSCRIPTION"><div class="fontOrange font-24 margin-top-100">Looks like your subscription has expired.</div><div class="font-18 italic-text">Please contact <a href="mailTo:support@motionmathgames.com?subject=About my canceled subscription">support@motionmathgames.com</a> for help.</div></div><div ng-switch-default><div class="fontOrange font-24 margin-top-100">Your Motion Math subscription has<br>been cancelled.</div><div class="margin-top-20 font-24 bold">We\'re sorry to see you go!</div><div class="margin-top-20 font-18 italic-text">Our team is working hard on new delightful and challenging games for our subscribers. Please contact <a href="mailTo:support@motionmathgames.com?subject=About my canceled subscription">support@motionmathgames.com</a> to renew your subscription.</div></div></div><div class="margin-top-20"><button class="pill-button auto blue" ng-click="startOver()">Return to login screen</button></div></div><div ng-switch-when="TRIAL_NOT_STARTED"><div class="font-24 margin-top-150 italic-text">The account code you entered is for a Motion Math pilot that hasn\'t started yet.</div><div class="margin-top-10"><button class="pill-button brightBlue auto" ng-click="activateTrial()">Start my pilot now!</button></div></div><div ng-switch-when="NEEDS_UPDATE"><div class="font-18 margin-top-150" style="width:510px">The bad news: this older version of this app is no longer supported.<br>The good news: it\'s free and easy to get the latest version.<br><br>Go to the <a class="fontOrange" href="itms-apps://itunes.apple.com/us/app/motion-math/id1300888687?mt=8">App Store &rarr; Updates </a>and then touch the Update button. The new version has extra levels too – it\'s worth it!</div></div><div ng-switch-when="NEEDS_UPDATE_GOOGLE"><div class="font-18 margin-top-150" style="width:510px">The bad news: this app version no longer supports google login.<br>The good news: it\'s free and easy to get the latest version.<br><br>Go to the <a class="fontOrange" href="itms-apps://itunes.apple.com/us/app/motion-math/id1300888687?mt=8">App Store &rarr; Updates </a>and then touch the Update button. The new version has extra levels too – it\'s worth it!<br><br><span ng-if="shouldShowAccountCode">Or enter your access code to log in.<br></span><button class="pill-button auto blue" ng-click="startOver()">Return to login screen</button></div></div><loading-animation is-loading="state===\'LOADING\' || state===\'FORWARDING\'"></loading-animation></div><div class="row loginCode" ng-switch-when="PROMPT" ng-show="shouldShowAccountCode && !isHidingAccessCode"><div class="col-xs-7 text-right"><input type="text" ng-keydown="typedInCode($event)" ng-model="data.code" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></div><div class="col-xs-5"><button class="pill-button autoHeight brightBlue" ng-click="validateCode()">Go!</button></div></div><div class="row"><div ng-if="errorMsg" class="errorMessage col-sm-offset-1 col-sm-10 col-xs-offset-1 col-xs-10">{{errorMsg}}</div></div><div ng-if="parentSignupSupported && state===\'PROMPT\'"><div class="signup-prompt">Don\'t have an account? <a href="javascript:void(0);" ng-click="signup()">Sign up</a></div></div><div class="loginButtons" ng-switch-when="PROMPT" ng-class="{middle: !shouldShowAccountCode}"><button class="pill-button circle big orange" ng-click="emailSignin()" ng-if="!shouldShowAccountCode"><img src="images/login/mm-logo.png"></button></div></div></div></div>')}]),angular.module("/views/accounts/deviceNonParent.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/deviceNonParent.html",'<div id="deviceNonParent" class="parent-page-text" ng-controller="DeviceNonParentCtrl"><div class="deviceHeader"></div><div class="row padding-bottom-15"><div class="text-center"><span>Thank you. Please check your email for information about our free school pilots.</span></div></div><div class="row padding-top-16 text-center"><button class="pill-button teal narrow next-button-text" ng-click="goNext()" type="button">Done</button></div></div>')}]),angular.module("/views/accounts/factorsOfLearningTab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/factorsOfLearningTab.html",'<div><for-rosters template-body="/views/accounts/partials/factorOfLearningBody.html" template-top-middle="/views/accounts/partials/ireadyTopMiddle.html" template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-bottom-middle="/views/accounts/partials/ireadyBottomMiddle.html"></for-rosters></div>')}]),angular.module("/views/accounts/folTeacherSurvey.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/folTeacherSurvey.html",'<div class="folTeacherSurvey col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 col-xs-12 text-center"><div class="header row"><div class="logo"><img alt src="images/Motion-Math-Logo_whiteBG_125x120.png"></div><div class="text"><span ng-if="STATE == \'SURVEY\'">Your thoughts on {{studentData.name}}</span> <span ng-if="STATE == \'THANKS\'">Thank You!</span></div></div><div ng-if="STATE == \'THANKS\'" class="description row"><div class="col-xs-10 col-xs-offset-1 col-md-12 col-md-offset-0">Your insights will help us create a better product for you and your class next year.<div ng-hide="done">If you have more time, we would love more of your help with reviewing another student from this year.</div><br><br><div class="italic-text">If you\'d like to learn more about the mindset and motivation tools Motion Math is developing, please email us at <a href="mailto:vip@motionmathgames.com">vip@motionmathgames.com</a>.</div><div class="wrapper" ng-if="!done"><button class="pill-button teal auto" ng-click="nextStudent()">Review Another Student</button></div></div></div><div ng-if="STATE == \'SURVEY\'" class="questions row"><table class="info margin-bottom-20"><tr><th>{{studentData.name}}\'s Gender:<td>Prefer not to state&nbsp;&nbsp; <input type="radio" ng-model="studentData.survey[\'gender\']" value="?"><td>Male&nbsp;&nbsp; <input type="radio" ng-model="studentData.survey[\'gender\']" value="m"><td>Female&nbsp;&nbsp; <input type="radio" ng-model="studentData.survey[\'gender\']" value="f"><tr><th colspan="2">Is {{studentData.name}} an English Language Learner?<td>Yes&nbsp;&nbsp; <input type="radio" ng-model="studentData.survey[\'ell\']" value="yes"><td>No&nbsp;&nbsp; <input type="radio" ng-model="studentData.survey[\'ell\']" value="no"></table><div class="paddingBottom40" ng-repeat="(factor, question) in questions"><div class="question row">{{question.replace("%s", studentData.name)}}</div><div class="row"><div class="options col-xs-2 col-xs-offset-6">Not at all</div><div class="options col-xs-2">A little</div><div class="options col-xs-2">A lot</div></div><div class="row bordered types" ng-repeat="mode in modes" ng-class="{ \'top\' : $index%2 == 0 }"><div class="type col-xs-6 col-sm-5">{{mode.text}}</div><div class="col-xs-2 col-sm-offset-1"><input type="radio" ng-model="studentData.survey[mode.name+factor]" value="1"></div><div class="col-xs-2"><input type="radio" ng-model="studentData.survey[mode.name+factor]" value="2"></div><div class="col-xs-2"><input type="radio" ng-model="studentData.survey[mode.name+factor]" value="3"></div></div></div><div class="padding-bottom-20"><div class="row"><div class="question col-xs-6">Additional insights?</div><div class="col-xs-6 align-right italic-text">(optional)</div></div><textarea class="bordered" ng-model="studentData.survey[\'comments\']"></textarea></div><div class="text-center padding-bottom-20"><button class="pill-button teal" ng-click="save();finish()">Submit & finish</button> <button class="pill-button teal" ng-click="save();nextStudent()" ng-if="!done">Submit<br>& review another student</button><div class="italic-text padding-top-20"><button class="popoverButton" mm-popover text="Motion Math will use this information to help create groundbreaking tools for you and your class. Your answers will help us to validate our research on mindset, motivation and other factors of learning. <br> None of the information you submit will be shared outside of Motion Math.">?</button> All submissions are confidential and for Motion Math internal use only.</div></div></div></div>')}]),angular.module("/views/accounts/games.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/games.html",'<div ng-controller="GamesTabCtrl" class="embed-responsive embed-responsive-16by9 PlayGamesPage"><iframe ng-src="{{ gamesUrl }}" frameborder="0" class="embed-responsive-item" allowfullscreen></iframe></div>')}]),angular.module("/views/accounts/getQuote.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/getQuote.html",'<div class="container pageWidth subscription"><div ng-include="\'/views/accounts/partials/accountsHeader.html\'"></div><div class="row text-center padding-bottom-15 padding-top-120 italicize"></div><get-quote school-name="data.institution" district-name="data.institution" is-district-level="isInstitutionADistrict()" case-sensitive-email="data.email" first-name="data.firstName" last-name="data.lastName" is-authenticated="false"></div>')}]),angular.module("/views/accounts/index.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/index.html",'<!-- Message bar --><div class="messageBar row hidden-xs" ng-if="messageBarTemplate()" ng-class="messageBarTemplate().class"><div class="pageWidth center-block" ng-include="messageBarTemplate().template"></div></div><!-- Status --><div id="admin-view-bar" ng-include="statusTemplate.url"></div><div class="container pageWidth" style="height: 100%"><div ng-class="{\'hidden-xs\': hideMenuXs}" ng-include="\'/views/accounts/partials/accountsHeader.html\'"></div><div class="row margin-top-20 col-sm-offset-3" ng-if="isUserSignupComplete()"><div id="menu" class="col-sm-9 col-sm-offset-3"><user-settings-menu first-name="firstName" can-upgrade="canUpgrade()" trial-started="trialStarted()"></user-settings-menu><div class="menuItem" ng-class="{\'hidden-xs\': hideMenuXs}" ng-if="!hasAtLeastUnverifiedRights() && !isParentGuardian()"><a ng-click="goTo(\'/account/roster\')" ng-class="{\'selected\': selectedTemplate==\'roster\'}">Roster</a></div><div class="menuItem" ng-if="hasAtLeastUnverifiedRights()"><a ng-click="goTo(\'/account/adminView\', {\'tab\': \'roster\'})" ng-class="{\'selected\': (selectedTemplate==\'adminView\' && selectedTab==\'roster\')}">Accounts/Roster</a></div><!-- keeps the vertical spacing --><div ng-show="isParentGuardian()" class="menuItem" style="padding:4px">&nbsp;</div></div></div><div id="primary-menu" class="row logoOffsetSmall" ng-if="isUserSignupComplete()" ng-class="{\'hidden-xs\': hideMenuXs}"><div ng-include="\'/views/accounts/partials/yourAccount.html\'" class="col-sm-12"></div></div><div class="col-sm-12" style="height: 100%"><div ng-include="template.url" class="row" ng-class="{\'logoOffset\': !isUserSignupComplete(), \'loading\': isLoading()}" style="height: 100%"></div></div></div><!-- Required Modals --><div ng-if="isUserSignupComplete()" ng-include="\'/views/accounts/partials/modals.html\'"></div><!-- Chat script --><div ng-include="\'/views/accounts/partials/chat.html\'"></div>')}]),angular.module("/views/accounts/iready/dashboardTab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/iready/dashboardTab.html",'<div ng-controller="AccountTeacherDashboardCtrl"><for-rosters teacher-id="teacherId" template-body="/views/accounts/partials/dashboardBody.html" template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-bottom-left="/views/accounts/partials/ireadyBottomLeft.html" template-top-middle="/views/accounts/partials/ireadyBottomMiddle.html" template-bottom-middle="/views/accounts/iready/iReadyClassType.html"></for-rosters></div>')}]),angular.module("/views/accounts/iready/factorsOfLearningTab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/iready/factorsOfLearningTab.html",'<div ng-controller="PlaytimeController"><for-rosters teacher-id="teacherId" template-body="/views/accounts/partials/factorOfLearningBody.html" template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-bottom-left="/views/accounts/partials/ireadyBottomLeft.html" template-top-middle="/views/accounts/partials/ireadyBottomMiddle.html" template-bottom-middle="/views/accounts/iready/iReadyClassType.html"></for-rosters></div>')}]),angular.module("/views/accounts/iready/index.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/iready/index.html",'<div class="row account-header"><div class="col-xs-8 logoContainer margin-top-20 margin-bottom-20"><img alt="iReady Learning Games" class="iReadyLogoLarge" ng-src="images/iready/Logo.png"></div><div class="col-xs-4"><div class="pull-right"><div style="display: inline-block"><a class="iready-central text-right btn-block margin-top-20 btn-primary" href="http://i-readycentral.com/learninggames" target="_blank"><i class="glyphicon glyphicon-question-sign"></i> <span>Learn More</span></a></div></div></div></div><div class="account-navbar row"><div class="text-left col-sm-4"><div class="account-navbar-cell account-navbar-cell-left" ng-class="{\'account-navbar-selected\': selectedTemplate==\'games\'}"><a ng-click="goTo(\'/iready/dashboard/games\')">Play Games</a></div></div><div class="text-right col-sm-8"><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': selectedTemplate==\'playtime\'}"><a ng-click="goTo(\'/iready/dashboard/playtime\')">Playtime</a></div><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': selectedTemplate==\'dashboard\'}"><a ng-click="goTo(\'/iready/dashboard/dashboard\')">Skills Progress</a></div><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': selectedTemplate==\'factorsOfLearning\'}"><a ng-click="goTo(\'/iready/dashboard/factorsOfLearning\')">Factors of learning</a></div></div></div><div class="col-sm-12" iready><div class="row" ng-class="{\'loading\': isLoading()}"><school-dropdown class="inline-block" single-school-behavior="label"></school-dropdown></div></div><div class="col-sm-12 iready" ng-if="hasSchool()"><div ng-include="template.url" class="row" ng-class="{\'loading\': isLoading()}" style="height: 100%"></div></div>')}]),angular.module("/views/accounts/iready/iReadyClassType.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/iready/iReadyClassType.html",'<div ng-switch="roster.classType" class="classType teachers-list"><div ng-switch-when="CLASS">Class</div><div ng-switch-when="GROUP">Report Group</div></div>')}]),angular.module("/views/accounts/iready/playtimeTab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/iready/playtimeTab.html",'<div ng-controller="PlaytimeController"><for-rosters teacher-id="teacherId" template-body="/views/accounts/partials/playtimeBody.html" template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-bottom-left="/views/accounts/partials/ireadyBottomLeft.html" template-right="/views/accounts/partials/ireadyRight.html" template-top-middle="/views/accounts/partials/ireadyBottomMiddle.html" template-bottom-middle="/views/accounts/iready/iReadyClassType.html"></for-rosters></div>')}]),angular.module("/views/accounts/landing.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/landing.html",'<div class="container pageWidth"><div ng-include="\'/views/accounts/partials/accountsHeader.html\'"></div><div class="row logoOffset margin-top-20"><div class="landing-text">Welcome to the landing page!<br><br>You\'re on this page because you\'re in pd mode. Normally you\'d be routed to the <a href="http://motionmathgames.com" target="_blank">main site.</a><br><br>Below are the more popular pages visited in pd:</div><div class="row text-center"><a href="/#/signup" class="col-md-4"><button class="pill-button short blue">Signup Page</button> </a><a href="/#/signin" class="col-md-4"><button class="pill-button short blue">Signin Page</button> </a><a href="/WWhAOrOpaElo3k8OUVZSWN6XGh2bK973dPJw4nxCuhQxOOuerNGDLRFUYPne.html#/login" class="col-md-4"><button class="pill-button short blue">Admin Console</button></a></div><div class="row margin-top-20 text-center"><a href="/device.html#/devicelogin" class="col-md-4"><button class="pill-button short blue">Device Login</button> </a><a href="/mpact" class="col-md-4"><button class="pill-button short blue">Mpact</button> </a><a href="/mpact/WWhAOrOpaElo3k8OUVZSWN6XGh2bK973dPJw4nxCuhQxOOuerNGDLRFUYPne.html#/login" class="col-md-4"><button class="pill-button short blue">Mpact Admin Console</button></a></div></div></div>')}]),angular.module("/views/accounts/loginKillBanner.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/loginKillBanner.html",'<div class="loginBanner top7"><div class="row"><div class="col-sm-2 col-xs-2 top10"><img src="/images/login/moveIcon{{bannerImageID}}.png"></div><div class="col-sm-offset-2 col-sm-7 col-xs-offset-2 col-xs-7 top17">Download the Motion Math app and use your access code to continue playing. We recommend deleting this app.</div></div><div class="row padding-bottom-20"><div class="col-sm-offset-4 col-xs-offset-4"><a href="itms-apps://itunes.apple.com/us/app/motion-math/id1300888687?mt=8"><button class="pill-button brightBlue auto">Get the app</button></a></div></div></div>')}]),angular.module("/views/accounts/loginPromoBanner.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/loginPromoBanner.html",'<div class="loginBanner top7"><div class="row"><div class="col-sm-2 col-xs-2 top10"><img src="images/login/promoImg.jpg"></div></div><div class="row"><div class="col-sm-offset-1 col-sm-10 col-xs-offset-1 col-xs-10 top17 text-center">Get an access code and play more learning games with the Motion Math app!</div></div><div class="row padding-bottom-20 top17"><div class="col-sm-offset-4 col-xs-offset-4"><a href="itms-apps://itunes.apple.com/us/app/motion-math/id1300888687?mt=8">&nbsp;&nbsp;&nbsp;&nbsp;<button class="pill-button brightBlue auto">Get the app</button></a></div></div></div>')}]),angular.module("/views/accounts/loginWarningBanner.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/loginWarningBanner.html",'<div class="loginBanner top7"><div class="row"><div class="col-sm-2 col-xs-2 top10"><img src="/images/login/moveIcon{{bannerImageID}}.png"></div><div class="col-sm-offset-2 col-sm-7 col-xs-offset-2 col-xs-7 top17">If you are on iOS 10 or 11, we highly recommend downloading the Motion Math app to continue playing learning games! We will no longer support this app in June 2018.</div></div><div class="row padding-bottom-20"><div class="col-sm-offset-4 col-xs-offset-4"><a href="itms-apps://itunes.apple.com/us/app/motion-math/id1300888687?mt=8"><button class="pill-button brightBlue auto">Get the app</button></a></div></div></div>')}]),angular.module("/views/accounts/mobileLanding.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/mobileLanding.html",'<div class="margin-top-20 row text-center"><img alt="Motion Math Games" class="MMLogoLarge" ng-src="images/MM/Logo.png"></div><div class="margin-top-40 row font-24 gibsonSemibold text-center">Hi {{ firstName }} {{ lastName }}!</div><div class="margin-top-20 row font-24 gibsonSemibold text-center">Your access code is: {{ clientData.loginCode }}</div><div class="margin-top-10 font-18 text-center italic-text padding10">Sign in on desktop, laptop, or tablet for access to student data dashboard and your settings page.</div>')}]),angular.module("/views/accounts/noIPads.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/noIPads.html",'<div class="mm-logo-aligned-container"><div class="row padding-bottom-15"><div class="label-text-md label-text-sm label-text-xs text-center"><span>Thanks for creating a Motion Math account. Our classroom solution is currently only on iPads but will soon work across more devices, including Chromebooks. We’ll let you know when a non-iPad pilot is available.</span></div></div></div>')}]),angular.module("/views/accounts/parentPayment.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/parentPayment.html",'<div id="parentPayment" class="parent-page-text" ng-controller="ParentPaymentCtrl"><div ng-class="{\'deviceHeader\' : deviceSignup }"></div><div><form name="paymentForm" novalidate class="form-horizontal"><div class="form-group signup-instructions text-center">Choose your subscription option <span ng-if="!deviceSignup">for our games</span><span ng-if="deviceSignup"><img width="20px" ng-src="images/btnInfo.png" ng-click="showSubscriptionDetails()"></span></div><br><br><div class="form-group" style="margin-bottom:0"><label class="control-label col-sm-5 col-xs-4"></label><div class="col-sm-5 col-xs-8"><input id="radio-1" type="radio" name="subselect" value="parent_monthly" ng-model="subInfo.sub"><div class="row"><div class="col-sm-1 col-xs-1"><div class="checkbox small" ng-click="subInfo.sub = \'parent_monthly\';"><i ng-if=" subInfo.sub === \'parent_monthly\' " class="glyphicon glyphicon-ok"></i></div></div><div class="col-sm-8 col-xs-6 align-left"><label for="radio-1">$2.99 per month</label></div></div></div></div><div class="form-group" style="margin-bottom:0"><label class="control-label col-sm-5 col-xs-4"></label><div class="col-sm-5 col-xs-8"><input id="radio-2" type="radio" name="subselect" value="parent_yearly" ng-model="subInfo.sub"><div class="row"><div class="col-sm-1 col-xs-1"><div class="checkbox small best-value-checkbox" ng-click="subInfo.sub = \'parent_yearly\';"><i ng-if=" subInfo.sub === \'parent_yearly\' " class="glyphicon glyphicon-ok"></i></div></div><div class="col-sm-9 col-xs-9 align-left"><!-- This is a highly-specific custom layout so I\'m just inlining it --><table style="position:relative;top:10px"><tr><td><table><tr><td><label for="radio-2">$29.99 per year</label><tr><td style="position:relative;bottom:5px"><i>Two extra months free!</i></table><td style="position:relative;bottom:5px;left:10px"><img width="50px" ng-src="images/StickerBestValue.png"></table></div></div></div></div><div class="form-group" ng-if="(environment == \'staging\' || environment == \'pd\') && !deviceSignup" style="margin-bottom:0;margin-top:20px"><label class="control-label col-sm-5 col-xs-4"></label><div class="col-sm-5 col-xs-8"><input id="radio-3" type="radio" name="subselect" value="parent_daily" ng-model="subInfo.sub"><div class="row"><div class="col-sm-1 col-xs-1"><div class="checkbox small" ng-click="subInfo.sub = \'parent_daily\';"><i ng-if=" subInfo.sub === \'parent_daily\' " class="glyphicon glyphicon-ok"></i></div></div><div class="col-sm-8 col-xs-6 align-left"><label for="radio-3">$99999.00 per day (FOR TEST - DO NOT USE)</label></div></div></div></div><br><br><div class="form-group text-center" style="padding:10px 40px 10px 40px">All subscriptions include access to Motion Math games on iPad and web and a parent dashboard.</div><div class="form-group text-center">You will not be charged until after your {{trialPeriodDescription()}} free trial ends.</div><div class="row padding-bottom-15 text-center"><div ng-if="showPaymentDetails()" class="padding-bottom-15">Payment: **** **** **** {{stripeToken.card.last4}} &nbsp;&nbsp; <a href="javascript:void(0)" ng-click="editPaymentDetails()">Edit payment details</a></div><br><br><button ng-if="showFinishButton()" ng-disabled="finishing" class="pill-button teal narrow" ng-click="finish()" type="button">{{finishButtonText}}</button></div></form></div></div>')}]),angular.module("/views/accounts/parentPaymentDetails.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/parentPaymentDetails.html",'<div id="parentPaymentDetails" class="parent-page-text" ng-controller="ParentPaymentDetailsCtrl"><div ng-if="deviceSignup" class="text-left font-16 padding-top-60"><a ng-click="goToLastPage()">&lt; Back</a></div><div class="text-left font-14" style="padding:20px"><b>Motion Math Subscription</b><br><br>- A Motion Math subscription gives you access to all 9 of our iPad games.<br><br>- Subscriptions are $2.99 USD monthly, or $29.99 USD annually or equal to the same price tier that “Apple’s App Store Matrix” determines in other currencies.<br><br>- Payments will be charged to your iTunes Account at confirmation of purchase.<br><br>- Subscriptions automatically renew unless auto-renew is turned off at least 24-hours before the end of the current period.<br><br>- Your account will be charged for renewal within 24-hours prior to the end of the current period. Renewals are the same price as a new subscription purchase - either $2.99 USD monthly, or $29.99 USD annually.<br><br>- You may manage your Subscriptions and auto-renewal may be turned off by going to your Account Settings after purchase.<br><br>- Any unused portion of the free trial period will be forfeited when you purchase a subscription.<br><br>Terms of use: <a href="http://motionmathgames.com/terms-of-service/">http://motionmathgames.com/terms-of-service/</a><br>Privacy Policy: <a href="http://motionmathgames.com/privacy/">http://motionmathgames.com/privacy/</a></div></div>')}]),angular.module("/views/accounts/parentProgressTab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/parentProgressTab.html",'<div class="parentProgress" ng-controller="ParentProgressCtrl"><div class="header playtime">Playtime</div><playtime teacher-id="{{teacherId}}"></playtime><div class="header dashboard padding-top-20">Skills Progress</div><dashboard teacher-id="{{teacherId}}"></dashboard><br><div class="header padding-top-20 padding-bottom-10">Factors of Learning</div><factors-of-learning teacher-id="{{teacherId}}"></factors-of-learning></div>')}]),angular.module("/views/accounts/parentRoster.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/parentRoster.html",'<div id="parentRosterSignup" class="parent-page-text" ng-controller="ParentRosterCtrl"><div ng-class="{\'deviceHeader\' : deviceSignup }"></div><div class="signup-instructions text-center padding-bottom-20 margin-top-20">Add family members who will play Motion Math!<br><span class="parenthetical">(Don\'t worry, you can change this later)</span></div><parent-roster edit-mode="true" is-valid="isValidRoster" children="children"></parent-roster><div class="signupFlow text-center font-18"><a ng-click="goToLastPage()">&lt; Back</a><button ng-click="goToNextPage()" ng-disabled="!isValidRoster" class="pill-button teal font-18">Next</button></div></div>')}]),angular.module("/views/accounts/parentSetup.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/parentSetup.html",'<div id="parentSetup" class="parent-page-text" ng-controller="ParentSetupCtrl"><div class="row"><div class="signup-instructions col-sm-offset-1 col-sm-10 text-center">Congratulations!!! Your free Motion Math trial has begun!</div></div><br><div class="centered-container row"><div class="text-center box links col-md-offset-2 col-md-4"><div class="row"><div class="col-md-offset-1">To play on the web, go to:<br><a href="https://play.motionmathgames.com" target="_blank">play.motionmathgames.com</a></div></div><div class="row"><div class="col-md-offset-1">To play on iPad, download:<div ng-repeat="appInfo in appLinks"><a href="{{appInfo.link}}" target="_blank">{{appInfo.name}}</a></div></div></div></div><div class="box col-md-4"><div class="row"><div class="text-center">Sign in with your access code:</div></div><br><div class="access-code row"><div class="text-center">{{ accessCode }}</div></div></div></div><div class="row"><div class="mm-supports col-sm-12 col-md-offset-2">Motion Math supports the following browsers: Chrome, Firefox, Safari, Edge</div></div></div>')}]),angular.module("/views/accounts/parentValidate.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/parentValidate.html",'<div ng-controller="ParentValidateCtrl"><div class="row signup-instructions text-center padding-bottom-20"><div class="col-md-8 col-md-offset-2"><span ng-if="!error">Validating... </span><span ng-if="error">This link has expired but we can login at <a href="/#/signin">motionmathgames.com</a>.</span></div></div></div>')}]),angular.module("/views/accounts/partials/accountsHeader.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/accountsHeader.html",'<div class="logoContainer margin-top-20 row hidden-xs col-md-2"><div class="col-md-2"><img alt="Motion Math Games" class="hidden-sm MMLogoLarge" ng-src="images/MM/Logo.png"> <img alt="Motion Math Games" class="hidden-md hidden-lg MMLogoSmall" ng-src="images/MM/Logo-small.png"></div></div>');
}]),angular.module("/views/accounts/partials/chat.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/chat.html","<!--Start of Zopim Live Chat Script--><script type=\"text/javascript\">window.$zopim || (function(d, s) {\n        var z = $zopim = function(c) {\n                z._.push(c)\n            },\n            $ = z.s =\n            d.createElement(s),\n            e = d.getElementsByTagName(s)[0];\n        z.set = function(o) {\n            z.set.\n            _.push(o)\n        };\n        z._ = [];\n        z.set._ = [];\n        $.async = !0;\n        $.setAttribute('charset', 'utf-8');\n        $.src = '//v2.zopim.com/?2UDo2tsy0clfAsVtgvzgppZq2fUIbQb3';\n        z.t = +new Date;\n        $.\n        type = 'text/javascript';\n        e.parentNode.insertBefore($, e)\n    })(document, 'script');</script><!--End of Zopim Live Chat Script-->")}]),angular.module("/views/accounts/partials/confirmAllTeachers.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/confirmAllTeachers.html",'<div class="modal-header"><span class="modal-title">Confirm your teachers before updating rosters</span><br><span class="desc italic-text">(If you need to add new teachers, close this window and click + Teacher)</span> <button class="glyphicon glyphicon-remove" ng-click="close()"></button></div><div class="modal-content-mm"><div class="teachersList"><div class="teacherRow" ng-repeat="teacher in teachers"><div class="row modal-title text-center">{{teacher.firstName}} {{teacher.lastName}}</div><div class="row padding-top-10"><div class="col-sm-3 align-right">Role</div><div class="col-sm-9"><mm-dropdown class="teacherInfoPage mm-dropdown" data="roles" ng-model="teacher.settings.role"></mm-dropdown></div></div><div class="row padding-top-10" ng-if="teacher.settings.role == \'Classroom teacher\' || teacher.settings.role == \'Special ed teacher\' || teacher.settings.role == \'Tutor\'"><div class="col-sm-3 align-right">Grade</div><div class="col-sm-9"><mm-dropdown class="teacherInfoPage mm-dropdown" data="gradeLevels" ng-model="teacher.settings.gradeLevel"></mm-dropdown></div></div></div></div><div class="text-center margin-top-20"><button class="pill-button teal autoHeight auto" ng-click="confirm()">Save and Continue</button></div></div>')}]),angular.module("/views/accounts/partials/csvUpload.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/csvUpload.html",'<div class="modal-header"><div class="modal-title" ng-if="!didUpload">Upload all your rosters <span ng-if="isUpdate">updates </span>(CSV only)</div><div class="desc italic-text margin-top-10" ng-if="isUpdate && !didUpload">Our Motion Math support team will make this as simple as possible - just upload your updated roster information, and we will take care of the rest.</div><div class="modal-title" ng-if="didUpload">CSV Uploaded!</div><button class="glyphicon glyphicon-remove" ng-click="close()"></button></div><div class="csvUpload text-center" ng-if="!didUpload"><div class="row" ng-class="isUpdate ? \'margin-top-40\' : \'margin-top-30\'"><div class="fileName"><span class="glyphicon glyphicon-search"></span><span>{{ chosenFile.name }}</span></div><span class="uploadButton"><label for="csvFile" class="pill-button teal autoHeight auto">Browse</label><input type="file" id="csvFile" accept=".csv" onchange="angular.element(this).scope().chooseFile(this)"></span></div><div class="sampleSheet" ng-if="!isUpdate"><div class="bold align-right padding-bottom-10"><a mm-popover template="csvHelp.html" css-class="csvHelp" href="">Need help?</a></div><div class="gibsonLight padding-bottom-5">Sample Spreadsheet</div><table><tr><th>Teacher First Name<th>Teacher Last Name<th>Teacher Email<th>Student First Name<th>Student Last Name<th>Grade<th>ID number (optional)<tr><td>Laura<td>Barton<td>laura@motionmathschool.com<td>Joel<td>Detweiler<td>3<td><tr><td>Laura<td>Barton<td>laura@motionmathschool.com<td>John<td>Verticchio<td>3<td><tr><td>Laura<td>Barton<td>laura@motionmathschool.com<td>Sylvia<td>Ko<td>3<td><tr><td>Laura<td>Barton<td>laura@motionmathschool.com<td>Sally<td>Shum<td>3<td><tr><td>Gabriel<td>Adauto<td>gabriel@motionmathschool.com<td>Jacob<td>Klein<td>4<td><tr><td>Gabriel<td>Adauto<td>gabriel@motionmathschool.com<td>Coram<td>Bryant<td>4<td></table></div><div class="row" ng-class="isUpdate ? \'margin-top-80\' : \'\'"><button class="pill-button teal autoHeight auto" ng-disabled="!chosenFile.name" ng-click="uploadFile()">Upload File</button></div></div><div class="uploadSuccess text-center" ng-if="didUpload"><img class="margin-top-50" alt src="images/Motion-Math-Logo_whiteBG_125x120.png"><div class="margin-top-50 italic-text">We received your rosters and will let you know when we have your accounts up and running.<br><br>Our team may email you with additional questions.</div><div class="margin-top-70"><button class="pill-button teal autoHeight auto" ng-click="close()">Done</button></div></div><script type="text/ng-template" id="csvHelp.html"><div class="text-center">Email <a href="mailto:support@motionmathgames.com">support@motionmathgames.com</a> for help with CSV uploading!</div></script>')}]),angular.module("/views/accounts/partials/dashboard.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/dashboard.html",'<div id="student-dashboard-root"><loading-animation is-loading="loading" no-container="true"></loading-animation><div ng-class="{isLoading: loading}"><div class="container-fluid"><div class="row padding-bottom-10"><div class="col-sm-4"><div id="fluency-color-key"><div class="item none"><span class="color"></span>Not enough gameplay data</div><div class="item medium"><span class="color"></span>Sometimes displaying skill</div><div class="item low"><span class="color"></span>Not yet displaying skill</div><div class="item high"><span class="color"></span>Displaying skill</div></div></div><div class="col-sm-4 dashboard-details"><ui-select class="skills-mode-changer mm-dropdown" ng-model="expandedSkillsTableView" on-select="updateSkillsTableMode(expandedSkillsTableView)"><ui-select-match class="grade-changer-caret"><div class="caret-bg"></div><span ng-bind="expandedSkillsTableView"></span></ui-select-match><ui-select-choices repeat="item in [\'Overview\', \'Details\']"><span ng-bind="item"></span></ui-select-choices></ui-select></div><div class="col-sm-4 gradeChange"><ui-select class="mm-dropdown" ng-model="viewingGrade" on-select="updateViewedGrade(viewingGrade)"><ui-select-match class="grade-changer-caret"><div class="caret-bg"></div><span ng-bind="\'Grade \' + viewingGrade"></span></ui-select-match><ui-select-choices repeat="item in getAvailableGrades()"><span ng-bind="\'Grade \' + item"></span></ui-select-choices></ui-select></div></div></div><script type="text/ng-template" id="details.html"><div ng-switch on="detailsShown">\n                <div ng-switch-when="lastLevel">\n                    <span ng-if="!hasALastLevel">{{selectedName}} hasn\'t played a level today. </span>\n                    <span ng-if="hasALastLevel"><span>{{selectedName}} just played {{selectedCell.appContext}} - Level {{selectedCell.levelNum}}</span><span ng-if="lastLevelResult"> - {{lastLevelResult}}</span><span>.</span></span>\n                </div>\n                <div ng-switch-when="standard">\n                    <span ng-if="!hasEnoughLevels">{{selectedName}} hasn\'t played enough relevant levels for us to evaluate this skill. </span>\n                    <span ng-if="hasEnoughLevels">{{dataCellExplanation}}</span>\n                </div>\n                <div ng-switch-when="column" ng-bind-html="columnDescription"></div>\n            </div></script><div class="row"><div class="scrolling-table-wrapper col-sm-12"><div class="left"><table ng-if="tableParams" ng-table="tableParams" template-pagination="custom/blank" ng-class="{isLoading: loading}" class="split-table mmTable" id="paginableTable"><thead><tr><th ng-mouseover="changeDetails(\'column\')" class="sortable" ng-repeat="(index, column) in columns | orderByStandard" ng-if="index == 0 || index == 1" ng-class="headerSortClass(column.columnId)" ng-style="adjustHeightStyle"><div class="toggle-sort" ng-click="changeSort(column.columnId)"></div><div ng-class="{\'align-left\': \'lastlevel\' === column.columnId}">{{column.title}}<div class="subtitle" ng-if="index > 0">{{column.subtitle}}</div></div></thead><tr ng-repeat="row in orderedData"><td data-title="namesColumnName" class="nameColumn" sortable><div class="fixed-height"><display-student student="row.Names.name"></display-student></div><td></table></div><div ng-class="{refreshing: tableRefreshing, fit: (expandedSkillsTableView == \'Overview\'), wide: (expandedSkillsTableView == \'Details\'), parent: isParentGuardian(), nonscrollable: (tableParams.data.length) < 15, noarrows: numScrollableColumns < 4}" class="right right-scroll-wrapper"><table ng-if="tableParams" ng-table="tableParams" template-pagination="custom/pager.html" id="student-dashboard-table" ng-class="{isLoading: loading}" class="split-table mmTable"><thead><tr><th class="sortable fixed-height" ng-repeat="(index, column) in columns | orderByStandard" ng-if="(index > 0) && (!specialColumns[column.columnId])" ng-class="headerSortClass(column.columnId)" ng-style="adjustHeightStyle"><div class="toggle-sort" ng-click="changeSort(column.columnId)"></div><div ng-class="{\'align-left\': \'lastlevel\' === column.columnId}" ng-style="expandedSkillsTableView == \'Details\' && {\'padding-left\': \'10px\'}"><span ng-if="isCommonCore">{{column.title}}</span><div class="subtitle">{{column.subtitle}}</div></div></thead><tr ng-repeat="row in orderedData"><td ng-repeat="cell in row | orderByStandard" ng-if="!specialColumns[cell.columnId]" class="dashboard-status" ng-click="changeDetails(\'standard\', cell, row[namesColumnName].name);" ng-class="statusColorForCell(cell)" style="max-width:110px;min-width:30px" mm-popover template="details.html" height-offset="20"><div class="fixed-height"></div></tr><div ng-if="!numScrollableColumns" ng-class="{refreshing: tableRefreshing}" class="dashboard-notification">Standards reporting not yet available for grade {{viewingGrade}}</div></table><div class="more-left"><div class="arrow"></div></div><div class="more-right"><div class="arrow"></div></div></div></div></div><script type="text/ng-template" id="custom/blank"></script><script type="text/ng-template" id="custom/pager.html"><pagination ng-if="params.$params.paginate  " total-items="params.$params.totalCounts" ng-model="params.$params.page" max-size="params.$params.maxSize" class="pagination-sm" boundary-links="true" rotate="false" items-per-page="params.$params.itemsPerPage"></pagination></script></div></div>')}]),angular.module("/views/accounts/partials/dashboardBody.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/dashboardBody.html",'<dashboard teacher-id="{{teacherId}}"></dashboard>')}]),angular.module("/views/accounts/partials/displayStudent.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/displayStudent.html",'<span class="displayStudent"><span ng-if="student.lastName">{{student.lastName}},</span> {{student.firstName}} <span ng-if="inline && student.duplicate" class="studentDisplayIdInline">({student.userNumber})</span><div ng-if="!inline && student.duplicate" class="studentDisplayId"><span class="studentDisplayIdBlock">{{student.userNumber}}</span></div></span>')}]),angular.module("/views/accounts/partials/factorOfLearningBody.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/factorOfLearningBody.html",'<factors-of-learning teacher-id="teacherId"></factors-of-learning>')}]),angular.module("/views/accounts/partials/for-roster.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/for-roster.html",'<div ng-repeat="roster in rosters"><div class="forRosterEntry"><div class="container-fluid forRosterHeader padding-bottom-20 padding-top-20" ng-click="selectRoster(roster.rosterId)"><div class="row"><div class="col-sm-4"><div class="row"><div class="col-sm-2"><i class="collapseArrow glyphicon {{ currentRosterId === roster.rosterId ? \'glyphicon-triangle-bottom\' : \'glyphicon-triangle-right\'}}"></i></div><div class="col-sm-10"><div class="row"><div ng-include="templateTopLeft"></div></div><div class="row"><div ng-include="templateBottomLeft"></div></div></div></div></div><div ng-if="(templateTopMiddle || templateBottomMiddle) && currentRosterId !== roster.rosterId"><div class="col-sm-4"><div class="row"><div ng-include="templateTopMiddle" class="margin-left-30"></div></div><div class="row"><div ng-include="templateBottomMiddle" class="margin-left-30"></div></div></div><div class="col-sm-4" ng-if="templateRight"><div ng-include="templateRight"></div></div></div></div></div><div class="forRosterBody padding-top-10" ng-if="currentRosterId === roster.rosterId"><div ng-if="noK8Data" class="ireadyNoK8">Learning Games are only available for K-8 students. You don’t seem to have any K-8 students in this i-Ready class.</div><div ng-if="!noK8Data" ng-include="templateBody"></div></div></div></div><pagination ng-if="paginate" total-items="totalItems" ng-model="pagination.currentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages" items-per-page="itemsPerPage"></pagination>')}]),angular.module("/views/accounts/partials/getQuote.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/getQuote.html",'<div class="subscription" class="col-md-10 col-md-offset-1"><div class="alert alert-success alert-dismissible" role="alert" ng-if="ccPaymentDone && isAuthenticated"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true" ng-click="closeAlert()">&times;</span></button> Your payment has been received. We\'ll soon email you to let you know when we\'ve credited your account.</div><form ng-if="!clientData.submittedSubscribeForm" name="subscribeForm" novalidate><div class="row text-left padding-bottom-15 italicize">To get a quote or purchase a Motion Math subscription, please contact our Customer Service team:</div><div class="row text-left">Email</div><div class="row text-left padding-bottom-15 description"><a href="mailto:orders@cainc.com">orders@cainc.com</a></div><div class="row text-left">Phone</div><div class="row text-left description">(Monday–Thursday 8:30 a.m.–7:00 p.m. ET and Friday 8:30 a.m.–5:00 p.m. ET)</div><div class="row text-left description">Toll Free: 800-225-0248</div><div class="row text-left padding-bottom-15 description">Overseas: 1-978-667-8000</div><div class="row text-left">Fax</div><div class="row text-left description">Toll Free: 800-366-1158</div><div class="row text-left padding-bottom-15 description">From outside the United States: 1-978-667-5706</div><div class="row text-left">2018-19 School Year Pricing</div><div class="row text-left"><table><tr><th># of Transferable<br>Student Licenses<th>Price per<br>Annual License<tr><td>5-9<td>$14.00<tr><td>10-19<td>$11.00<tr><td>20-39<td>$9.00<tr><td>40-99<td>$8.75<tr><td>100-249<td>$8.25<tr><td>250-499<td>$7.75<tr><td>500-999<td>$7.00<tr><td>1000+<td>$6.00</table></div></form></div>')}]),angular.module("/views/accounts/partials/institution-search.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/institution-search.html",'<div style="width:105%;text-align: right;margin-top:-20px" ng-class="{noVisibility : input.length < 3 || showCustomInput === true}"><a href="" style="font-size:75%" ng-click="goToManualInput()">I can\'t find my {{type}}</a></div><div style="width:105%;font-size:60%;text-align:right;margin-top:-15px" ng-show="showCustomInput === true">Okay, please enter your {{type}} name.</div><div class="dropdown" style="width:100%" is-open="isOpen" ng-show="showCustomInput !== true"><input type="text" style="width:100%" ng-model="input" ng-keyup="search()" ng-disabled="isDisabled" placeholder="Enter {{type}} name, city, or zip code"><ul class="dropdown-menu" ng-show="showDropdown" style="display:block;max-height:250px;width:100%;overflow:auto"><li ng-repeat="institution in searchResults"><a href="" ng-click="clickedInstitution(institution)" style="cursor:pointer"><span style="font-size:120%">{{institution.name}}</span> <span style="margin-left:15px;display:block">{{institution.city}}, {{institution.state}} {{institution.zip}}</span></a><li ng-show="searchResults.length == 0"><a href=""><span style="font-size:120%">No Matches</span></a></ul></div><div style="min-height: 40px" ng-show="showCustomInput === true"><div style="width:100%"><input type="text" style="width:100%" ng-model="manualInput" ng-keyup="manualInputTyped()" placeholder="Your {{type}} name"> <input type="text" style="width:100%;margin-top:10px" ng-model="manualInputCity" ng-keyup="manualInputTyped()" placeholder="Your {{type}}\'s city"></div></div>')}]),angular.module("/views/accounts/partials/ireadyBottomLeft.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/ireadyBottomLeft.html",'<span class="teachers-list" uib-popover-template="\'{{popover.templateUrl}}\'" popover-trigger="mouseenter" popover-placement="auto bottom-right" popover-animation="true" popover-enable="{{popover.isEnabled(teachers[roster.rosterId], maxTeacherSize)}}">{{teachers[roster.rosterId] | truncate: (popover.isEnabled(teachers[roster.rosterId], maxTeacherSize)) ? maxTeacherSize : null}}</span>')}]),angular.module("/views/accounts/partials/ireadyBottomMiddle.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/ireadyBottomMiddle.html",'<span class="student-count">Students: {{studentsNumber[roster.rosterId]}}</span>')}]),angular.module("/views/accounts/partials/ireadyRight.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/ireadyRight.html",'<playtime-average-for-roster teacher-id="teacherId" roster-id="roster.rosterId">')}]),angular.module("/views/accounts/partials/ireadyTopLeft.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/ireadyTopLeft.html",'<span class="roster-name" uib-popover-template="\'{{popover.templateUrl}}\'" popover-trigger="mouseenter" popover-placement="auto bottom-right" popover-animation="true" popover-enable="{{popover.isEnabled(roster.name, maxRosterNameSize)}}">{{ roster.name | truncate: (popover.isEnabled(roster.name, maxRosterNameSize)) ? maxRosterNameSize : null }}</span>')}]),angular.module("/views/accounts/partials/ireadyTopMiddle.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/ireadyTopMiddle.html",'<span class="grade">Grade: {{grades[roster.rosterId]}}</span>')}]),angular.module("/views/accounts/partials/loadingAnimation.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/loadingAnimation.html",'<div ng-if="isLoading" class="loadingContainer" ng-class="{hasBG: !noContainer}"><div class="iconContainer"><div class="loadingIcon"><div class="leftSide"></div><div class="rightSide"></div><div class="bottom"></div></div></div><div class="background"></div></div>')}]),angular.module("/views/accounts/partials/modals.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/modals.html",'<div ng-controller="SetInstitutionController"><div ng-if="isUserSignupComplete()" ng-init="open()"><script type="text/ng-template" id="institution-modal.html"><div class="modal-header">\n                <span class="modal-title">Welcome back, {{firstName}}. Please select your {{institutionType}}:</span>\n            </div>\n            <div class="modal-body">\n                <div institution-search type="institutionType" ng-model="institution" user="user" class="label-text-md searchBarWithDropdown"></div>\n            </div>\n            <div class="modal-footer">\n                <button class="pill-button teal narrow" ng-disabled="!canSave()" ng-click="save()">Save</button>\n            </div></script></div></div>')}]),angular.module("/views/accounts/partials/motionMathEndNotification.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/motionMathEndNotification.html",'<div id="motionMathEndNotification" ng-controller="MotionMathEndNotificationCtrl"><div>Note: access to Motion Math will end on <span class="expiration-date">June 20, 2020.</span><br>Your access code is: <span class="accessCode">{{accessCode}}</span></div></div>')}]),angular.module("/views/accounts/partials/nps.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/nps.html",'<div ng-controller="NPSCtrl" class="nps"><i ng-if="showCloseX" class="closeX glyphicon glyphicon-remove" ng-click="hideNPS()"></i><div class="col-md-2 col-md-offset-0 col-sm-2 col-sm-offset-2 liaison"><img class="liaisonPic" ng-src="/images/liaisons/{{liaison.image}}" alt="{{liaison.name}}"><div class="caption">{{liaison.name}}</div></div><div class="space-down col-md-3 col-sm-5"><div class="speech-bubble left"><span ng-show="showScoreScreen">Hello! How likely are you to recommend Motion Math to a friend or colleague? </span><span ng-show="showPromoterScreen">Excellent! You can help us help more students. Please spread the word about our free pilot: </span><span ng-show="showFeedbackScreen">Thank you! What was the main reason for your response? </span><span ng-show="showThanksScreen">Thank you for your response!</span></div></div><div class="col-sm-3 hidden-md hidden-lg"></div><div ng-if="showScoreScreen" class="col-md-7 col-md-offset-0 col-sm-8 col-sm-offset-2 space-down"><div class="scoreContainer center-block" number-select min="minScore" max="maxScore" on-select="valSelected" show-likelihood-labels="true"></div></div><div ng-if="showPromoterScreen" class="col-md-6 col-md-offset-1 col-sm-6 space-down"><button type="button" ng-click="share();twitterShare()" class="pill-button circle teal share"><img src="images/Twitter_logo_white.png" alt="Share on Twitter"></button> <button type="button" ng-click="share();emailShare()" class="pill-button circle teal share"><i class="email glyphicon glyphicon-envelope"></i></button> <button type="button" ng-click="share();facebookShare()" class="pill-button circle teal share"><img src="images/FB-f-Logo__white_50.png" alt="Share on Facebook"></button></div><div ng-if="showFeedbackScreen" class="col-md-5 col-md-offset-0 col-sm-5 space-down"><textarea class="feedback" ng-model="savedNPS.feedback" placeholder="Type feedback here..."></textarea></div><div ng-if="showFeedbackScreen" class="col-md-2 col-md-offset-0 col-sm-2 space-down"><div class="submitContainer"><button type="button" class="pill-button narrow teal" ng-click="submitFeedback()">Submit</button></div></div></div>')}]),angular.module("/views/accounts/partials/number-select.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/number-select.html",'<table><tr ng-if="showLikelihoodLabels"><td colspan="{{vals.length/2}}" style="font-family:Gibson Regular Italic">Not Likely<td colspan="{{vals.length/2}}" style="font-family:Gibson Regular Italic;text-align:right">Extremely Likely<tr><td ng-repeat="num in vals" style="padding:5px"><button type="button" style="font-size:24px" class="pill-button circle small teal" ng-click="model=num;onSelect(num)"><span>{{num}}</span></button></table>')}]),angular.module("/views/accounts/partials/parentRoster.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/parentRoster.html",'<div class="parentRoster"><div ng-repeat="child in children" class="row"><div class="column childItem row" ng-class="{\'topRow\': $index == 0}"><div ng-hide="editMode" class="readonly">{{child.firstName}}</div><div ng-if="editMode" class="edit"><div class="remove"><button ng-hide="$index == 0 && (child.firstName == null || child.firstName.length == 0)" ng-click="removeChild(child)" class="flat-button orange glyphicon glyphicon-minus"></button></div><input type="text" ng-model="child.firstName" placeholder="Name" ng-change="checkValidity()" required><mm-dropdown class="mm-dropdown" ng-model="child.age" data="ages" ng-change="onChangeAge(child);checkValidity()" required></mm-dropdown></div></div></div><div class="column"><button ng-if="editMode && children.length < maxChildren" ng-click="addChild()" class="flat-button teal addChild glyphicon glyphicon-plus"></button></div><script type="text/ng-template" id="deleteChildConfirmation.html"><div>\n            <div class="padding30 text-center modal-title">Are you sure you want to delete {{student.firstName}}\'s name and data?</div>\n            <div class="text-center padding-top-4">\n                <button class="pill-button teal short margin-right-30" ng-click="cancel()">Cancel</button>\n                <button class="pill-button red short" ng-click="confirm()">Delete</button>\n            </div>\n        </div></script></div>')}]),angular.module("/views/accounts/partials/parentSubNotification.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/parentSubNotification.html",'<div id="parentSubscriptionNotification" ng-controller="ParentSubNotificationCtrl"><div class="text-center padding-top-10 padding-bottom-10">Your subscription has been canceled!<br>Please email <a href="mailto:support@motionmathgames.com?subject=About my canceled subscription">support@motionmathgames.com</a> if you need further assistance.</div></div>')}]),angular.module("/views/accounts/partials/playtime.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/playtime.html",'<div class="playtime"><loading-animation is-loading="isLoading" no-container="true"></loading-animation><div class="container-fluid"><div class="row"><div class="col-sm-9"><span class="calc-explanation" style="margin-left:5%">Playtime measures time-on-task; it doesn\'t include time navigating menus, choosing rewards, or pausing</span></div><div class="col-sm-3 timeSelector align-right" ng-class="{isLoading: isLoading}"><mm-dropdown class="mm-dropdown" ng-model="data.timeSpan" ng-change="loadData()" label-field="label" bind-field="value" data="timeSpanOptions"></mm-dropdown></div></div></div><div class="playtimeTableWrapper"><table class="playtimeTable mmTable" ng-class="{isLoading: isLoading}"><thead><tr><th class="nameColumn">Name<th>Playtime<th ng-repeat="game in games"><img ng-src="/images/{{game.image}}"><tbody><tr ng-hide="isParent()"><td class="nameColumn">Average<td>{{round(playtimeFor(\'average\'))}} min<td ng-repeat="game in games" style="vertical-align:bottom" class="data"><div mm-popover class="barHeight" ng-if="playtimeFor(\'average\', game.appContext) > 0" ng-style="{height: (90 * avgPlaytimeFor(\'average\', game.appContext)) + \'%\'}" text="{{getDisplayTimePeriod()}}, the average student has played {{game.displayName}} for {{minutesText(round(playtimeFor(\'average\', game.appContext)))}}."></div><tr ng-repeat="student in selectedStudents   | orderBy:[\'lastName\', \'firstName\']"><td class="nameColumn"><display-student student="student"></display-student><td>{{playtimeFor(student.studentId)}} min<td ng-if-end ng-repeat="game in games" style="vertical-align:bottom" class="data"><div mm-popover class="barHeight" ng-if="playtimeFor(student.studentId, game.appContext) > 0" ng-style="{height: (90 * avgPlaytimeFor(student.studentId, game.appContext)) + \'%\'}" text="{{getDisplayTimePeriod()}}, {{student.firstName}} has played {{game.displayName}} for {{minutesText(round(playtimeFor(student.studentId, game.appContext)))}}."></div></table><pagination ng-if="paginate" total-items="totalItems" ng-model="pagination.currentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages" items-per-page="itemsPerPage"></pagination></div></div>')}]),angular.module("/views/accounts/partials/playtimeAverageForRoster.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/playtimeAverageForRoster.html",'<div class="playtimeAverageForRoster pull-right"><div class="playtimeAverageNumber align-right">Playtime: {{average}} min</div><div class="playtimeAverageDescription align-right">Weekly student average (past month)</div></div>')}]),angular.module("/views/accounts/partials/playtimeBody.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/playtimeBody.html",'<playtime teacher-id="{{ teacherId }}"></playtime>')}]),angular.module("/views/accounts/partials/roster.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/roster.html",'<div id="create-roster-root" class="col-sm-12"><a class="print-pw-link" href="/#/account/printRoster" ng-click="updatePrintableTeacher()"><span class="glyphicon glyphicon-print"></span>Print Class Passwords</a><loading-animation is-loading="loading" no-container="true"></loading-animation><div id="create-roster-table" ng-cloak ng-class="{isLoading: loading}"><div class="row"><a id="roster-not-unique-alert-signpost"></a><div ng-if="isRosterNotUnique && errorMessages.length == 0" class="alert alert-danger alert-dismissable">Every student must have a unique player name.</div><div ng-if="errorMessages.length > 0" class="alert alert-danger alert-dismissable"><div ng-repeat="msg in errorMessages">{{msg}}</div></div><a id="roster-too-big-alert-signpost"></a><div ng-if="getRemainingNumberOfStudents() <= 0 && teacher.rosterString.length > 0" class="alert alert-danger alert-dismissable" ng-switch on="activeSubscription.scope"><span ng-switch-when="teacher">Sorry, your classroom account is only for {{activeSubscription.rosterLimit}} students, so your roster size can\'t be more than that. </span><span ng-switch-when="school">Sorry, your school account is only for {{activeSubscription.rosterLimit}} students, and all your school\'s rosters have reached that limit. </span><span ng-switch-when="district">Sorry, your district account is only for {{activeSubscription.rosterLimit}} students, and all your district\'s rosters have reached that limit. </span>Please email <a href="mailTo:support@motionmathgames.com">support@motionmathgames.com</a> to increase your roster limit.</div></div><div class="text-center"><div class="rosterName gibsonSemibold font-18 inline-block"><button class="glyphicon glyphicon-pencil editRosterButton" ng-click="editRoster()"></button></div><roster-dropdown class="inline-block" single-roster-behavior="label" on-roster-select="changeRoster" teacher-id="teacherId"></roster-dropdown></div><div class="rosterButton"><button class="pill-button teal" ng-if="!hasStartedRoster()" ng-disabled="!isValidRoster()" ng-click="saveRoster()">Save Roster</button> <button class="pill-button blue" ng-if="hasStartedRoster() && !isParentGuardian()" ng-click="createRoster()">+ Roster</button></div><div ng-if="canChooseMatchingOptions"><span class="bold">Choose your matching method(s):</span><div ng-repeat="method in matchingMethodOptions"><input type="checkbox" ng-model="method.on"> {{method.name}}</div></div><div class="row newRoster text-center" ng-if="!hasStartedRoster()"><div class="gibsonRegular italic-text">Add students\' First and Last names below<br>(press enter after names or paste in multiple rows)</div><textarea ng-model="teacher.rosterString" ng-keydown="typedInRoster($event)" placeholder="Firstname Lastname"></textarea></div><div class="row currentRoster" ng-if="hasStartedRoster()"><div class="gibsonRegular text-center italic-text">Click on a student\'s name to see more options</div><div class="addStudent"><input type="text" ng-model="teacher.rosterString" ng-keydown="typedInAddStudent($event)" placeholder="+ Student" onfocus="this.placeholder = \'\'" onblur="this.placeholder = \'+ Student\'"> <button class="glyphicon glyphicon-ok" ng-class="{\'disabled\': !isValidName(teacher.rosterString)}" ng-if="teacher.rosterString && teacher.rosterString.length > 0" ng-click="addStudentAndSave()"></button></div><div class="rosterStudent" ng-class="{\'edit\': student.edit}" ng-repeat="student in workingRoster | orderBy:[isNotTeacher, hasId, \'firstName\', \'lastName\']"><div class="studentName" ng-if="!student.edit" ng-click="updatePrintableTeacher()" mm-popover side-popover="true" css-class="sidePopover" template="editStudentMenu.html">{{student.firstName}} {{student.lastName}}</div><div ng-if="student.edit"><input type="text" ng-init="student.editName=student.firstName+\' \'+student.lastName" ng-model="student.editName" ng-keydown="typedInEditName($event, student)" autofocus> <button class="pill-button teal extraSmall" ng-disabled="!isValidName(student.editName, true)" ng-click="confirmNameChange(student)">Save</button></div></div><div class="rosterStudent" ng-if="isSelf" ng-init="student=teacher;"><div class="studentName" mm-popover side-popover="true" css-class="sidePopover" template="editStudentMenu.html">{{teacher.firstName}} {{teacher.lastName}}</div></div></div><div class="row italic-text text-center font-14" ng-if="!hasStartedRoster()">Available student seats: {{getRemainingNumberOfStudents()}}</div></div><script type="text/ng-template" id="editRoster.html"><div class="modal-header">\n            <span class="modal-title">Roster Information</span>\n            <button class="glyphicon glyphicon-remove" ng-click="close()"></button>\n        </div>\n        <div class="modal-content-mm">\n            <div class="padding-top-20 row">\n                <div class="col-sm-3 align-right">\n                    Name\n                </div>\n                <div class="col-sm-9">\n                    <input type="text" ng-model="rosterInfo.name" autofocus>\n                </div>\n            </div>\n            <div class="padding-top-10 row">\n                <div class="col-sm-3 align-right">\n                    Grade\n                </div>\n                <div class="col-sm-9">\n                    <mm-dropdown class="rosterInfoPage mm-dropdown" data="gradeLevels" ng-model="rosterInfo.gradeLevel"></mm-dropdown>\n                </div>\n            </div>\n            <div class="padding-top-20 row text-center">\n                <button class="pill-button orange autoHeight auto" ng-if="rosterInfo.rosterId" ng-click="delete()">Delete</button>\n                <button class="pill-button teal autoHeight auto margin-left-10" ng-disabled="rosterInfo.name == \'\'" ng-click="saveAndClose()">Save and Continue</button>\n            </div>\n        </div></script><script type="text/ng-template" id="editStudentMenu.html"><div class="editStudentMenu">\n            <div class="name">{{student.firstName}} {{student.lastName}}</div>\n            <div ng-if="rosterService.getSelectedRoster(teacherId).gradeLevel != \'N/A\' && student.studentId != teacher.studentId" class="grade">Grade: {{rosterService.getSelectedRoster(teacherId).gradeLevel}}</div>\n            <div>\n                <div>\n                    <button class="pill-button teal" ng-if="studentPasswords == \'picturePasswords\' && !usersWithPasswords[student.studentId]" ng-disabled="true">No password set</button>\n                    <button class="pill-button teal" ng-if="usersWithPasswords[student.studentId]" ng-click="showPassword(student.firstName, student.studentId)">Show Password</button>\n                    <button class="pill-button teal" ng-if="hintsFor(student.studentId, \'needed\')" ng-click="giveHints(student.studentId)">Give Hints</button>\n                    <button class="pill-button teal" ng-if="studentPasswords == \'picturePasswords\' && hintsFor(student.studentId, \'on\')" ng-disabled="true">Hints enabled</button>\n                    <button class="pill-button teal" ng-if="usersWithPasswords[student.studentId] && isSelf" ng-click="resetPassword(student.studentId)">Reset Password</button>\n                </div>\n                <div ng-if="student.studentId != teacher.studentId">\n                    <button class="pill-button teal" ng-click="student.edit = !student.edit">Edit Name</button>\n                    <button class="pill-button orange" ng-click="showDeleteConfirmation(student, $index)">Remove Student\n                        <br><span class="small">(Remove from this Roster)</span></button>\n                </div>\n            </div>\n        </div></script><script type="text/ng-template" id="showPassword.html"><div class="modal-header">\n            <span class="modal-title">This is {{username}}\'s password:</span>\n            <button class="glyphicon glyphicon-remove" ng-click="close()"></button>\n        </div>\n        <div class="padding10 width350 passwordPics">\n            <div ng-repeat="image in password" class="pic-container pic-1x3">\n                <img class="password-pic roster-pic" ng-src="/images/passwordArt/{{image}}.png">\n            </div>\n        </div></script><script type="text/ng-template" id="deleteConfirmation.html"><div>\n            <div class="padding30 text-center modal-title">Are you sure you want to delete {{student.firstName}}\'s name and data from your roster?</div>\n            <div class="text-center padding-top-4">\n                <button class="pill-button teal short margin-right-30" ng-click="cancel()">Cancel</button>\n                <button class="pill-button red short" ng-click="confirm()">Delete</button>\n            </div>\n        </div></script><script type="text/ng-template" id="duplicateStudent.html"><div class="studentCheckMenu">\n            <div class="text-center modal-title">Quick Check!</div>\n            <div class="margin-top-20 text-center italic-text font-14">\n                We found this name in our system already.\n                <br> We need to know if this student is a new student, or one that is already in another classroom.\n            </div>\n            <div class="studentName text-center">Student: {{newStudent.firstName}} {{newStudent.lastName}}</div>\n            <table class="table duplicateTable">\n                <tr ng-repeat="student in students">\n                    <td>\n                        {{student.firstName}} {{student.lastName}}\n                    </td>\n                    <td ng-if="student.rosters[0]" class="bold">\n                        {{student.rosters[0].teachers[0].firstName}} {{student.rosters[0].teachers[0].lastName}}\n                    </td>\n                    <td ng-if="!student.rosters[0]" colspan="2" class="bold">\n                        Inactive student - not in any roster\n                    </td>\n                    <td ng-if="student.rosters[0]">\n                        {{teacherTitle(student)}}\n                    </td>\n                    <td>\n                        <button class="pill-button blue duplicate" ng-click="selectOption(student)">This is the same student</button>\n                    </td>\n                </tr>\n            </table>\n            <div class="text-center row">\n                <button class="pill-button teal auto" ng-click="selectOption()">This is a new student</button>\n            </div>\n        </div></script></div>');
}]),angular.module("/views/accounts/partials/rosterPopover.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/rosterPopover.html",'<div><div class="row"><div class="col-sm-12"><span class="roster-name">{{ roster.name }}</span></div></div><div class="row"><div class="col-sm-12"><span class="teachers-list">{{ teachers[roster.rosterId] }}</span></div></div></div>')}]),angular.module("/views/accounts/partials/school-dropdown.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/school-dropdown.html",'<div class="gibsonSemibold font-18 margin-top-12 school-dropdown"><mm-dropdown ng-if="multipleSchools" class="mm-dropdown" label-field="schoolName" bind-field="schoolId" data="schools" ng-model="schoolId" ng-change="selectSchool(schoolId)"></mm-dropdown><span ng-if="singleSchoolBehavior !== \'hidden\' && !multipleSchools">{{schoolName || "&nbsp;"}}</span></div>')}]),angular.module("/views/accounts/partials/studentData.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/studentData.html",'<div ng-controller="StudentDataCtrl"><h2>Create snapshot</h2><div class="row"><div class="col-md-4 col-sm-4 col-xs-4">Choose a roster:<br>Choose a student:</div><div class="col-md-8 col-sm-8 col-xs-8"><select ng-model="selectedRoster" ng-options="roster.name for roster in rosters" ng-change="loadRoster(selectedRoster)"></select><br><select ng-model="data.student" ng-options="student.firstName for student in roster"></select></div></div><div class="row" ng-if="data.studentDatas.length > 0"><div class="col-md-4 col-sm-4 col-xs-4">Choose an app:</div><div class="col-md-8 col-sm-8 col-xs-8"><select ng-model="data.selectedSD" ng-options="appIdName(sd.app) for sd in data.studentDatas"></select></div></div><div class="row" ng-if="data.selectedSD"><div class="col-md-4 col-sm-4 col-xs-4"></div><div class="col-md-8 col-sm-8 col-xs-8"><input type="button" class="btn btn-success" ng-click="showData();" value="View Data"></div></div><div class="row" ng-if="data.selectedSD"><div class="col-md-4 col-sm-4 col-xs-4">Label</div><div class="col-md-8 col-sm-8 col-xs-8"><input type="text" ng-model="data.label"></div></div><div class="row" ng-if="data.selectedSD && data.label"><div class="col-md-4 col-sm-4 col-xs-4"></div><div class="col-md-8 col-sm-8 col-xs-8"><input type="button" class="btn btn-success" ng-click="snapshot()" value="Snapshot"></div></div><h2>Snapshots</h2><div><div class="col-md-2 col-sm-2 col-xs-2">Date</div><div class="col-md-2 col-sm-2 col-xs-2">Student</div><div class="col-md-3 col-sm-3 col-xs-3">App</div><div class="col-md-2 col-sm-2 col-xs-2">Label</div><div class="col-md-3 col-sm-3 col-xs-3">Actions</div></div><div class="row" ng-repeat="snapshot in snapshots"><div class="col-md-2 col-sm-2 col-xs-2">{{ snapshot.timestamp | date:\'yyyy-MM-dd HH:mm:ss\'}}</div><div class="col-md-2 col-sm-2 col-xs-2">{{ getStudentName(snapshot.studentId) }}</div><div class="col-md-3 col-sm-3 col-xs-3">{{ appIdName(snapshot.appId) }}</div><div class="col-md-2 col-sm-2 col-xs-2">{{ snapshot.label }}</div><div class="col-md-3 col-sm-3 col-xs-3"><input type="button" class="btn btn-success" ng-click="delete(snapshot);" value="Delete"> <input type="button" class="btn btn-success" ng-click="restore(snapshot);" value="Restore"></div></div></div>')}]),angular.module("/views/accounts/partials/trialNotification.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/trialNotification.html",'<div class="row" id="trialNotification" ng-controller="TrialNotificationCtrl"><div ng-if="!hasTrialExpired() && hasStartedTrial()">Your Motion Math Pilot has started.<br>Sign in with your access code <span class="accessCode">{{accessCode}}</span> <span ng-if="hasIpads()">on our apps or</span> at <a target="_blank" href="http://play.motionmathgames.com">play.motionmathgames.com</a>.</div><div ng-if="!hasTrialExpired() && hasSetFutureTrialStartDate()">Your Motion Math pilot starts on {{ trialStartDisplay() }}.<br>Sign in with your access code <span class="accessCode">{{accessCode}}</span> <span ng-if="hasIpads()">on our apps or</span> at <a target="_blank" href="http://play.motionmathgames.com">play.motionmathgames.com</a>.</div><div ng-if="hasTrialExpired()">Alas, your trial has expired. <a ng-click="goTo(\'/account/account\')">Please subscribe!</a><br><span class="italic-text">(We’d love to give you access forever, but our small team can’t make delightful, instructional games for free!)</span></div></div>')}]),angular.module("/views/accounts/partials/updateRosterBar.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/updateRosterBar.html",'<div class="row" id="updateRosterBar" ng-controller="UpdateRosterBarCtrl"><span class="desc">Welcome back to school! Do you want to update last year\'s rosters?</span> <button ng-if="schoolCount == 1 && !teacherSrvc.isDistrictLevel()" class="pill-button orange autoHeight auto" ng-click="updateRosters(teacherSrvc.getInstitution().schoolName)">Update Rosters</button> <button ng-if="schoolCount > 1 || teacherSrvc.isDistrictLevel()" class="pill-button orange autoHeight auto" mm-popover template="updateSchoolsList.html" relative-position="bottom" height-offset="8" css-class="updateSchools">Update Rosters</button> <button class="dismiss" ng-click="dismiss()">Dismiss</button><script type="text/ng-template" id="updateSchoolsList.html"><button ng-repeat="(schoolName, teachers) in teachersBySchool" ng-if="!areAllUpdated(teachers)" class="pill-button teal autoHeight" ng-click="updateRosters(schoolName)">{{schoolName}}</button></script><script type="text/ng-template" id="confirmSingleTeacher.html"><div class="modal-header">\n            <span class="modal-title">Is your information still correct?</span>\n            <button class="glyphicon glyphicon-remove" ng-click="close()"></button>\n        </div>\n        <div class="modal-content-mm margin-top-20">\n            <div class="row">\n                <div class="col-sm-3 align-right">Role</div>\n                <div class="col-sm-9">\n                    <select ng-options="role as role for role in roles" ng-model="teachers[0].settings.role"></select>\n                </div>\n            </div>\n            <div class="row margin-top-10" ng-if="teachers[0].settings.role == \'Classroom teacher\' || teachers[0].settings.role == \'Special ed teacher\' || teachers[0].settings.role == \'Tutor\'">\n                <div class="col-sm-3 align-right">Grade</div>\n                <div class="col-sm-9">\n                    <select ng-options="grade as grade for grade in gradeLevels" ng-model="teachers[0].settings.gradeLevel"></select>\n                </div>\n            </div>\n            <div class="text-center margin-top-30">\n                <button class="pill-button teal autoHeight auto" ng-click="confirm()">Save and Continue</button>\n            </div>\n        </div></script></div>')}]),angular.module("/views/accounts/partials/user-settings-menu.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/user-settings-menu.html",'<div id="user-settings" dropdown-menu="dropdownSettings"></div>')}]),angular.module("/views/accounts/partials/yourAccount.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/partials/yourAccount.html",'<div id="account-navbar" class="account-navbar"><div ng-if="!isParentGuardian()"><div class="text-left col-md-3"><div id="gamesTab" class="play-games account-navbar-cell acccount-navbar-cell-left" ng-class="{\'account-navbar-selected\': selectedTemplate==\'games\'}"><a ng-click="goTo(\'/account/games\')">Play Games</a></div></div><div class="text-right"><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': selectedTemplate==\'updateRosters\'}" class="text-right" ng-if="hasSuperpowers"><a ng-click="goTo(\'/account/updateRosters\')">Update Rosters</a></div><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': selectedTemplate==\'studentData\'}" ng-if="hasSuperpowers"><a ng-click="goTo(\'/account/studentData\')">Student Data</a></div><div ng-if="!hasAtLeastUnverifiedRights()" class="inline-block"><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': selectedTemplate==\'playtime\'}"><a ng-click="goTo(\'/account/playtime\')">Playtime</a></div><div class="account-navbar-cell" ng-class="{ \'account-navbar-selected\': selectedTemplate==\'dashboard\' }"><a ng-click="goTo(\'/account/dashboard\')">Skills Progress</a></div><div class="account-navbar-cell" ng-class="{ \'account-navbar-selected\': selectedTemplate==\'factorsOfLearning\' }"><a ng-click="goTo(\'/account/factorsOfLearning\')">Factors of Learning</a></div></div><div ng-if="hasAtLeastUnverifiedRights()" class="inline-block"><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': (selectedTemplate==\'adminView\' && selectedTab==\'playtime\')}"><a ng-click="goTo(\'/account/adminView\', {tab: \'playtime\'})">Playtime</a></div><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': (selectedTemplate==\'adminView\' && selectedTab==\'progress\')}"><a ng-click="goTo(\'/account/adminView\', {tab: \'progress\'})">Skills Progress</a></div><div class="account-navbar-cell" ng-class="{ \'account-navbar-selected\': selectedTemplate==\'adminView\' && selectedTab==\'factors\' }"><a ng-click="goTo(\'/account/adminView\', {tab: \'factors\'})">Factors of Learning</a></div></div></div></div><div ng-if="isParentGuardian()"><div class="account-navbar-cell" ng-class="{\'account-navbar-selected\': selectedTemplate==\'progress\'}"><a ng-click="goTo(\'/account/progress\')">Progress</a></div></div></div>')}]),angular.module("/views/accounts/pay.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/pay.html",'<div class="container pageWidth"><div ng-include="\'/views/accounts/partials/accountsHeader.html\'"></div><div class="row col-md-10 col-md-offset-2 col-sm-12 logoOffset margin-top-20"><div class="signup-title row text-center padding-bottom-15"><div ng-show="processing" class="col-sm-8">Processing...</div><div ng-show="success" class="col-sm-8">Thank you for your purchase.<br>You will soon get a confirmation from support@motionmathgames.com.</div><div ng-show="error" class="col-sm-8">We\'re sorry, we had a problem processing your transaction. You can contact us at <a href="mailTo:support@motionmathgames.com">support@motionmathgames.com</a>.</div></div><form name="paymentForm" novalidate ng-show="showEntry"><div class="row padding-bottom-15"><div class="col-md-4 col-sm-4 col-xs-4 label-text-md label-text-sm label-text-xs align-right">Your email: <span class="requiredLabel" ng-if="paymentForm.email.$invalid">required</span></div><div class="col-md-8 col-sm-8 col-xs-8"><span class="label-text-md label-text-sm label-text-xs" ng-show="!success"><input type="email" required ng-model="email" name="email"> </span><span class="label-text-md label-text-sm label-text-xs" ng-show="success">{{email}} </span><span class="fieldError" ng-show="paymentForm.email.$error.email">Not a valid email address</span></div></div><div class="row padding-bottom-15"><div class="col-md-4 col-sm-4 col-xs-4 label-text-md label-text-sm label-text-xs align-right">Your total purchase amount: <span class="requiredLabel" ng-if="paymentForm.amount.$invalid">required</span></div><div class="col-md-8 col-sm-8 col-xs-8"><span class="label-text-md label-text-sm label-text-xs" ng-show="!success"><input type="text" required name="amount" ng-model="amount" ng-currency> </span><span class="label-text-md label-text-sm label-text-xs" ng-show="success">{{amount | currency:"$"}} </span><span class="fieldError" ng-show="amount <= 0">Please enter a positive amount</span></div></div><div class="row padding-bottom-15"><div class="col-md-4 col-sm-4 col-xs-4 label-text-md label-text-sm label-text-xs align-right">Note (optional):</div><div class="col-md-8 col-sm-8 col-xs-8"><span class="label-text-md label-text-sm label-text-xs" ng-show="!success"><textarea name="note" ng-model="note"></textarea></span><span class="label-text-md label-text-sm label-text-xs" ng-show="success">{{note}}</span></div></div><div class="row"><div class="col-sm-4 col-sm-offset-2 text-center" ng-show="!success"><button class="pill-button teal" style="width:235px" ng-click="checkout()" ng-disabled="!(paymentForm.$valid && amount > 0)" type="button">Proceed to checkout</button></div></div></form></div></div><!-- Chat script --><div ng-include="\'/views/accounts/partials/chat.html\'"></div>')}]),angular.module("/views/accounts/playtimeTab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/playtimeTab.html",'<div ng-controller="PlaytimeController"><for-rosters teacher-id="teacherId" template-body="/views/accounts/partials/playtimeBody.html" template-top-left="/views/accounts/partials/ireadyTopLeft.html" template-top-middle="/views/accounts/partials/ireadyTopMiddle.html" template-bottom-middle="/views/accounts/partials/ireadyBottomMiddle.html" template-right="/views/accounts/partials/ireadyRight.html"></for-rosters></div>')}]),angular.module("/views/accounts/printRoster.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/printRoster.html",'<div id="print-rosters" ng-controller="PrintRosterCtrl"><table class="printable-table" ng-repeat="roster in rosters"><thead><tr><th class="header-1" colspan="2"><img class="logo" alt="" src="images/MM/Logo.png">{{roster.name}}<tr><th class="header-2" colspan="2">Picure Passwords - please keep private<tbody><tr ng-repeat="row in roster.tableRows"><td><div class="contents"><div class="text">{{row.first.name}}</div><div class="images" ng-if="row.first.password"><img alt="" src="{{\'/images/passwordArt/\' + row.first.password.one + \'.png\'}}"> <img alt="" src="{{\'/images/passwordArt/\' + row.first.password.two + \'.png\'}}"> <img alt="" src="{{\'/images/passwordArt/\' + row.first.password.three + \'.png\'}}"></div><div class="images" ng-if="!row.first.password"><span class="no-pw">No password set</span><div class="placeholder"></div><div class="placeholder"></div><div class="placeholder"></div></div></div><td><div class="contents" ng-if="(row.second.name)"><div class="text">{{row.second.name}}</div><div class="images" ng-if="row.second.password"><img alt="" src="{{\'/images/passwordArt/\' + row.second.password.one + \'.png\'}}"> <img alt="" src="{{\'/images/passwordArt/\' + row.second.password.two + \'.png\'}}"> <img alt="" src="{{\'/images/passwordArt/\' + row.second.password.three + \'.png\'}}"></div><div class="images" ng-if="!row.second.password"><span class="no-pw">No password set</span><div class="placeholder"></div><div class="placeholder"></div><div class="placeholder"></div></div></div></table></div>')}]),angular.module("/views/accounts/resetPassword.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/resetPassword.html",'<div ng-controller="ResetPasswordCtrl"><div class="row signup-instructions text-center padding-bottom-20"><div class="col-md-8 col-md-offset-2"><span ng-if="!errorSet && !errorReset && showPasswordField && !showEmailField">Create your new password </span><span ng-if="!errorSet && !errorReset && showPasswordField && showEmailField">Please create a password for your dashboard: </span><span ng-if="!errorSet && !errorReset && !success && !showPasswordField">Please enter your email address </span><span ng-if="errorSet && !success">We were unable to reset your password using this URL. Please check your email for the correct link and try again. </span><span ng-if="errorReset && !success">Hmm, sorry we don&apos;t have an account with that email.<div style="height:12px"></div>Did you mean to <a href="/#/signup">Sign Up?</a><br><br><br></span><span ng-if="success">An email was sent to {{credentials.email}}.<br>Please check your email and follow the instructions.<br><br>If you didn\'t receive the email, please check your junk or spam folder.<br>If you don\'t have access to your email account, please contact support@motionmathgames.com.</span></div></div><form name="resetForm" novalidate ng-if="!success"><div class="row padding-bottom-15" ng-if="!showPasswordField || showEmailField"><div class="col-md-5 col-sm-5 col-xs-4 label-text-md label-text-sm label-text-xs align-right">Email:</div><div class="col-md-7 col-sm-7 col-xs-8"><span class="label-text-md label-text-sm label-text-xs"><input required type="text" class="credentialsField" ng-model="credentials.email" ng-pattern="emailRegex" name="email" ng-disabled="emailIsReadOnly"></span></div></div><div class="row padding-bottom-15" ng-if="showPasswordField"><div class="col-md-5 col-sm-5 col-xs-4 label-text-md label-text-sm label-text-xs align-right">Password: <span class="requiredLabel" ng-if="resetForm.password.$invalid">required, must be at least 6 characters</span></div><div class="col-md-7 col-sm-7 col-xs-8"><span class="label-text-md label-text-sm label-text-xs"><input required type="password" class="credentialsField" ng-minlength="6" ng-model="credentials.password" name="password"></span></div></div><div class="row padding-bottom-15" ng-if="showPasswordField"><div class="col-md-5 col-sm-5 col-xs-4 label-text-md label-text-sm label-text-xs align-right">Repeat Password: <span class="requiredLabel" ng-if="resetForm.passwordConfirm.$invalid && !(resetForm.passwordConfirm.$viewValue.length > 4 && resetForm.passwordConfirm.$error.match)">required</span> <span class="requiredLabel" ng-show="resetForm.passwordConfirm.$viewValue.length > 4 && resetForm.passwordConfirm.$error.match">Passwords don\'t match!</span></div><div class="col-md-7 col-sm-7 col-xs-8"><span class="label-text-md label-text-sm label-text-xs"><input required type="password" class="credentialsField" ng-minlength="6" match="credentials.password" ng-model="credentials.passwordConfirm" ng-disabled="resetForm.password.$invalid" name="passwordConfirm"></span></div></div><div class="row padding-bottom-15 col-md-offset-9 col-sm-offset-8 col-xs-offset-7"><button class="pill-button teal auto" ng-click="submit()" ng-disabled="!resetForm.$valid" type="button">Submit</button></div></form></div>')}]),angular.module("/views/accounts/rosterTab.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/rosterTab.html",'<div ng-controller="RosterCtrl"><roster teacher-id="{{user.id}}"></roster></div>')}]),angular.module("/views/accounts/settings.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/settings.html",'<div id="settings" ng-controller="SettingsCtrl"><h1 class="h3 text-center font-weight-bold"><strong>Settings</strong></h1><form name="settingsForm" novalidate class="form-horizontal credentials-page"><div ng-class="{\'deviceHeader\' : deviceSignup }"></div><div class="settingsForm credentialsForm" ng-if="!isUserSignupComplete() || isEducator()"><div class="row signup-instructions text-center padding-bottom-20 margin-top-20" ng-if="!isUserSignupComplete() && !isParentMigrated && !deviceSignup">{{ salutationName }}, tell us a bit more about you:</div><div class="row signup-instructions text-center padding-bottom-20 margin-top-20" ng-if="!isUserSignupComplete() && isParentMigrated">Welcome back! Parent subscriptions are finally here! Let\'s get you started.</div><div class="form-group" ng-show="isUserSignupComplete()"><label class="control-label col-sm-4" for="homeAccessCode">Your access code:</label><div class="col-sm-8 col-xs-12" id="accessCode">{{ loginCode }}</div></div><div class="form-group" ng-show="isUserSignupComplete() && subscription.plan == platinum && !isExpired()"><label class="control-label col-sm-4" for="homeAccessCode">Your home access code: <span class="sub-label">(to share with parents)</span></label><div class="col-sm-8 col-xs-12" id="homeAccessCode">{{ loginCode + parentAccessCodeSuffix }}</div></div><div class="form-group" ng-if="isUserSignupComplete() || showFirstName || isParent()"><label class="control-label col-sm-4" for="firstName"><span class="asterisk" ng-if="settingsForm.firstName.$invalid">* </span>First name:</label><div class="col-sm-8 col-xs-12"><input id="firstName" required type="text" ng-model="settings.mmFirstName" name="firstName"></div></div><div class="form-group" ng-if="isUserSignupComplete() || showLastName || isParent()"><label class="control-label col-sm-4" for="lastName"><span class="asterisk" ng-if="settingsForm.lastName.$invalid">* </span>Last name:</label><div class="col-sm-8 col-xs-12"><input id="lastName" required type="text" ng-model="settings.mmLastName" name="lastName"></div></div><div class="form-group"><label class="control-label col-sm-4" for="role"><span class="asterisk" ng-if="settingsForm.role.$invalid">* </span>I\'m a:</label><div class="col-sm-8 col-xs-12"><mm-dropdown class="mm-dropdown" required ng-change="roleUpdated()" ng-disabled="isUserSignupComplete() && subscription.plan !== \'trial\' && !hasSuperpowers" name="role" ng-model="settings.role" id="role" data="roleOptions"></mm-dropdown></div></div><div class="form-group"><label class="control-label col-sm-4" for="country"><span class="asterisk" ng-if="settingsForm.role.$invalid">* </span>Your Country:</label><div class="col-sm-8 col-xs-12"><mm-dropdown class="mm-dropdown" required ng-change="updateCountry(settings.country)" ng-model="settings.country" name="country" id="country" data="countryList"></mm-dropdown></div></div><div class="form-group" ng-if="!isUserSignupComplete() && showInstitution && settings.role && nonInstitutionRoles.indexOf(settings.role) == -1 "><label class="control-label col-sm-4" for="institution"><span class="asterisk" ng-if="settingsForm.institution.$invalid">* </span>Your {{institutionType}}:</label><div class="col-sm-8 col-xs-12"><div institution-search type="institutionType" id="institution" required name="institution" ng-model="institution" user="user" ng-change="selectInstitution" class="searchBarWithDropdown"></div></div></div><div class="form-group" ng-if="settings.role==\'Classroom teacher\' || (isUserSignupComplete() && (settings.role==\'Special ed teacher\' || settings.role==\'Tutor\'))"><label class="control-label col-sm-4" for="gradeLevel"><span class="asterisk" ng-if="settingsForm.grade.$invalid">* </span>Grade level:</label><div class="col-sm-8 col-xs-12"><mm-dropdown class="mm-dropdown" required ng-change="gradeLevelUpdated()" ng-model="settings.gradeLevel" name="grade" id="gradeLevel" data="gradeLevels"></mm-dropdown></div></div><div class="form-group" ng-if="settings.role==\'Classroom teacher\' || settings.role==\'Special ed teacher\'"><label class="control-label col-sm-4"></label><div class="col-sm-8 col-xs-12"><table><tr><td><div class="checkbox small" ng-click="startCoTeacher()" ng-class="{slightlyOpaque: !startedCoTeacher && coTeacher}"><i ng-if="coTeacher" class="glyphicon glyphicon-ok"></i></div><td class="font-14 padding-left-10">There are multiple teachers for this classroom</table><div ng-if="coTeacherError" class="fontRed margin-top-10">{{coTeacherError}}</div><div ng-if="coTeacherSaved" class="fontGreen margin-top-10">Success! We sent an invitation to {{ coTeacher.firstName }} {{ coTeacher.lastName }} to join your account.</div></div></div><div class="form-group" ng-if="coTeacher"><label class="control-label col-sm-4" for="coTeacherEmail"><span class="asterisk" ng-if="settingsForm.coTeacherEmail.$invalid">* </span>Co-teacher\'s email: <span class="sub-label">(We will link your accounts together)</span></label><div class="col-sm-8 col-xs-12"><input id="coTeacherEmail" ng-disabled="!startedCoTeacher" required type="email" ng-model="coTeacher.email" name="coTeacherEmail" ng-pattern="emailRegex"></div></div><div class="form-group" ng-if="coTeacher"><label class="control-label col-sm-4" for="coTeacherFirstName"><span class="asterisk" ng-if="settingsForm.coTeacherFirstName.$invalid">* </span>First Name</label><div class="col-sm-8 col-xs-12"><input id="coTeacherFirstName" ng-disabled="!startedCoTeacher" required type="text" ng-model="coTeacher.firstName" name="coTeacherFirstName"></div></div><div class="form-group" ng-if="coTeacher"><label class="control-label col-sm-4" for="coTeacherLastName"><span class="asterisk" ng-if="settingsForm.coTeacherLastName.$invalid">* </span>Last Name</label><div class="col-sm-8 col-xs-12"><input id="coTeacherLastName" ng-disabled="!startedCoTeacher" required type="text" ng-model="coTeacher.lastName" name="coTeacherLastName"></div></div><div class="form-group" ng-if="(isEducator() && isUserSignupComplete()) || fixDeviceSignup()"><label class="control-label col-sm-4" for="standards"><span class="asterisk" ng-if="settingsForm.standards.$invalid && fixDeviceSignup()">* </span>Math standards:</label><div class="col-sm-8 col-xs-12"><mm-dropdown class="mm-dropdown" required ng-model="settings.standards" name="standards" id="standards" data="standardsOptions" bind-field="value" label-field="label"></mm-dropdown></div></div><div class="form-group" ng-show="isEducator() && isUserSignupComplete()"><label class="control-label col-sm-4" for="access"><span class="asterisk" ng-if="settingsForm.iPadImpl.$invalid">* </span>Access to iPads:</label><div class="col-sm-8 col-xs-12"><mm-dropdown class="mm-dropdown" required name="iPadImpl" ng-model="settings.iPadImplementation" id="access" label-field="label" bind-field="value" data="implementationOptions"></mm-dropdown></div></div><div class="form-group" ng-if="(!(settings.role==\'School administrator\' || settings.role==\'District administrator\') && isUserSignupComplete()) && isEducator()"><label class="control-label col-sm-4" for="passwords">Want to verify student sign in? <span class="sub-label">(requires wifi)</span></label><div class="col-sm-8 col-xs-12"><mm-dropdown class="mm-dropdown" required name="studentPasswords" ng-model="settings.studentPasswords" id="passwords" label-field="label" bind-field="value" data="studentPasswordOptions"></mm-dropdown></div></div><div class="row padding-bottom-15" ng-show="isUserSignupComplete() && showDataSyncVersion"><div class="col-sm-4 align-right">Data Sync Version:</div><div class="col-sm-8 col-xs-12">v{{ settingsVersion }},{{ rosterVersion }},{{ subscriptionVersion }}</div></div><div class="row padding-bottom-15 text-center" ng-if="!isParentCreatingRoster()"><button class="pill-button teal narrow" ng-click="goNext(hasSuperpowers)" ng-disabled="!(settingsForm.$valid && showNextButton)" type="button">Save</button></div></div><!-- PARENT SETTINGS UI --><div class="parent-settings" ng-if="isUserSignupComplete() && isParent()"><div class="row"><div class="box col-xs-6 col-xs-offset-3 text-center access-code-label">Your access code: <span class="access-code">{{ loginCode }}</span></div></div><div class="row"><div class="box col-xs-6 col-xs-offset-3 parent-roster"><div class="row parentRosterSettings"><div class="col-xs-8 col-xs-offset-2 text-center signup-instructions padding-bottom-10">Family Members using Motion Math</div><div class="col-xs-2 align-right"><button ng-hide="isEditingRoster" ng-click="editRoster()" class="glyphicon glyphicon-pencil editButton"></button> <button ng-show="isEditingRoster" ng-disabled="!isValidRoster" ng-click="saveRoster()" class="glyphicon glyphicon-ok flat-button teal"></button></div></div><parent-roster edit-mode="isEditingRoster" is-valid="isValidRoster" children="children"></parent-roster></div></div><div class="row"><div class="box col-xs-6 col-xs-offset-3"><div class="row payment-row text-center">Access to Motion Math will end on <span class="exp-date">June 20, 2020</span>,<br>after which it will no longer be available.</div></div></div></div></form></div><div ng-if="isUserSignupComplete() && !isExpired()" class="row margin-top-100"><div class="col-sm-4 col-sm-offset-4 text-center" ng-if="clearDevicesView.button"><button class="pill-button teal short" ng-click="clearDevicesView.confirmation=true;clearDevicesView.button=false">Reset All Devices</button></div><div ng-class="{\'alert-danger\': clearDevicesView.confirmation, \'alert-success\':clearDevicesView.finished}" class="resetDevicesWarning col-sm-offset-4 text-center label-text-md col-sm-4" ng-if="clearDevicesView.confirmation || clearDevicesView.finished"><div class="content" ng-if="clearDevicesView.confirmation">Are you sure you want to reset? (You can only do this once a month.)<div class="row"><div class="col-md-6 text-center margin-top-10"><button class="pill-button orange small narrow" ng-click="clearDevicesView.confirmation=false;clearDevicesView.button=true">No</button></div><div class="col-md-6 text-center margin-top-10"><button class="pill-button teal small narrow" ng-click="clearDevices();clearDevicesView.confirmation=false;clearDevicesView.finished=true">Yes</button></div></div></div><button ng-if="clearDevicesView.finished" type="button" class="close margin-top-10" aria-label="Close" ng-click="clearDevicesView.finished=false"><span aria-hidden="true">&times;</span></button><div class="content" ng-if="clearDevicesView.finished">Devices have been reset. You can now sign into the Educator app with your access code (shown at top of this page).</div></div></div><script type="text/ng-template" id="cancelSubscriptionConfirmation.html"><div ng-show="!cancelled">\n        <div class="padding30 text-center modal-title">Are you sure you want to cancel your subscription?</div>\n        <div class="text-center">Please take a minute to tell us why:\n            <textarea ng-model="reason" rows="4" cols="50" placeholder="Optional"></textarea>\n        </div>\n        <div class="text-center padding-top-4">\n            <button class="pill-button red auto" ng-click="cancelSubscription()">Cancel it</button>\n            <button class="pill-button teal auto" ng-click="keepSubscription()">Keep my subscription!</button>\n        </div>\n    </div>\n    <div ng-show="cancelled">\n        <div class="padding30 text-center modal-title">Your subscription has been canceled.</div>\n        <div class="text-center">You will still be able to access your account until <b>{{expirationDate()}}.</b></div>\n        <div class="text-center padding-top-20">\n            <button class="pill-button teal auto" ng-click="close()">Ok</button>\n        </div>\n    </div></script>')}]),angular.module("/views/accounts/setup.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/setup.html",'<div id="setupPage" ng-controller="SetupController"><div class="row margin-top-20 hidden-xs"><div class="col-sm-12"><table class="table table-striped setupTable"><tr><td class="checkboxCol"><div class="checkbox"><i class="glyphicon glyphicon-ok"></i></div><td class="textCol">Create account<td class="goCol"><tr ng-if="!hasAtLeastUnverifiedRights()"><td class="checkboxCol"><div class="checkbox" ng-click="setup.rosterFinished=!setup.rosterFinished"><i class="glyphicon glyphicon-ok" ng-if="setup.rosterFinished"></i></div><td class="textCol" ng-if="!isParentGuardian()">Load your roster with names <span class="requiredLabel">Optional</span><td class="textCol" ng-if="isParentGuardian()">Add the kids to the roster<td class="goCol"><a class="pill-button teal narrow" ng-click="goTo(\'/account/roster\')" ng-if="!setup.rosterFinished">GO</a><tr ng-if="hasAtLeastUnverifiedRights()"><td class="checkboxCol"><div class="checkbox" ng-click="setup.addedTeachers=!setup.addedTeachers"><i class="glyphicon glyphicon-ok" ng-if="setup.addedTeachers"></i></div><td class="textCol">Create accounts for teachers <span class="requiredLabel">Optional</span><td class="goCol"><a class="pill-button teal narrow" ng-click="goTo(\'/account/adminView\', {tab: \'roster\'})" ng-if="!setup.addedTeachers">GO</a><tr><td class="checkboxCol"><div class="checkbox" ng-click="setup.appsFinished=!setup.appsFinished"><i class="glyphicon glyphicon-ok" ng-if="setup.appsFinished"></i></div><td class="textCol">If you’re using iPads, go to the App Store and download <span ng-repeat="appInfo in appLinks"><a ng-href="{{appInfo.link}}" target="_blank">{{appInfo.name}}</a><span ng-if="!$last">&nbsp;and&nbsp;</span></span><br><span ng-if="!isParentGuardian()">OR <a ng-href="{{emailLink}}">send an email</a> to your IT person with links</span> <span class="requiredLabel">Optional</span><td class="goCol"><button class="pill-button teal narrow" ng-if="!setup.appsFinished" ng-click="openLinks()">GO</button></table></div></div><div class="hidden-sm hidden-md hidden-lg"><div class="row text-center"><img alt="Motion Math Games" class="MMLogoLarge" ng-src="images/MM/Logo.png"></div><div class="margin-top-50 margin-bottom-50 row text-center italic-text" ng-if="!subscription.trialStartDate"><div class="col-xs-10 col-xs-offset-1 font-18">Pick a pilot start date to begin learning with Motion Math.</div></div><div class="margin-top-20 margin-bottom-20 text-center font-18" ng-if="subscription.trialStartDate"><div class="gibsonSemibold">Woohoo - you\'re signed up! Now:</div><div class="margin-top-20">Download apps onto your iPads</div><div class="italic-text"><div ng-repeat="appInfo in appLinks">{{appInfo.name}}</div></div><div class="margin-top-20">On the web, copy & paste your roster</div><div class="margin-top-20">Then, login with access code: {{ clientData.loginCode }}</div></div></div><div class="row text-center margin-top-20" ng-if="!isParentGuardian()"><button class="pill-button orange autoHeight dateButton" ng-click="startTrialOrChangeDate()"><div ng-if="!subscription.trialStartDate">Start my 14 day pilot!</div><div ng-if="subscription.trialStartDate"><div class="text-uppercase">Pilot Starts: {{ displayDate(subscription.trialStartDate) }}</div><div class="subText">(Tap to change this date)</div></div></button></div><div class="row text-center margin-top-20" ng-if="!isParentGuardian() && !subscription.trialStartDate"><a href="" ng-click="openCalendar()">Schedule for later</a></div><script type="text/ng-template" id="trialStartCalendar.html"><div class="trialStartCalendar padding10">\n            <div class="row headerRow">\n                <div class="col-sm-12 text-center">\n                    Select your pilot start date\n                </div>\n                <div class="closeX glyphicon glyphicon-remove" ng-click="close()"></div>\n            </div>\n            <div class="row text-center margin-top-20">\n                <div class="datepicker">\n                    <datepicker ng-model="selectedDay" show-weeks="false" custom-class="classForDate(date)" min-date="today" max-date="maxDate"></datepicker>\n                </div>\n            </div>\n            <div class="row text-center margin-top-20">\n                <button class="pill-button orange dateButton autoHeight text-uppercase" ng-click="saveDate(selectedDay)">\n                    START 14 DAY PILOT\n                    <div class="" ng-if="isToday(selectedDay)">\n                        TODAY\n                    </div>\n                    <div class="" ng-if="!isToday(selectedDay)">\n                        {{ displayDate(selectedDay) }}\n                    </div>\n                </button>\n            </div>\n        </div></script></div>');
}]),angular.module("/views/accounts/signin.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/signin.html",'<div class="container pageWidth credentials-page"><div ng-include="\'/views/accounts/partials/accountsHeader.html\'"></div><div ng-class="{\'deviceHeader\' : deviceSignin }"></div><div class="row logoOffset margin-top-20 signup-title text-center"><div class="col-md-offset-1 col-md-10 col-xs-offset-0 col-xs-12">Sign in to your Motion Math account</div></div><div class="row margin-top-20" ng-if="!deviceSignin"><div class="text-center"><button class="googleSigninButton" ng-click="googleSignin()"></button></div></div><div class="row margin-top-20" ng-if="!deviceSignin"><div class="text-center label-text-md">- or -</div></div><div class="margin-top-20"><form novalidate name="signInForm" class="form-horizontal credentialsForm"><div class="form-group"><label class="control-label col-sm-4" for="email">Email:</label><div class="col-sm-8"><input required type="email" id="email" class="credentialsField" ng-model="credentials.email" name="email" autocorrect="off" autocapitalize="off"></div></div><div class="form-group"><label class="control-label col-sm-4" for="password">Password:</label><div class="col-sm-8"><input required type="password" id="password" class="credentialsField" ng-model="credentials.password" name="password"></div></div><div class="row padding-bottom-10" ng-if="signinError"><div class="col-sm-8 col-sm-offset-2 text-center"><div class="text-danger">Your email and/or password did not match our records.<br><span ng-if="!deviceSignin">Note: If you created your account using Google or Edmodo, please sign in using the appropriate button above.</span> <span ng-if="deviceSignin">Note: If you created your account using Google, <a href="javascript:void(0)" ng-click="googleSignin()">click here</a> to sign in.</span></div></div></div><div class="row"><div ng-class="{\'signupFlow\' : deviceSignin }" class="col-sm-10 col-sm-offset-1 text-center"><a ng-if="deviceSignin" ng-click="deviceBack()">&lt; Back</a><button ng-click="emailSignIn()" class="pill-button teal auto next-button-text" ng-disabled="!signInForm.$valid">Sign In</button></div></div></form><div class="row text-center label-text-md margin-top-10" ng-if="!deviceSignin"><a href="/#/signup/reset">Need help signing in?</a></div><div class="row text-center label-text-md italic-text" ng-if="!deviceSignin"><hr width="125"><a href="{{iReadyLoginUrl}}">Are you an i-Ready educator?</a></div></div></div><!-- Chat script --><div ng-include="\'/views/accounts/partials/chat.html\'"></div>')}]),angular.module("/views/accounts/signup.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/signup.html",'<!-- Status --><div ng-include="statusTemplate.url"></div><div class="container pageWidth"><div ng-include="\'/views/accounts/partials/accountsHeader.html\'"></div><div ng-include="template.url" class="logoOffset margin-top-20"></div></div><!-- Chat script --><div ng-include="\'/views/accounts/partials/chat.html\'"></div>')}]),angular.module("/views/accounts/studentData.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/studentData.html",'<div ng-controller="StudentsViewCtrl" class="zpcPage"><div class="row text-center"><div class="col-sm-5 text-right"><select ng-model="selectedView" ng-change="accountsData.separateHFModes = selectedView!=\'Hungry Fish\'"><option value="">Select View<option ng-repeat="(gameKey, game) in games" value="{{game.appContext}}">{{game.appContext}}<option value="rawData">Raw Data</select></div><div class="col-sm-5 text-left col-sm-offset-2"><select ng-model="data.student" ng-options="(student.firstName + \' \' + student.lastName) for student in roster"><option value="">Student Name</select></div></div><div ng-if="selectedView && data.student && selectedView!=\'rawData\'"><div class="row" ng-if="lodash.find(appUsages, {appUnit:selectedView})"><div class="col-sm-6 text-right"><zpc-legend zpc-style="sally"></div><div class="col-sm-6 margin-top-20" ng-if="selectedView==\'Hungry Fish\'"><input type="checkbox" ng-model="accountsData.separateHFModes"> Separate Modes</div></div><div class="row" ng-repeat="appUsage in appUsages" ng-if="appUsage.appUnit==selectedView"><div class="col-md-6 col-sm-8 text-right"><zpc-chart datapoints="appUsage.levels" chart-title="appUsage.appUnit" box="500" interventions="appUsage.interventions" max-min="appUsage.maxMin" grouped-by-category="accountsData.separateHFModes" result-style="sally" time-windows="[\'allDays\']" selected-metric="accountsData.metric.value" categories="[\'uncategorized\']"></zpc-chart></div><div class="col-md-6 col-sm-4 text-left" ng-if="appUsage.appUnit == \'Hungry Fish\'"><div class="row"><h4>Factors of Learning</h4><success-factors factors="appUsage.motivationMetrics.factor" selectable="true" ng-model="accountsData.metric"></success-factors></div><student-play-history player="data.student" levels="appUsage.levels"></student-play-history></div></div><div ng-if="!lodash.find(appUsages, {appUnit:selectedView})">There is no data available for this user for {{selectedView}}</div></div><div ng-if="selectedView==\'rawData\'"><div class="row text-center"><div class="col-md-5 col-sm-5"><zpc-legend zpc-style="coram"></zpc-legend></div></div><div class="row" ng-repeat="appUsage in appUsages"><div class="col-md-5 col-sm-5 text-right"><zpc-chart datapoints="appUsage.levels" chart-title="appUsage.appUnit" box="400" max-min="appUsage.maxMin" interventions="appUsage.interventions" grouped-by-category="false" result-style="coram" categories="data.selectedCategoryTypes" time-windows="data.selectedTimeWindows" selected-metric="data.metric.value" rash-zpc="appUsage.rashZpc"></zpc-chart></div><div ng-if="appUsage.motivationMetrics"><div class="col-md-2 col-sm-2"><div class="row"><zpc-type-legend app-usage="appUsage"></div><div class="row">Factors of Learning<a class="btn btn-default btn-xs" ng-click="showMetrics = !showMetrics" style="margin-bottom: 10px; margin-left: 10px">{{showMetrics ? \'Hide Metrics\' : \'Show Metrics\' }}</a><success-factors factors="appUsage.motivationMetrics.factor"></success-factors></div><div class="row"><select ng-model="data.metric" ng-options="m.name for m in data.metrics"></select><label ng-repeat="timeWindow in data.timeWindows"><input type="checkbox" name="selectedTimeWindows[]" value="{{ timeWindow}}" ng-checked="data.selectedTimeWindows.indexOf(timeWindow) > -1" ng-click="toggleTimeWindowSelection(timeWindow)">{{ timeWindow }}</label><br><label ng-repeat="catType in data.categoryType"><input type="checkbox" name="selectedCategoryTypes[]" value="{{ catType }}" ng-checked="data.selectedCategoryTypes.indexOf(catType) > -1" ng-click="toggleCategoryType(catType)">{{ catType }}</label></div></div><div class="col-md-3 col-sm-3" ng-if="showMetrics">Primary Motivation Metrics<table border="1 "><tr><td>Metric<td>Last Day<td>Last 7 Days<td>All Time<tr ng-repeat="metric in appUsage.motivationMetrics.primary"><td>{{ metric.label }}<td ng-repeat="v in metric.values track by $index ">{{ v | number:2}}</table></div><div class="col-md-2 col-sm-2" ng-if="showMetrics">Secondary Motivation Metrics<table border="1 "><tr><td>Metric<td>Last Day<td>Last 7 Days<td>All time<tr ng-repeat="metric in appUsage.motivationMetrics.secondary "><td>{{ metric.label }}<td ng-repeat="v in metric.values track by $index">{{ v | number:2 }}</table></div></div></div></div></div>')}]),angular.module("/views/accounts/subscription.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/subscription.html",'<div ng-controller="SubscriptionCtrl"><get-quote school-name="formData.schoolName" district-name="formData.districtName" is-district-level="isDistrictLevel" case-sensitive-email="user.caseSensitiveEmail" is-authenticated="true"></div>')}]),angular.module("/views/accounts/unsupportedCountry.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/unsupportedCountry.html",'<div id="unsupportedCountry" class="parent-page-text"><div ng-class="{\'deviceHeader\' : deviceSignup }"></div><div class="text-center padding-bottom-20 margin-top-20">Unfortunately, because of recent changes to privacy laws, we are unable to offer a Motion Math subscription to educators or parents in your country. We apologize for the inconvenience.</div></div>')}]),angular.module("/views/accounts/updateRosters.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/updateRosters.html",'<div class="adminViewPage updateRosters" ng-controller="UpdateRostersCtrl" ng-switch on="STATE" ng-class="{isLoading: migratingRosters}"><loading-animation is-loading="migratingRosters" no-container="true"></loading-animation><div class="row text-center" ng-if="allSchools"><select ng-options="school.schoolName for school in allSchools | orderBy:[\'schoolName\']" ng-model="updates.school" ng-change="changeSchool({{updates.school}})"></select></div><div class="row"><div class="col-sm-3"><button class="pill-button small orange auto" ng-click="cancel()">Cancel</button></div><div class="col-sm-6 text-center"><div class="title">Updating {{updates.school.schoolName}}</div><div class="italic-text font-18">Click one or more students, then add them to a class.</div></div></div><div class="row margin-top-20 margin-bottom-40"><div class="col-sm-5 text-right"><button class="pill-button small short teal auto" ng-click="clearRosters()">Clear all rosters</button></div><div class="col-sm-5 col-sm-offset-2"><button class="pill-button small short teal auto" ng-click="update()">Done for all Grades</button></div></div><div class="schoolView"><div class="gradeView text-center"><button class="glyphicon glyphicon-triangle-left" ng-if="selectedGrade != gradeLevels[0]" ng-click="changeGrade(-1)"></button><div class="title" ng-if="selectedGrade !== \'Deactivated Students\'">Students in Grade {{selectedGrade}} (2015-2016)</div><div class="title" ng-if="selectedGrade == \'Deactivated Students\'">{{selectedGrade}} (2015-2016)</div><button class="glyphicon glyphicon-triangle-right" ng-if="selectedGrade != gradeLevels[gradeLevels.length-1]" ng-click="changeGrade(1)"></button></div><div class="teacherContent expanded row"><div class="col-sm-6" ng-repeat="student in filteredStudents() | orderBy:[\'firstName\', \'lastName\']" ng-class="{ \'selected\': isSelected(student) }"><div class="studentListItem" ng-class="{ \'leftCol\': $index % 2 == 0, \'hasRoster\': student.newRosters.length > 0 }" ng-click="selectStudent(student)"><span class="studentName">{{student.firstName}} {{student.lastName}}</span> <span class="rosterList" ng-if="student.newRosters.length > 0">(<span ng-repeat="rosterKey in student.newRosters">{{rosterKey}}<span ng-if="!$last">,</span></span>)</span></div></div><div class="col-sm-12 italic-text text-center padding-top-10" ng-if="filteredStudents().length > 0">Assigned Students: {{studentCountInRosters(filteredStudents())}} / {{filteredStudents().length}}</div><div class="col-sm-12 italic-text text-center" ng-if="filteredStudents().length == 0">There are no students in this grade.</div></div><div class="teacherView row" ng-repeat-start="teacher in updates.teachers | orderBy:[\'orderIndex\', \'teacherInfo.settings.gradeLevel\', \'teacherInfo.settings.role\', \'teacherInfo.firstName\', \'teacherInfo.lastName\']"><div class="col-sm-3 margin-top-10" ng-click="toggleContent(teacher)"><i class="collapseArrow glyphicon" ng-class="{\'glyphicon-triangle-right\': !teacher.showContent, \'glyphicon-triangle-bottom\': teacher.showContent}"></i> {{teacher.teacherInfo.firstName}} {{teacher.teacherInfo.lastName}}</div><div class="col-sm-3 margin-top-10 text-center" ng-click="toggleContent(teacher)">{{teacherTitle(teacher.teacherInfo.settings.role, teacher.teacherInfo.settings.gradeLevel)}}</div><div class="col-sm-3 margin-top-10 text-center" ng-click="toggleContent(teacher)">{{teacher.students.length}}<ng-pluralize count="teacher.students.length" when="{\'1\': \' student\',\'other\':\' students\'}"></ng-pluralize></div><div class="col-sm-3 align-right"><button class="pill-button orange small auto" ng-if="teacher.orderIndex == 0" ng-click="deactivateAll()" ng-disabled="selectedStudents.length == 0">Deactivate</button> <button class="pill-button blue small auto" ng-if="teacher.orderIndex != 0" ng-click="addAllToClass(teacher)" ng-disabled="selectedStudents.length == 0">Add to Class</button></div></div><div class="teacherContent row" ng-class="{\'expanded\': teacher.showContent}" ng-repeat-end><div ng-if="teacher.showContent"><div class="col-sm-6" ng-repeat="student in teacher.students | orderBy:[\'firstName\', \'lastName\']"><div class="studentListItem" ng-class="{ \'leftCol\': $index % 2 == 0 }"><div class="studentName">{{student.firstName}} {{student.lastName}}</div></div></div></div></div></div></div>')}]),angular.module("/views/accounts/validateEmail.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/validateEmail.html",'<div ng-controller="ValidateEmailCtrl"><div class="row signup-instructions text-center padding-bottom-20"><div class="col-md-8 col-md-offset-2"><span ng-if="!error">Validating... </span><span ng-if="error">This link has expired but we can send you a new one if you re-enter your email address and password at <a href="/#/signup">motionmathgames.com/signup</a>.</span></div></div></div>')}]),angular.module("/views/accounts/visualPassword.html",[]).run(["$templateCache",function(a){a.put("/views/accounts/visualPassword.html",'<div class="deviceWindow disable-text-selection" id="visualPasswordPage"><div class="header" ng-switch="page"><div ng-switch-when="rosters">Select Roster</div><div ng-switch-when="roster">Select Player <button ng-if="rosters.length > 1" class="pill-button blue auto small" ng-click="resetAll()">Back</button></div><div ng-switch-when="firstTimeLogin">Hi {{username}}!</div><div ng-switch-when="creation">Pick your<ng-pluralize count="creationStep" when="{\'1\':\' first \', \'2\':\' second \', \'3\':\' last \'}"></ng-pluralize>picture:</div><div ng-switch-when="beginTraining"><span>{{firstTraining ? \'Great!\' : \'You did it!\'}}</span></div><div ng-switch-when="sillySentence">Okay, remember your silly sentence.</div><div ng-switch-when="training">{{trainingStep == 1 ? \'W\' : \'Okay, w\'}}hat\'s your<ng-pluralize count="trainingStep" when="{\'1\':\' first \', \'2\':\' second \', \'3\':\' last \'}"></ng-pluralize>picture?</div><div ng-switch-when="endTraining">Good work, {{username}}!</div><div ng-switch-when="login" ng-class="{smallFont: loginStep===1 }" ng-show="loginStep < 4"><span ng-if="loginStep===1">Hi {{retrieving ? roster[0].firstName : username}}! </span>What\'s your<ng-pluralize count="loginStep" when="{\'1\':\' first \', \'2\':\' second \', \'3\':\' last \'}"></ng-pluralize>password picture?</div><div ng-switch-when="wrongPassword">Sorry {{retrieving ? roster[0].firstName : username}}.</div><div ng-switch-when="forgotPassword">{{username}}, please give your teacher your device</div><div ng-switch-when="teacherFailedRetrieval">Sorry, {{roster[0].firstName}}.</div><div ng-switch-when="startRetrieval">Hi {{ username }}!</div><div ng-switch-when="postLogin" ng-show="postLoginSignal===1">Hi {{ username }}.</div></div><div class="content" ng-switch="page" ng-class="{short: (page === \'roster\' || page === \'rosters\') && fromApp}"><loading-animation is-loading="loading"></loading-animation><div ng-switch-when="rosters"><div class="col-xs-6 text-center margin-top-10" ng-repeat="roster in rosters"><button class="rosterButton" ng-click="selectRoster(roster.rosterId)">{{roster.name}}</button></div></div><div ng-switch-when="roster"><div class="col-xs-6 text-center margin-top-10" ng-repeat="student in roster | orderBy:[\'lastName\', \'firstName\']"><button class="rosterButton" ng-click="selectPlayer(student)"><display-student student="student"></display-student></button></div></div><div ng-switch-when="firstTimeLogin"><div class="secondHeader margin-top-150">Ready to make your picture password?</div><table class="margin-top-10 text-center optionTable"><tr><td><button class="pill-button lightYellow fullWidth font-20" ng-click="wrongName()">Wait, I\'m not {{username}}!</button><td><button class="pill-button brightBlue fullWidth font-20" ng-click="startCreation()">Yes!</button></table></div><div ng-switch-when="creation"><div ng-show="!pausing && creationStep >= 1 && creationStep <= 3" class="pictureOptions"><div class="pic-container" ng-repeat="image in passwordImages[creationStep - 1]"><img class="password-pic select" src="" ng-src="/images/passwordArt/{{image}}.png" ng-click="creationSelect(image)"></div></div><div class="passwordContainer">Your password is:<div class="shown-password-container"><div ng-repeat="image in shownPassword" class="pic-container"><img class="password-pic display" src="" ng-src="/images/passwordArt/{{image}}.png"></div></div></div></div><div ng-switch-when="beginTraining"><div class="passwordContainer static margin-top-100">Your password is:<div class="shown-password-container"><div ng-repeat="image in shownPassword" class="pic-container"><img class="password-pic display" src="" ng-src="/images/passwordArt/{{image}}.png"></div></div></div><div ng-show="!retrieving && firstTraining" class="margin-top-20"><div class="row"><div class="col-xs-8 col-xs-offset-2 font-24 fontBlue text-center">Think of a silly sentence that connects these three pictures.</div></div><div class="row text-center margin-top-20" ng-show="hasSentenceButton"><button class="pill-button brightBlue auto" ng-click="sillySentencePageOn()">Okay, I have a silly sentence!</button></div></div><div ng-show="letsPracticeButton" class="row text-center margin-top20"><button class="pill-button brightBlue auto" ng-click="startTraining()">Let\'s Practice Again!</button></div></div><div ng-switch-when="sillySentence"><div ng-show="letsPracticeButton" class="margin-top-50 text-center"><button class="pill-button brightBlue wide" ng-click="startTraining()">Let\'s Practice!</button></div></div><div ng-switch-when="training"><div ng-show="!tryAgain && !pausing && trainingStep >= 1 && trainingStep <= 3" class="pictureOptions" ng-class="{\'margin-top-150\' : firstTraining}"><div class="pic-container" ng-repeat="image in trainingImages[trainingStep - 1]"><img class="password-pic select" src="" ng-src="/images/passwordArt/{{image}}.png" ng-click="trainingSelect(image)"></div></div><div ng-if="tryAgain" class="margin-top-200 text-center font-28 fontBlue">Try again!</div><div class="passwordContainer" ng-class="{higher: firstTraining}">Your password is:<div class="shown-password-container"><div ng-repeat="image in shownPassword" class="pic-container"><img class="password-pic display" src="" ng-src="/images/passwordArt/{{image}}.png"></div></div></div></div><div ng-switch-when="endTraining"><div class="passwordContainer static margin-top-100">Your password is:<div class="shown-password-container"><div ng-repeat="image in shownPassword" class="pic-container"><img class="password-pic display" src="" ng-src="/images/passwordArt/{{image}}.png"></div></div></div><div class="row margin-top-20"><div class="col-xs-8 col-xs-offset-2 text-center font-24 fontBlue">Don\'t tell anyone your password - that way your rewards are safe.</div></div><div class="text-center margin-top-20"><button ng-show="letsPlayButton" class="pill-button brightBlue auto" ng-click="retrieving ? endRetrieval() : savePassword()">Let\'s Play!</button></div></div><div ng-switch-when="login"><div ng-show="!pausing && loginStep >= 1 && loginStep <= 3" class="vp-center vp-3x3-images"><div ng-repeat="image in passwordImages[loginStep - 1]" class="pic-container pic-3x3"><img class="password-pic select" src="" ng-src="/images/passwordArt/{{image}}.png" ng-click="loginSelect(image)"></div></div><div ng-show="loginStep === 1 && !pausing && !retrieving" class="margin-top-20 text-center"><button class="pill-button lightYellow auto" ng-click="wrongName()">Wait, I\'m not {{username}}!</button></div><div ng-show="loginStep > 1 || pausing" class="passwordContainer">Your password is:<div class="shown-password-container"><div ng-repeat="i in shownPassword track by $index" class="pic-container"><img class="password-pic display" src="" ng-src="images/passwordArt/whiteAsterisk.png"></div></div></div></div><div ng-switch-when="wrongPassword" class="text-center"><div class="font-24 row fontBlue margin-top-100"><div class="col-xs-8 col-xs-offset-2" ng-show="!lockedOut || retrieving">That\'s not the right password.</div><div class="col-xs-8 col-xs-offset-2" ng-show="lockedOut && !retrieving">You tried your password three times today so you are locked out.</div></div><div class="margin-top-50"><button class="pill-button lightYellow wide" ng-click="wrongName()">Wait, I\'m not {{retrieving ? roster[0].firstName : username}}!</button></div><div ng-show="!retrieving" class="margin-top-20"><button class="pill-button lightYellow wide" ng-click="forgotPassword()">I forgot my password</button></div><div ng-show="!lockedOut || retrieving" class="margin-top-150"><button class="pill-button brightBlue wide" ng-click="startLogin()">Try again</button></div></div><div ng-switch-when="forgotPassword" class="text-center"><div class="row margin-top-100 font-24 fontBlue"><div class="col-xs-8 col-xs-offset-2">Teacher, can we give this student password hints for {{username}}?</div></div><div class="margin-top-20"><button class="pill-button brightBlue wide" ng-click="teacherVerifies()">Okay</button></div><div class="margin-top-20"><button class="pill-button lightYellow wide" ng-click="wrongName()">No, this is not {{username}}</button></div><div class="font-18 fontBlue margin-top-150 row"><div class="col-xs-10 col-xs-offset-1">Note: it’s even easier to give hints and reset passwords from your roster page at www.motionmathgames.com</div></div></div><div ng-switch-when="teacherFailedRetrieval" class="text-center"><div class="row margin-top-100 font-24 fontBlue"><div class="col-xs-10 col-xs-offset-1">{{teacherFailedMessage}}</div></div><div class="row margin-top-50 font-24 fontBlue"><div class="col-xs-10 col-xs-offset-1">Please sign in to your roster page at www.motionmathgames.com to give {{username}} password hints.</div></div><div class="margin-top-50"><button class="pill-button brightBlue auto" ng-click="wrongName()">Back to Roster</button></div></div><div ng-switch-when="startRetrieval" class="text-center"><div class="margin-top-100 font-24 fontBlue">Ready to practice your password?</div><div ng-show="letsPracticeButton" class="margin-top-50"><button class="pill-button brightBlue wide" ng-click="startTraining()">Yes!</button></div></div><div ng-switch-when="postLogin" class="text-center"><div ng-show="postLoginSignal===1"><div class="row margin-top-50 font-24 fontBlue">Welcome to Motion Math!</div><div class="row margin-top-50 font-24 fontBlue"><div class="col-xs-10 col-xs-offset-1">Remember, you should try to play levels that <b class="semibold">challenge</b> you because that’s when you’ll <b class="semibold">learn </b>the most.</div></div><div class="margin-top-50"><button class="pill-button brightBlue wide" ng-click="proceedToGames()">Ok!</button></div></div></div><div ng-switch-when="error" class="text-center"><div class="font-24 fontBlue margin-top-100">We\'re sorry, an error has occurred.</div><div class="margin-top-20"><button class="pill-button teal wide" ng-click="resetAll()" ng-if="!fromApp">Back to Roster</button></div><div class="margin-top-20"><button class="pill-button lightYellow wide" ng-click="logOut()">Log Out</button></div></div></div><div class="logoutBar" ng-if="(page === \'roster\' || page === \'rosters\') && fromApp"><table class="logoutTable"><tr><td class="textCol">You can add or delete students on your teacher dashboard<td class="buttonCol"><button class="pill-button lightYellow auto" ng-click="logOut()">Log Out</button></table></div></div>')}]),angular.module("templates-shared",["/views/shared/partials/dropdown-menu.html","/views/shared/partials/factorsOfLearning.html","/views/shared/partials/mm-dropdown.html","/views/shared/partials/mm-popover.html","/views/shared/partials/motivationScale.html","/views/shared/partials/roster-dropdown.html","/views/shared/partials/status-banner.html","/views/shared/partials/student-play-history.html"]),angular.module("/views/shared/partials/dropdown-menu.html",[]).run(["$templateCache",function(a){a.put("/views/shared/partials/dropdown-menu.html",'<div ng-class="{\'open\': isMenuOpen()}" class="settings-dropdown mm-dropdown ui-select-bootstrap ui-select-container dropdown"><div class="grade-changer-caret ui-select-match"><span class="btn btn-default form-control ui-select-toggle"><span class="ui-select-match-text pull-left"><span class="ui-select-match-text pull-left"><div class="caret-bg ng-scope"></div><span>{{dropdownMenu.name}}</span> </span></span><i class="caret pull-right"></i></span></div><ul class="ui-select-choices ui-select-dropdown dropdown-menu" role="listbox"><li class="ui-select-choices-group"><div class="ui-select-choices-row" ng-repeat="item in dropdownMenu.items track by $index"><a ng-attr-target="{{item.target}}" ng-attr-href="{{item.href}}">{{item.title}}</a></div></ul></div>')}]),angular.module("/views/shared/partials/factorsOfLearning.html",[]).run(["$templateCache",function(a){a.put("/views/shared/partials/factorsOfLearning.html",'<div class="folPage" ng-switch on="state"><loading-animation is-loading="isLoading" no-container="true"></loading-animation><div class="overview" ng-show="state === \'OVERVIEW\'"><div class="container-fluid"><div class="row"><div class="col-sm-5"><div id="fluency-color-key"><div class="item none"><span class="color"></span>Not enough gameplay data</div><div class="item medium"><span class="color"></span>Medium</div><div class="item low"><span class="color"></span>Low</div><div class="item high"><span class="color"></span>High</div></div></div><div class="col-sm-7 text-right"><mm-dropdown class="student-sort mm-dropdown padding-left-10 inline-block" ng-model="options.sortBy" data="sortByOptions" bind-field="sortString" label-field="display" ng-change="printTest()"></mm-dropdown></div></div></div><table class="mmTable folTable" ng-class="{isLoading: isLoading}"><tr><th class="nameColumn">Name<th ng-repeat="factor in folContent.orderedFactors"><a ng-click="showFactorDetails(factor)">{{folContent[factor].name}}</a><div class="calc-explanation">{{folContent[factor].shortDescription}}</div><tr ng-repeat="student in selectedStudents | orderBy:options.sortBy"><td class="nameColumn"><display-student student="student"></display-student><!-- <a ng-click="showStudentDetails(student)"> --><td ng-if="!isEmptyStudent(student)" ng-repeat="factor in folContent.orderedFactors" ng-class="getFactorValue(student, factor)"><td ng-if="isEmptyStudent(student)" colspan="{{folContent.orderedFactors.length}}" class="notEnoughData"></table><pagination ng-if="paginate" total-items="totalItems" ng-model="pagination.currentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages" items-per-page="itemsPerPage"></pagination></div><div class="folDetail container-fluid" ng-switch-when="DETAIL"><div class="row"><div class="col-sm-12"><a class="allStudents" href="" ng-click="returnToOverview()">&lt; All Students</a></div></div><div class="content inClass"><div class="header">{{folContent[selectedFactor].name}} in your classroom</div><div class="row margin-top-20 text-center"><div class="col-sm-4" ng-repeat="level in [\'low\', \'medium\', \'high\']"><div class="studentCol" ng-class="level"><span>{{capitalize(level)}}</span><div class="students"><div ng-repeat="student in studentsAtLevel(level) | orderBy:\'firstName\'"><display-student student="student" inline="true"></display-student></div><!-- <a href="" ng-click="showStudentDetails(student)"></a> --></div></div></div></div><div class="margin-top-10 margin-left-10" ng-if="studentsAtLevel().length > 0"><div class="row"><div class="col-sm-4">Not enough play data: <span ng-repeat="student in studentsAtLevel() | orderBy:\'firstName\'"><display-student student="student" inline="true"></display-student>{{$last ? \'\' : \', \'}}</span></div></div></div></div><div class="header padding-top-40">What is {{folContent[selectedFactor].name}}?</div><div class="content">{{folContent[selectedFactor].description}}</div><div class="content subContent" ng-if="folContent[selectedFactor].components"><ol><li ng-repeat="component in folContent[selectedFactor].components"><span class="subheading">{{component.name}}:</span> {{component.description}}</ol></div><div ng-if="folContent[selectedFactor].suggestions && folContent[selectedFactor].suggestions.length > 0"><div class="header padding-top-40">What you can do to promote {{folContent[selectedFactor].name}}: {{folContent[selectedFactor].suggestions.length}} interventions inspired by research</div><div class="content"><ol><li ng-repeat="point in folContent[selectedFactor].suggestions" ng-bind-html="point.description"></ol></div></div><!--\n        <div ng-if="folContent[selectedFactor].interventions && folContent[selectedFactor].interventions.length > 0">\n            <div class="header padding-top-40">What is Motion Math doing?</div>\n            <div class="content">\n                <div class="intervention" ng-repeat="intervention in folContent[selectedFactor].interventions">\n                    <table>\n                        <tr>\n                            <td><img alt ng-src="/images/interventions/{{folContent.interventions[intervention].icon}}"></td>\n                            <td>\n                                <div class="subheading padding-bottom-10">{{folContent.interventions[intervention].name}}</div>\n                                {{folContent.interventions[intervention].description}}\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n        --><!-- <div class="margin-top-40 row">\n            <div class="col-sm-8 col-sm-offset-2 text-center">\n                Note: Factors of Learning is still in pd. If you have a question about a specific student or a suggestion on how to make the dashboard more useful, please contact <a href="mailto:support@motionmathgames.com">support@motionmathgames.com</a>.\n            </div>\n        </div> --><div class="text-center padding-top-40 padding-bottom-70"><button class="pill-button teal autoHeight auto" ng-click="returnToOverview()">&lt; Back to All Students</button></div></div><script type="text/ng-template" id="folStudentDetails.html"><div class="folPage">\n            <div id="folPrintContent">\n                <div class="modal-header">\n                    <button class="pill-button teal iconButtonFol " ng-click="printStudentFol()">\n                        <span class="glyphicon glyphicon-print"></span>\n                    </button>\n                    <div class="modal-title">{{student.firstName}}\'s Summary</div>\n                    <button class="glyphicon glyphicon-remove" ng-click="close()"></button>\n                </div>\n                <div class="modal-body">\n                    <div class="folTableModal">\n                        <table class="table folTable table-bordered">\n                            <tr>\n                                <td ng-repeat="factor in folContent.orderedFactors" class="gibsonSemibold">\n                                    <a ng-click="showFactorDetails(factor)"> {{folContent[factor].name}} </a>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td ng-if="!isEmptyStudent(student)" ng-repeat="factor in folContent.orderedFactors" ng-class="getFactorValue(student, factor)">\n                                    {{getFactorValue(student, factor)}}\n                                </td>\n                                <td ng-if="isEmptyStudent(student)" colspan="{{folContent.orderedFactors.length}}">Not enough playtime</td>\n                            </tr>\n                        </table>\n                    </div>\n                    <div ng-show="prunedInterventions.length > 0">\n                        <!-- <div class="gibsonSemibold interventionHeader">Motion Math Interventions</div> -->\n                        <div class="italic-text interventionHeader">\n                            <!-- <span ng-if="!usingSampleData">Here are some interventions {{student.firstName}} has seen when playing Motion Math games.</span> -->\n                            <span ng-if="usingSampleData">Here are some examples of interventions that this student might see.</span>\n                        </div>\n                        <table class="table-bordered">\n                            <tr class="interventionItem" ng-repeat="intervention in prunedInterventions">\n                                <td class="imgContainer padding20">\n                                    <img ng-src="/images/interventions/{{intervention.icon}}">\n                                </td>\n                                <td class="infoContainer padding10">\n                                    <p>{{intervention.name}}</p>\n                                    <p class="gibsonLight" style="line-height: 1.25;">{{intervention.description}}</p>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                    <!-- <div ng-show="prunedInterventions.length === 0">\n                        <div>\n                            <p class="interventionHeader gibsonLight">Motion Math interventions help make sure {{student.firstName}} is extracting the full value of Motion Math.</p>\n                        </div>\n                    </div> -->\n                </div>\n            </div>\n        </div></script></div>');
}]),angular.module("/views/shared/partials/mm-dropdown.html",[]).run(["$templateCache",function(a){a.put("/views/shared/partials/mm-dropdown.html",'<ui-select ng-if="data" ng-disabled="ngDisabled" search-enabled="false" on-select="ngChange()" ng-model="selectedItem.selected"><ui-select-match placeholder="Select One..."><span>{{ labelField ? $select.selected.value[labelField] : $select.selected.value }}</span></ui-select-match><ui-select-choices repeat="item as (key, item) in data"><span>{{(labelField ? item.value[labelField] : item.value) || "&nbsp;"}}</span></ui-select-choices></ui-select>')}]),angular.module("/views/shared/partials/mm-popover.html",[]).run(["$templateCache",function(a){a.put("/views/shared/partials/mm-popover.html",'<!--Popover--><div class="popover fade in top" ng-class="[cssClass || \'\']" ng-style="position()"><div class="arrow" ng-style="{\'left\': sidePopover ? \'10%\': \'50%\'};"></div><div class="popover-content"><span ng-if="text" ng-bind-html="text"></span></div></div><ng-transclude></ng-transclude>')}]),angular.module("/views/shared/partials/motivationScale.html",[]).run(["$templateCache",function(a){a.put("/views/shared/partials/motivationScale.html",'<div ng-repeat="factor in factors"><div class="row"><div class="col-sm-1"><span ng-if="selectable"><input type="radio" ng-model="metric.value" name="factor" ng-value="factor.name"></span></div><div class="col-md-1 col-sm-1"><span class="glyphicon glyphicon-triangle-right" ng-click="showSub = !showSub" ng-show="!showSub && factor.subs.length > 0"></span> <span class="glyphicon glyphicon-triangle-bottom" ng-click="showSub = !showSub" ng-show="showSub && factor.subs.length > 0"></span></div><div class="col-md-4 col-sm-4">{{ factor.label }}</div><div class="col-md-6 col-sm-6"><div class="row"><div class="progress col-sm-10" style="padding:0"><div class="progress-bar" role="progressbar" aria-valuenow="{{ ( factor.value * 100) | number:0 }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ ( factor.value * 100) | number:0 }}%;background-color: {{ factor.value | factorColor}}"></div></div><div class="col-sm-2"><i class="glyphicon glyphicon-info-sign" style="float: right; color: #3366ff; cursor: pointer" mm-popover text="{{factor.description}}"></i></div></div></div></div><div class="row" ng-repeat="sub in factor.subs" ng-show="showSub"><div class="col-md-2 col-sm-2"></div><div class="col-md-4 col-sm-4">{{ sub.label }}</div><div class="col-md-6 col-sm-6"><div class="row"><div class="progress col-sm-10" style="padding:0"><div class="progress-bar" role="progressbar" aria-valuenow="{{ ( sub.value * 100) | number:0 }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ ( sub.value * 100) | number:0 }}%;background-color: {{ sub.value | factorColor}}"></div></div><div class="col-sm-2"><i class="glyphicon glyphicon-info-sign" style="float: right; color: #3366ff; cursor: pointer" mm-popover text="{{sub.description}}"></i></div></div></div></div></div>')}]),angular.module("/views/shared/partials/roster-dropdown.html",[]).run(["$templateCache",function(a){a.put("/views/shared/partials/roster-dropdown.html",'<div class="rosterName text-center font-18" ng-class="{\'margin-bottom-20\': singleRosterBehavior !== \'hidden\' || multipleRosters}"><mm-dropdown ng-if="multipleRosters" class="mm-dropdown" ng-class="{\'rosterPage\': singleRosterBehavior !== \'hidden\'}" label-field="name" bind-field="rosterId" data="rosterService.getAllRosters(teacherId)" ng-model="rosterService.rosterData[teacherId].selectedRoster" ng-change="ngChange()"></mm-dropdown><span ng-if="singleRosterBehavior !== \'hidden\' && !multipleRosters">{{selectedRosterName || "&nbsp;"}}</span></div>')}]),angular.module("/views/shared/partials/status-banner.html",[]).run(["$templateCache",function(a){a.put("/views/shared/partials/status-banner.html",'<div ng-if="inAdminMode" ng-class="isLoggedInAsMMUser ? \'status-banner-root-mm-user\' : \'status-banner-root\'"><div id="status-banner" ng-class="environment==\'production\' ? \'alert alert-danger\' : (environment==\'staging\' ? \'alert alert-info\' : \'alert alert-success\')"><table><tr><td class="logo"><img alt="Motion Math logo" src="/images/Motion Math Logo_600x500_trans_preview.png"><td style="width:100%"><span ng-if="environment==\'production\'">Warning!&nbsp;&nbsp;</span>You are in Administrative mode for <b>{{environment}}</b><span ng-if="environment==\'production\'">!</span><td ng-if="isLoggedInAsUser || isLoggedInAsMMUser" style="width:100%;text-align:right"><button class="btn btn-inverse" onclick="window.location=\'/WWhAOrOpaElo3k8OUVZSWN6XGh2bK973dPJw4nxCuhQxOOuerNGDLRFUYPne.html#/main\'">Back to Admin Console</button><td ng-if="isManagingUser" style="width:100%;text-align:right"><button class="btn btn-inverse" ng-click="browse()">Back to Browse</button><td ng-if="isLoggedInAsAdmin" style="width:100%;text-align:right"><button class="btn btn-inverse" ng-click="adminLogout()">Logout</button></table></div></div>')}]),angular.module("/views/shared/partials/student-play-history.html",[]).run(["$templateCache",function(a){a.put("/views/shared/partials/student-play-history.html",'<div ng-if="groupedStats"><div class="h4">Player History for Student: {{player.name}}, Condition {{metagamePartition}}</div><div ng-repeat="day in days" style="padding-top: 10px"><span class="h5" style="font-weight: bold">{{day | date : \'M/d/yyyy\'}}</span><div ng-repeat="stat in groupedStats[day] | orderBy: \'timestamp\'"><div ng-if="stat.statType==\'stat\'" class="historyItem"><div ng-if="stat.pageData.brainMode && stat.pageData.brainMode[0].showedIntro">{{player.name}} is forced into <b>Brain Mode</b> intervention.</div>{{player.name}} sees {{stat.pageData.pageTitle}} screen <span ng-if="stat.pageData.options">with options {{stat.pageData.options.join(\', \')}}</span> <span ng-if="stat.pageData.andTaps">and taps {{stat.pageData.andTaps}}</span> <span ng-if="stat.pageData.hasZPC">(has ZPC)</span><div ng-if="stat.pageData.response" style="padding-left: 10px">Intervention response: <i>"{{stat.pageData.response}}"</i></div><div ng-if="stat.pageData.brainMode && !stat.pageData.brainMode[0].showedIntro">{{player.name}} opened the <b>Brain Mode</b> intervention.</div></div><div ng-if="stat.statType==\'level\'" class="historyItem">{{player.name}} plays Difficulty {{stat.levelNum}}, {{stat.levelMode}} {{stat.levelOperationType}} and {{stat.levelResultType}}</div></div></div></div>')}]);